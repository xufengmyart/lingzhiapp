# çµå€¼ç”Ÿæ€å›­ - ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ (my_user)

> **ç‰ˆæœ¬**: v1.0
> **å‘å¸ƒæ—¥æœŸ**: 2026å¹´1æœˆ25æ—¥
> **ç±»å‹**: åŸºäºåˆä¼™äººæ¨¡å¼çš„ç”¨æˆ·æ ¸å¿ƒç®¡ç†æ¨¡å—

---

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
3. [æ¨¡å—æ¶æ„](#æ¨¡å—æ¶æ„)
4. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
5. [APIæ¥å£æ–‡æ¡£](#apiæ¥å£æ–‡æ¡£)
6. [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ç³»ç»Ÿæ¦‚è¿°

### ä»€ä¹ˆæ˜¯ my_userï¼Ÿ

**my_user** æ˜¯çµå€¼ç”Ÿæ€å›­çš„ç”¨æˆ·ç®¡ç†æ ¸å¿ƒæ¨¡å—ï¼ŒåŸºäº**åˆä¼™äººæ¨¡å¼**è®¾è®¡ï¼Œå®ç°äº†ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š

- âœ… **ç”¨æˆ·ç®¡ç†**: ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ç®¡ç†
- âœ… **è´¡çŒ®å€¼ç®¡ç†**: è´¡çŒ®å€¼çš„è·å–ã€æ¶ˆè€—ã€æµè½¬
- âœ… **ä¼šå‘˜çº§åˆ«ç³»ç»Ÿ**: 5çº§ä¼šå‘˜ä½“ç³»ï¼ˆè¯•ç”¨â†’åŸºç¡€â†’æ ‡å‡†â†’é«˜çº§â†’ä¸“å®¶ï¼‰
- âœ… **æ¨èå’Œä½£é‡‘ç³»ç»Ÿ**: å¤šçº§æ¨èã€ä½£é‡‘åˆ†é…ã€åˆ†çº¢æ± è´¡çŒ®
- âœ… **é¡¹ç›®å‚ä¸ç³»ç»Ÿ**: é¡¹ç›®æŠ•èµ„ã€åˆ©æ¶¦åˆ†é…ã€å¥–åŠ±æœºåˆ¶
- âœ… **åˆ†çº¢è‚¡æƒç³»ç»Ÿ**: ä¸“å®¶è‚¡æƒæˆäºˆã€åˆ†çº¢åˆ†é…ã€æƒç›Šç®¡ç†

### æ ¸å¿ƒä»·å€¼

**my_user** ä¸ä»…ä»…æ˜¯ç”¨æˆ·ç®¡ç†ï¼Œæ›´æ˜¯**ç”Ÿæ€å‚ä¸**çš„æ ¸å¿ƒï¼š

1. **è´¡çŒ®å€¼ç”Ÿæ€å¾ªç¯**: ç”¨æˆ·é€šè¿‡ä»»åŠ¡ã€è½¬è¯‘ã€é¡¹ç›®è·å¾—è´¡çŒ®å€¼ï¼Œä½¿ç”¨è½¬è¯‘æœåŠ¡æ¶ˆè€—è´¡çŒ®å€¼ï¼Œå½¢æˆç”Ÿæ€å¾ªç¯
2. **ä¼šå‘˜å‡çº§æœºåˆ¶**: ç”¨æˆ·é€šè¿‡è´¡çŒ®å€¼ç§¯ç´¯å’Œå›¢é˜Ÿæ‰©å¼ ï¼Œå‡çº§ä¼šå‘˜çº§åˆ«ï¼Œè·å¾—æ›´é«˜æƒç›Š
3. **æ¨èå¥–åŠ±æœºåˆ¶**: ç”¨æˆ·æ¨èæ–°ç”¨æˆ·ï¼Œè·å¾—æ¨èå¥–åŠ±ï¼Œå½¢æˆè£‚å˜å¢é•¿
4. **é¡¹ç›®å‚ä¸æœºåˆ¶**: ç”¨æˆ·ä½¿ç”¨è´¡çŒ®å€¼å‚ä¸é¡¹ç›®ï¼Œè·å¾—é«˜é¢å›æŠ¥ï¼Œå®ç°è´¢å¯Œå¢é•¿
5. **ä¸“å®¶è‚¡æƒæœºåˆ¶**: ç”¨æˆ·å‡çº§åˆ°ä¸“å®¶çº§åˆ«ï¼Œè·å¾—è‚¡æƒï¼Œäº«å—é•¿æœŸåˆ†çº¢

### ç›®æ ‡ç”¨æˆ·

- **æ–°ç”¨æˆ·**: å…è´¹ä½“éªŒï¼Œå¿«é€Ÿè·å¾—è´¡çŒ®å€¼
- **æ™®é€šç”¨æˆ·**: é€šè¿‡ä»»åŠ¡å’Œè½¬è¯‘æœåŠ¡è·å¾—è´¡çŒ®å€¼
- **åˆä¼™äºº**: é€šè¿‡æ¨èè·å¾—ä½£é‡‘ï¼Œé€šè¿‡é¡¹ç›®è·å¾—é«˜å›æŠ¥
- **ä¸“å®¶**: è·å¾—è‚¡æƒï¼Œäº«å—é•¿æœŸåˆ†çº¢

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. ç”¨æˆ·ç®¡ç†

#### åŠŸèƒ½æè¿°
æä¾›å®Œæ•´çš„ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒ…æ‹¬æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯æ›´æ–°ã€åˆ é™¤ç­‰ã€‚

#### æ ¸å¿ƒç‰¹æ€§
- ç”¨æˆ·æ³¨å†Œï¼šé‚®ç®±å”¯ä¸€ã€è‡ªåŠ¨åˆå§‹åŒ–ä¼šå‘˜çº§åˆ«
- ç”¨æˆ·ä¿¡æ¯ç®¡ç†ï¼šå§“åã€ç”µè¯ã€å¾®ä¿¡ã€éƒ¨é—¨ã€èŒä½ç­‰
- ç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼šæ´»è·ƒã€éæ´»è·ƒã€é”å®šã€æš‚åœ
- å®¡è®¡æ—¥å¿—ï¼šè®°å½•æ‰€æœ‰ç”¨æˆ·æ“ä½œ

#### ä½¿ç”¨åœºæ™¯
- æ–°ç”¨æˆ·æ³¨å†Œå¹¶è·å¾—100è´¡çŒ®å€¼å¯åŠ¨èµ„é‡‘
- ç®¡ç†å‘˜æ›´æ–°ç”¨æˆ·ä¿¡æ¯å’ŒçŠ¶æ€
- ç”¨æˆ·æŸ¥çœ‹è‡ªå·±çš„è´¡çŒ®å€¼å’Œçº§åˆ«

### 2. è´¡çŒ®å€¼ç®¡ç†

#### åŠŸèƒ½æè¿°
è´¡çŒ®å€¼æ˜¯ç”Ÿæ€çš„æ ¸å¿ƒè´§å¸ï¼Œç”¨äºæœåŠ¡æ”¯ä»˜ã€é¡¹ç›®å‚ä¸ã€å¥–åŠ±å‘æ”¾ç­‰ã€‚

#### æ ¸å¿ƒç‰¹æ€§
- è´¡çŒ®å€¼è·å–ï¼šä»»åŠ¡å¥–åŠ±ã€è½¬è¯‘å¥–åŠ±ã€é¡¹ç›®å¥–åŠ±ã€æ¨èä½£é‡‘ã€åˆ†çº¢
- è´¡çŒ®å€¼æ¶ˆè€—ï¼šè½¬è¯‘æœåŠ¡ã€é¡¹ç›®å‚ä¸ã€çº§åˆ«å‡çº§
- è´¡çŒ®å€¼æµè½¬ï¼šé€šè¿‡äº¤æ˜“å®ç°ä»·å€¼æµè½¬
- äº¤æ˜“è®°å½•ï¼šå®Œæ•´çš„äº¤æ˜“å†å²å’Œå®¡è®¡æ—¥å¿—

#### ä½¿ç”¨åœºæ™¯
- æ–°ç”¨æˆ·è·å¾—100è´¡çŒ®å€¼å¯åŠ¨èµ„é‡‘
- ç”¨æˆ·æ¶ˆè€—è´¡çŒ®å€¼ä½¿ç”¨è½¬è¯‘æœåŠ¡
- é¡¹ç›®æˆåŠŸåï¼Œç”¨æˆ·è·å¾—é«˜é¢è´¡çŒ®å€¼å¥–åŠ±

### 3. ä¼šå‘˜çº§åˆ«ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
5çº§ä¼šå‘˜ä½“ç³»ï¼Œç”¨æˆ·é€šè¿‡è´¡çŒ®å€¼ç§¯ç´¯å’Œå›¢é˜Ÿæ‰©å¼ å‡çº§ï¼Œè·å¾—ä¸åŒæƒç›Šã€‚

#### çº§åˆ«å®šä¹‰

| çº§åˆ« | è´¡çŒ®å€¼è¦æ±‚ | å›¢é˜Ÿæˆå‘˜ | ä½£é‡‘æ¯”ä¾‹ | åˆ†çº¢è‚¡æƒ | ä¸»è¦æƒç›Š |
|------|-----------|---------|---------|---------|---------|
| è¯•ç”¨ä¼šå‘˜ | 0 | 0 | 5% | 0% | å…è´¹ä½“éªŒ |
| åŸºç¡€ä¼šå‘˜ | 1000 | 5 | 10% | 0% | åŸºç¡€æœåŠ¡ |
| æ ‡å‡†ä¼šå‘˜ | 5000 | 20 | 15% | 0% | æ ‡å‡†æœåŠ¡ |
| é«˜çº§ä¼šå‘˜ | 20000 | 50 | 20% | 0% | é«˜çº§æœåŠ¡ |
| ä¸“å®¶ä¼šå‘˜ | 100000 | 100 | 25% | 0.1% | ä¸“å®¶æœåŠ¡+è‚¡æƒ |

#### ä½¿ç”¨åœºæ™¯
- ç”¨æˆ·é€šè¿‡è´¡çŒ®å€¼ç§¯ç´¯å’Œå›¢é˜Ÿæ‰©å¼ å‡çº§
- é«˜çº§åˆ«ç”¨æˆ·è·å¾—æ›´é«˜çš„ä½£é‡‘æ¯”ä¾‹
- ä¸“å®¶çº§åˆ«ç”¨æˆ·è·å¾—è‚¡æƒå’Œåˆ†çº¢

### 4. æ¨èå’Œä½£é‡‘ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
å¤šçº§æ¨èæœºåˆ¶ï¼Œæ¨èäººè·å¾—ä½£é‡‘ï¼ŒåŒæ—¶5%ä½£é‡‘è¿›å…¥åˆ†çº¢æ± ã€‚

#### æ ¸å¿ƒç‰¹æ€§
- æ¨èç ç”Ÿæˆï¼šè‡ªåŠ¨ç”Ÿæˆå”¯ä¸€æ¨èç 
- æ¨èå…³ç³»ï¼šç›´æ¥æ¨èã€é—´æ¥æ¨è
- ä½£é‡‘è®¡ç®—ï¼šåŸºäºä¼šå‘˜çº§åˆ«çš„ä½£é‡‘æ¯”ä¾‹
- åˆ†çº¢æ± è´¡çŒ®ï¼š5%ä½£é‡‘è‡ªåŠ¨è¿›å…¥åˆ†çº¢æ± 
- æ¨èæ ‘ï¼šå¯è§†åŒ–æ¨èå…³ç³»æ ‘

#### ä½¿ç”¨åœºæ™¯
- ç”¨æˆ·æ¨èæ–°ç”¨æˆ·æ³¨å†Œï¼Œè·å¾—50è´¡çŒ®å€¼å¥–åŠ±
- æ–°ç”¨æˆ·é€šè¿‡æ¨èç æ³¨å†Œï¼Œè·å¾—100è´¡çŒ®å€¼å¥–åŠ±
- é¡¹ç›®å‚ä¸äº§ç”Ÿä½£é‡‘ï¼Œæ¨èäººè·å¾—åˆ†æˆ

### 5. é¡¹ç›®å‚ä¸ç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
ç”¨æˆ·ä½¿ç”¨è´¡çŒ®å€¼å‚ä¸é¡¹ç›®ï¼Œé¡¹ç›®æˆåŠŸåè·å¾—é«˜é¢å›æŠ¥ã€‚

#### æ ¸å¿ƒç‰¹æ€§
- é¡¹ç›®åˆ›å»ºï¼šé¡¹ç›®ç±»å‹ã€æŠ•èµ„é¢ã€åˆ©æ¶¦åˆ†é…æ¯”ä¾‹
- é¡¹ç›®å‚ä¸ï¼šè´¡çŒ®å€¼æ¶ˆè€—ã€å è‚¡æ¯”ä¾‹è®¡ç®—
- åˆ©æ¶¦åˆ†é…ï¼šæŒ‰å è‚¡æ¯”ä¾‹åˆ†é…åˆ©æ¶¦
- é¡¹ç›®ç»Ÿè®¡ï¼šæŠ•èµ„è¿›åº¦ã€æ”¶ç›Šç»Ÿè®¡

#### ä½¿ç”¨åœºæ™¯
- ç”¨æˆ·æ¶ˆè€—è´¡çŒ®å€¼å‚ä¸é¡¹ç›®
- é¡¹ç›®æˆåŠŸåï¼Œç”¨æˆ·è·å¾—é«˜é¢è´¡çŒ®å€¼å¥–åŠ±
- ç”¨æˆ·æŸ¥çœ‹é¡¹ç›®å‚ä¸å†å²å’Œæ”¶ç›Š

### 6. åˆ†çº¢è‚¡æƒç³»ç»Ÿ

#### åŠŸèƒ½æè¿°
ä¸“å®¶çº§åˆ«ç”¨æˆ·è·å¾—è‚¡æƒï¼Œäº«å—é•¿æœŸåˆ†çº¢ã€‚

#### æ ¸å¿ƒç‰¹æ€§
- åˆ†çº¢æ± ç®¡ç†ï¼šæ€»æ± ã€å¯ç”¨æ± ã€å·²åˆ†é…æ± 
- è‚¡æƒæˆäºˆï¼šä¸“å®¶çº§åˆ«è‡ªåŠ¨æˆäºˆè‚¡æƒ
- åˆ†çº¢åˆ†é…ï¼šæŒ‰è‚¡æƒæ¯”ä¾‹åˆ†é…åˆ†çº¢
- åˆ†çº¢è®°å½•ï¼šå®Œæ•´çš„åˆ†çº¢å†å²

#### ä½¿ç”¨åœºæ™¯
- ç”¨æˆ·å‡çº§åˆ°ä¸“å®¶çº§åˆ«ï¼Œè·å¾—è‚¡æƒ
- åˆ†çº¢æ± å®šæœŸåˆ†é…åˆ†çº¢ï¼Œç”¨æˆ·è·å¾—é•¿æœŸæ”¶ç›Š
- ç”¨æˆ·æŸ¥çœ‹è‚¡æƒå’Œåˆ†çº¢è®°å½•

---

## æ¨¡å—æ¶æ„

### æ ¸å¿ƒæ¨¡å—

```
my_user/
â”œâ”€â”€ my_user.py              # ç”¨æˆ·ç®¡ç†æ ¸å¿ƒæ¨¡å—
â”œâ”€â”€ referral_manager.py     # æ¨èå’Œä½£é‡‘ç®¡ç†
â”œâ”€â”€ project_manager.py      # é¡¹ç›®å‚ä¸å’Œå¥–åŠ±ç®¡ç†
â”œâ”€â”€ dividend_manager.py     # åˆ†çº¢è‚¡æƒç®¡ç†
â””â”€â”€ user_management_api.py  # ç»Ÿä¸€APIæ¥å£
```

### æ¨¡å—å…³ç³»

```
my_user.py (æ ¸å¿ƒ)
    â”œâ”€â”€ å¼•ç”¨: models_extended.py (æ•°æ®åº“æ¨¡å‹)
    â”œâ”€â”€ è¢«å¼•ç”¨: referral_manager.py
    â”œâ”€â”€ è¢«å¼•ç”¨: project_manager.py
    â””â”€â”€ è¢«å¼•ç”¨: dividend_manager.py

referral_manager.py (æ¨èç®¡ç†)
    â”œâ”€â”€ å¼•ç”¨: my_user.py
    â””â”€â”€ è¢«å¼•ç”¨: user_management_api.py

project_manager.py (é¡¹ç›®ç®¡ç†)
    â”œâ”€â”€ å¼•ç”¨: my_user.py
    â””â”€â”€ è¢«å¼•ç”¨: user_management_api.py

dividend_manager.py (åˆ†çº¢ç®¡ç†)
    â”œâ”€â”€ å¼•ç”¨: my_user.py
    â””â”€â”€ è¢«å¼•ç”¨: user_management_api.py

user_management_api.py (APIæ¥å£)
    â”œâ”€â”€ å¼•ç”¨: my_user.py
    â”œâ”€â”€ å¼•ç”¨: referral_manager.py
    â”œâ”€â”€ å¼•ç”¨: project_manager.py
    â””â”€â”€ å¼•ç”¨: dividend_manager.py
```

### æ•°æ®æµ

```
ç”¨æˆ·æ³¨å†Œ â†’ my_user.py â†’ åˆ›å»ºç”¨æˆ· â†’ åˆå§‹åŒ–ä¼šå‘˜çº§åˆ«
    â†“
æ¨èæ–°ç”¨æˆ· â†’ referral_manager.py â†’ åˆ›å»ºæ¨èå…³ç³» â†’ å¥–åŠ±è´¡çŒ®å€¼
    â†“
å‚ä¸é¡¹ç›® â†’ project_manager.py â†’ æ¶ˆè€—è´¡çŒ®å€¼ â†’ è®¡ç®—å è‚¡ â†’ è®°å½•å‚ä¸
    â†“
é¡¹ç›®æˆåŠŸ â†’ project_manager.py â†’ åˆ†é…åˆ©æ¶¦ â†’ å¥–åŠ±è´¡çŒ®å€¼
    â†“
å‡çº§ä¸“å®¶ â†’ my_user.py â†’ æˆäºˆè‚¡æƒ â†’ dividend_manager.py
    â†“
åˆ†çº¢åˆ†é… â†’ dividend_manager.py â†’ åˆ†é…åˆ†çº¢ â†’ å¥–åŠ±è´¡çŒ®å€¼
```

---

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install flask sqlalchemy
```

### 2. å¯åŠ¨APIæœåŠ¡

```bash
cd çµå€¼ç”Ÿæ€å›­æ™ºèƒ½ä½“ç§»æ¤åŒ…/src/auth
python user_management_api.py
```

### 3. æµ‹è¯•API

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:5000/api/health

# ç³»ç»Ÿä¿¡æ¯
curl http://localhost:5000/api/info
```

### 4. åˆ›å»ºç”¨æˆ·

```bash
curl -X POST http://localhost:5000/api/user \
  -H "Content-Type: application/json" \
  -d '{
    "name": "æµ‹è¯•ç”¨æˆ·",
    "email": "test@example.com",
    "password_hash": "hashed_password",
    "phone": "13800138000"
  }'
```

---

## APIæ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:5000`
- **æ•°æ®æ ¼å¼**: JSON
- **å“åº”æ ¼å¼**: 
  ```json
  {
    "success": true,
    "data": {...},
    "message": "æ“ä½œæˆåŠŸ",
    "timestamp": "2026-01-25T20:00:00"
  }
  ```

### ç”¨æˆ·ç®¡ç†API

#### åˆ›å»ºç”¨æˆ·

**è¯·æ±‚**:
```http
POST /api/user
Content-Type: application/json

{
  "name": "ç”¨æˆ·å§“å",
  "email": "user@example.com",
  "password_hash": "åŠ å¯†åçš„å¯†ç ",
  "phone": "13800138000",
  "wechat": "wechat_id",
  "department": "éƒ¨é—¨",
  "position": "èŒä½",
  "created_by": 1
}
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "user_id": 1,
    "name": "ç”¨æˆ·å§“å",
    "email": "user@example.com"
  },
  "message": "ç”¨æˆ·åˆ›å»ºæˆåŠŸ"
}
```

#### è·å–ç”¨æˆ·ä¿¡æ¯

**è¯·æ±‚**:
```http
GET /api/user/1
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "id": 1,
    "name": "ç”¨æˆ·å§“å",
    "email": "user@example.com",
    "phone": "13800138000",
    "wechat": "wechat_id",
    "department": "éƒ¨é—¨",
    "position": "èŒä½",
    "status": "active",
    "created_at": "2026-01-25T20:00:00"
  }
}
```

#### è·å–è´¡çŒ®å€¼

**è¯·æ±‚**:
```http
GET /api/user/1/contribution
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "user_id": 1,
    "contribution_value": 100.0
  }
}
```

#### å¢åŠ è´¡çŒ®å€¼

**è¯·æ±‚**:
```http
POST /api/user/1/contribution/add
Content-Type: application/json

{
  "amount": 50.0,
  "transaction_type": "task_reward",
  "description": "æ–°æ‰‹ä»»åŠ¡å¥–åŠ±"
}
```

**å“åº”**:
```json
{
  "success": true,
  "message": "è´¡çŒ®å€¼å¢åŠ æˆåŠŸ"
}
```

#### æ¶ˆè€—è´¡çŒ®å€¼

**è¯·æ±‚**:
```http
POST /api/user/1/contribution/consume
Content-Type: application/json

{
  "amount": 10.0,
  "transaction_type": "translation_service",
  "description": "ä½¿ç”¨è½¬è¯‘æœåŠ¡"
}
```

**å“åº”**:
```json
{
  "success": true,
  "message": "è´¡çŒ®å€¼æ¶ˆè€—æˆåŠŸ"
}
```

### æ¨èç®¡ç†API

#### åˆ›å»ºæ¨èå…³ç³»

**è¯·æ±‚**:
```http
POST /api/referral
Content-Type: application/json

{
  "referrer_id": 1,
  "referee_id": 2,
  "project_id": 1
}
```

**å“åº”**:
```json
{
  "success": true,
  "message": "æ¨èå…³ç³»åˆ›å»ºæˆåŠŸ"
}
```

#### è·å–æ¨èç»Ÿè®¡

**è¯·æ±‚**:
```http
GET /api/user/1/referral/stats
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "user_id": 1,
    "direct_referrals": 10,
    "total_commission": 5000.0,
    "pending_commission": 1000.0,
    "commission_rate": 0.1
  }
}
```

### é¡¹ç›®ç®¡ç†API

#### åˆ›å»ºé¡¹ç›®

**è¯·æ±‚**:
```http
POST /api/project
Content-Type: application/json

{
  "project_name": "å”é£èŒ¶é¦†å“ç‰ŒIPé¡¹ç›®",
  "project_code": "TFCT001",
  "description": "å°†å”ä»£èŒ¶æ–‡åŒ–è½¬åŒ–ä¸ºç°ä»£èŒ¶é¦†å“ç‰ŒIP",
  "project_type": "cultural",
  "total_investment": 1000000,
  "profit_distribution_rate": 0.8,
  "min_participation_amount": 1000,
  "max_participants": 100
}
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "project_id": 1,
    "project_name": "å”é£èŒ¶é¦†å“ç‰ŒIPé¡¹ç›®",
    "project_code": "TFCT001"
  },
  "message": "é¡¹ç›®åˆ›å»ºæˆåŠŸ"
}
```

#### å‚ä¸é¡¹ç›®

**è¯·æ±‚**:
```http
POST /api/project/1/participate
Content-Type: application/json

{
  "user_id": 1,
  "participation_amount": 5000
}
```

**å“åº”**:
```json
{
  "success": true,
  "message": "é¡¹ç›®å‚ä¸æˆåŠŸ"
}
```

### åˆ†çº¢ç®¡ç†API

#### åˆ›å»ºåˆ†çº¢æ± 

**è¯·æ±‚**:
```http
POST /api/dividend-pool
Content-Type: application/json

{
  "pool_name": "ä¸“å®¶åˆ†çº¢æ± ",
  "pool_type": "expert",
  "initial_amount": 100000
}
```

**å“åº”**:
```json
{
  "success": true,
  "data": {
    "pool_id": 1,
    "pool_name": "ä¸“å®¶åˆ†çº¢æ± "
  },
  "message": "åˆ†çº¢æ± åˆ›å»ºæˆåŠŸ"
}
```

#### åˆ†é…åˆ†çº¢

**è¯·æ±‚**:
```http
POST /api/dividend-pool/1/distribute
Content-Type: application/json

{
  "distribution_amount": 10000
}
```

**å“åº”**:
```json
{
  "success": true,
  "message": "åˆ†çº¢åˆ†é…æˆåŠŸ"
}
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šç”¨æˆ·æ³¨å†Œå’Œè´¡çŒ®å€¼å¥–åŠ±

```python
from src.auth.my_user import MyUser, TransactionType

# åˆ›å»ºç”¨æˆ·
with MyUser() as user_mgr:
    # æ³¨å†Œç”¨æˆ·
    user = user_mgr.create_user(
        name="å¼ ä¸‰",
        email="zhangsan@example.com",
        password_hash="hashed_password",
        phone="13800138000"
    )
    
    if user:
        print(f"ç”¨æˆ·åˆ›å»ºæˆåŠŸ: {user.name} (ID: {user.id})")
        
        # æ–°æ‰‹ä»»åŠ¡å¥–åŠ±ï¼ˆè‡ªåŠ¨å¥–åŠ±100è´¡çŒ®å€¼ï¼‰
        user_mgr.add_contribution(
            user.id,
            100.0,
            TransactionType.TASK_REWARD,
            "æ–°æ‰‹ä»»åŠ¡å¥–åŠ±"
        )
        
        # æŸ¥çœ‹è´¡çŒ®å€¼
        contribution = user_mgr.get_contribution_value(user.id)
        print(f"å½“å‰è´¡çŒ®å€¼: {contribution}")
```

### ç¤ºä¾‹2ï¼šæ¨èæ–°ç”¨æˆ·

```python
from src.auth.referral_manager import ReferralManager

# æ¨èæ–°ç”¨æˆ·
with ReferralManager() as ref_mgr:
    # åˆ›å»ºæ¨èå…³ç³»
    success = ref_mgr.create_referral_relationship(
        referrer_id=1,  # æ¨èäººID
        referee_id=2,   # è¢«æ¨èäººID
        project_id=1    # å…³è”é¡¹ç›®ID
    )
    
    if success:
        # è·å–æ¨èç»Ÿè®¡
        stats = ref_mgr.get_referral_stats(1)
        print(f"æ¨èç»Ÿè®¡: {stats}")
```

### ç¤ºä¾‹3ï¼šå‚ä¸é¡¹ç›®

```python
from src.auth.project_manager import ProjectManager
from decimal import Decimal

# å‚ä¸é¡¹ç›®
with ProjectManager() as proj_mgr:
    # å‚ä¸é¡¹ç›®ï¼ˆæ¶ˆè€—è´¡çŒ®å€¼ï¼‰
    success = proj_mgr.participate_project(
        user_id=1,
        project_id=1,
        participation_amount=Decimal("5000")  # å‚ä¸5000å…ƒ
    )
    
    if success:
        # è·å–é¡¹ç›®ç»Ÿè®¡
        stats = proj_mgr.get_project_stats(1)
        print(f"é¡¹ç›®ç»Ÿè®¡: {stats}")
```

### ç¤ºä¾‹4ï¼šå‡çº§åˆ°ä¸“å®¶çº§åˆ«

```python
from src.auth.my_user import MyUser

# å‡çº§ä¼šå‘˜çº§åˆ«
with MyUser() as user_mgr:
    # æ£€æŸ¥å‡çº§æ¡ä»¶
    eligible, reason = user_mgr.check_level_upgrade_eligibility(1)
    
    if eligible:
        # å‡çº§åˆ°ä¸“å®¶çº§åˆ«
        success = user_mgr.upgrade_member_level(
            user_id=1,
            target_level_id=5,  # ä¸“å®¶çº§åˆ«ID
            approved_by=1,      # å®¡æ‰¹äººID
            reason="è´¡çŒ®å€¼å’Œå›¢é˜Ÿæ•°é‡è¾¾æ ‡"
        )
        
        if success:
            print("ä¼šå‘˜çº§åˆ«å‡çº§æˆåŠŸï¼")
    else:
        print(f"ä¸ç¬¦åˆå‡çº§æ¡ä»¶: {reason}")
```

---

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•å¿«é€Ÿè·å¾—è´¡çŒ®å€¼ï¼Ÿ

**A**: æœ‰å¤šç§æ–¹å¼å¯ä»¥å¿«é€Ÿè·å¾—è´¡çŒ®å€¼ï¼š

1. **æ–°æ‰‹ä»»åŠ¡**: æ³¨å†Œåè‡ªåŠ¨è·å¾—100è´¡çŒ®å€¼
2. **æ¨èå¥–åŠ±**: æ¨èæ–°ç”¨æˆ·è·å¾—50è´¡çŒ®å€¼
3. **è½¬è¯‘å¥–åŠ±**: ä½¿ç”¨è½¬è¯‘æœåŠ¡ï¼Œè´¨é‡åˆæ ¼è·å¾—å¥–åŠ±
4. **é¡¹ç›®å¥–åŠ±**: å‚ä¸é¡¹ç›®ï¼Œé¡¹ç›®æˆåŠŸè·å¾—é«˜é¢å¥–åŠ±

### Q2: è´¡çŒ®å€¼å¦‚ä½•å…‘æ¢ä¸ºäººæ°‘å¸ï¼Ÿ

**A**: è´¡çŒ®å€¼çš„ä»·å€¼é”šå®šï¼š

- **1è´¡çŒ®å€¼ = 0.1å…ƒäººæ°‘å¸**
- **100è´¡çŒ®å€¼ = 10å…ƒäººæ°‘å¸**
- **1000è´¡çŒ®å€¼ = 100å…ƒäººæ°‘å¸**

### Q3: å¦‚ä½•å‡çº§ä¼šå‘˜çº§åˆ«ï¼Ÿ

**A**: ä¼šå‘˜çº§åˆ«å‡çº§æ¡ä»¶ï¼š

1. **è´¡çŒ®å€¼è¦æ±‚**: è¾¾åˆ°æœ€ä½è´¡çŒ®å€¼
2. **å›¢é˜Ÿè¦æ±‚**: è¾¾åˆ°æœ€ä½å›¢é˜Ÿæˆå‘˜æ•°
3. **å®¡æ‰¹æµç¨‹**: éœ€è¦ç®¡ç†å‘˜å®¡æ‰¹

å‡çº§åä¼šè‡ªåŠ¨æå‡ä½£é‡‘æ¯”ä¾‹ï¼Œä¸“å®¶çº§åˆ«è¿˜ä¼šè·å¾—è‚¡æƒã€‚

### Q4: ä½£é‡‘å¦‚ä½•è®¡ç®—ï¼Ÿ

**A**: ä½£é‡‘è®¡ç®—å…¬å¼ï¼š

```
ä½£é‡‘é‡‘é¢ = äº¤æ˜“é‡‘é¢ Ã— ä½£é‡‘æ¯”ä¾‹
åˆ†çº¢æ± è´¡çŒ® = ä½£é‡‘é‡‘é¢ Ã— 5%
```

ä½£é‡‘æ¯”ä¾‹åŸºäºä¼šå‘˜çº§åˆ«ï¼š
- è¯•ç”¨ä¼šå‘˜: 5%
- åŸºç¡€ä¼šå‘˜: 10%
- æ ‡å‡†ä¼šå‘˜: 15%
- é«˜çº§ä¼šå‘˜: 20%
- ä¸“å®¶ä¼šå‘˜: 25%

### Q5: é¡¹ç›®å‚ä¸æœ‰ä»€ä¹ˆé£é™©ï¼Ÿ

**A**: é¡¹ç›®å‚ä¸é£é™©ï¼š

- **è´¡çŒ®å€¼æ¶ˆè€—**: å‚ä¸é¡¹ç›®ä¼šæ¶ˆè€—è´¡çŒ®å€¼
- **é¡¹ç›®å¤±è´¥**: é¡¹ç›®å¤±è´¥å¯èƒ½æ— æ³•è·å¾—å›æŠ¥
- **å›æŠ¥å‘¨æœŸ**: é¡¹ç›®å›æŠ¥å‘¨æœŸä¸ç¡®å®š

**å»ºè®®**: æ ¹æ®è‡ªèº«é£é™©æ‰¿å—èƒ½åŠ›é€‰æ‹©å‚ä¸é¡¹ç›®ã€‚

### Q6: ä¸“å®¶è‚¡æƒå¦‚ä½•è·å¾—ï¼Ÿ

**A**: ä¸“å®¶è‚¡æƒè·å¾—æ¡ä»¶ï¼š

1. **è´¡çŒ®å€¼è¦æ±‚**: è¾¾åˆ°10ä¸‡è´¡çŒ®å€¼
2. **å›¢é˜Ÿè¦æ±‚**: å›¢é˜Ÿæˆå‘˜è¾¾åˆ°100äºº
3. **çº§åˆ«å‡çº§**: å‡çº§åˆ°ä¸“å®¶çº§åˆ«

å‡çº§åˆ°ä¸“å®¶çº§åˆ«åï¼Œè‡ªåŠ¨è·å¾—0.1%çš„è‚¡æƒï¼Œäº«å—åˆ†çº¢ã€‚

### Q7: åˆ†çº¢å¦‚ä½•åˆ†é…ï¼Ÿ

**A**: åˆ†çº¢åˆ†é…è§„åˆ™ï¼š

1. **åˆ†çº¢æ± **: æ¨èä½£é‡‘çš„5%è¿›å…¥åˆ†çº¢æ± 
2. **åˆ†é…å‘¨æœŸ**: å®šæœŸåˆ†é…ï¼ˆå¦‚æ¯æœˆã€æ¯å­£åº¦ï¼‰
3. **åˆ†é…è§„åˆ™**: æŒ‰è‚¡æƒæ¯”ä¾‹åˆ†é…
4. **æ”¶ç›Šæ–¹å¼**: ä»¥è´¡çŒ®å€¼å½¢å¼å‘æ”¾

---

## ç‰ˆæœ¬å†å²

### v1.0 (2026-01-25)

- âœ… å®ç°ç”¨æˆ·ç®¡ç†æ ¸å¿ƒæ¨¡å— (my_user)
- âœ… å®ç°æ¨èå’Œä½£é‡‘ç³»ç»Ÿ (referral_manager)
- âœ… å®ç°é¡¹ç›®å‚ä¸å’Œå¥–åŠ±ç³»ç»Ÿ (project_manager)
- âœ… å®ç°åˆ†çº¢è‚¡æƒç³»ç»Ÿ (dividend_manager)
- âœ… å®ç°ç»Ÿä¸€APIæ¥å£ (user_management_api)
- âœ… å®Œæˆæ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹

---

## è”ç³»æ–¹å¼

**æŠ€æœ¯æ”¯æŒ**: å¦‚æœ‰æŠ€æœ¯é—®é¢˜ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿ

**æ–‡æ¡£æ›´æ–°**: 2026å¹´1æœˆ25æ—¥

---

**çµå€¼ç”Ÿæ€å›­ - è®©æ¯ä¸€ä½ç”¨æˆ·éƒ½èƒ½é€šè¿‡ç”Ÿæ€å‚ä¸ï¼Œè·å¾—ç¡®å®šçš„æœªæ¥æ”¶å…¥ï¼ğŸ’°**
