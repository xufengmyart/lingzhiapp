# 工具配置说明

## 工具列表

本智能体配置了以下3个工具：

1. **knowledge_retrieval_tool** - 知识库检索工具
2. **image_generation_tool** - 图像生成工具
3. **web_search_tool** - 联网搜索工具

---

## 1. knowledge_retrieval_tool（知识库检索工具）

### 工具功能
检索知识库中的文档，获取平台规则、贡献值体系、案例库等信息。

### 工具参数
- **query**：检索关键词（必需）
- **top_k**：返回结果数量（可选，默认5）
- **threshold**：召回阈值（可选，默认0.7）

### 工具代码
详见 `02_源代码/tools/knowledge_retrieval_tool.py`

### 配置步骤
1. 打开智能体的"工具配置"
2. 添加新工具
3. 工具类型选择"Python"
4. 粘贴工具代码
5. 配置工具参数：
   - 知识库ID：配置知识库ID
   - 召回阈值：默认0.7
6. 保存工具

---

## 2. image_generation_tool（图像生成工具）

### 工具功能
生成品牌视觉创意、空间设计方案等图像。

### 工具参数
- **prompt**：图像生成提示词（必需）
- **style**：图像风格（可选，默认"realistic"）
- **image_size**：图像尺寸（可选，默认"1024x1024"）
- **num_images**：生成图像数量（可选，默认1）

### 工具代码
详见 `02_源代码/tools/image_generation_tool.py`

### 配置步骤
1. 打开智能体的"工具配置"
2. 添加新工具
3. 工具类型选择"Python"
4. 粘贴工具代码
5. 配置工具参数：
   - 模型选择：豆包生图模型
   - 图像尺寸：1024x1024
6. 保存工具

---

## 3. web_search_tool（联网搜索工具）

### 工具功能
搜索网络信息，获取最新商业趋势、文化案例等。

### 工具参数
- **query**：搜索关键词（必需）
- **num_results**：返回结果数量（可选，默认10）

### 配置步骤
1. 打开智能体的"工具配置"
2. 添加新工具
3. 工具类型选择"联网搜索"
4. 配置搜索参数：
   - 搜索模式：普通搜索
   - 结果数量：5-10
5. 保存工具

---

## 工具使用场景

### knowledge_retrieval_tool
- 查询平台规则
- 查询贡献值体系
- 查询案例库
- 查询服务流程

### image_generation_tool
- 生成品牌视觉创意
- 生成空间设计方案
- 生成文化元素设计
- 生成营销素材

### web_search_tool
- 查找最新商业趋势
- 查找文化案例
- 查找行业动态
- 查找参考资料

---

## 工具调用优先级

当用户提问时，工具调用的优先级如下：

1. **优先检索知识库**：使用 `knowledge_retrieval_tool`
2. **如果知识库无结果**：使用联网搜索 `web_search_tool`
3. **如果需要生成图像**：使用 `image_generation_tool`

---

## 工具错误处理

如果工具调用失败，智能体会：

1. 记录错误日志
2. 向用户友好地提示错误
3. 提供替代方案
4. 引导用户重新尝试

---

## 常见问题

### Q1：知识库检索无结果怎么办？
**A**：自动降级为联网搜索，如果仍然无结果，则提示用户。

### Q2：图像生成失败怎么办？
**A**：检查提示词是否合理，调整参数后重试。

### Q3：联网搜索结果不准确怎么办？
**A**：优化搜索关键词，尝试多次搜索。

---

**版本**：v5.0
**更新日期**：2026年1月23日
