# 灵值生态园智能体 - 移植指南

> **版本**：v5.0
> **发布日期**：2026年1月23日
> **适用平台**：Coze Agent 智能体平台

---

## 📖 目录

1. [概述](#概述)
2. [前置要求](#前置要求)
3. [移植步骤](#移植步骤)
4. [详细配置](#详细配置)
5. [测试验证](#测试验证)
6. [常见问题](#常见问题)
7. [附录](#附录)

---

## 概述

### 移植包说明

本移植包包含了"灵值生态园"智能体的所有核心文件和配置，可以完整地移植到新的智能体平台或环境中。

**智能体定位**：
- 基于代码的品牌文化转译官智能体
- 集成知识库检索、联网搜索、文生图能力
- 核心创新为"三层次情绪价值体系"及"贡献值经济价值锚定模型"

**四重核心能力**：
1. **商业引擎**：精通平台规则、贡献值体系、资源匹配
2. **精神引路**：深谙西安文化与东方美学
3. **情绪创造**：创造持久情绪价值
4. **数字财富**：精通贡献值经济价值锚定模型

---

## 前置要求

### 平台要求

1. **智能体平台**：Coze Agent 或类似平台
2. **模型支持**：支持大语言模型（推荐豆包、DeepSeek、Kimi）
3. **工具支持**：支持自定义工具
4. **知识库支持**：支持向量检索知识库

### 技术要求

1. **Python环境**：Python 3.8+
2. **依赖包**：见 `requirements.txt`
3. **存储支持**：支持对象存储（可选）

### 账号要求

1. **平台账号**：有效的智能体平台账号
2. **API权限**：必要的API调用权限
3. **知识库权限**：知识库上传和管理权限

---

## 移植步骤

### 步骤1：准备移植环境（5分钟）

#### 1.1 创建移植目录

```bash
# 创建移植目录
mkdir lingzhi_agent
cd lingzhi_agent

# 复制移植包内容
cp -r 灵值生态园智能体移植包/* .
```

#### 1.2 检查文件完整性

```bash
# 检查核心文件是否存在
ls -la
ls -la 01_智能体配置/
ls -la 02_源代码/
ls -la 03_知识库文档/
```

**预期输出**：
```
README.md
00_移植指南.md
01_智能体配置/
02_源代码/
03_知识库文档/
04_部署检查清单.md
05_移植验证脚本.py
assets/
```

---

### 步骤2：配置智能体（10分钟）

#### 2.1 创建智能体

1. 登录智能体平台（如 Coze Agent）
2. 点击"创建智能体"
3. 填写智能体基本信息

#### 2.2 配置基本信息

根据 `01_智能体配置/基本信息.json` 配置：

```json
{
  "name": "灵值生态园",
  "description": "基于代码的品牌文化转译官智能体，将西安文化转化为现代品牌创意",
  "avatar": "https://example.com/avatar.png",
  "tags": ["文化转译", "西安文化", "品牌创意", "贡献值"],
  "category": "文化创意"
}
```

**配置说明**：
- **name**：智能体名称（可自定义）
- **description**：智能体描述（可自定义）
- **avatar**：智能体头像（可自定义）
- **tags**：智能体标签（可自定义）
- **category**：智能体分类（可自定义）

#### 2.3 配置系统提示词

根据 `01_智能体配置/系统提示词.md` 配置系统提示词。

**关键点**：
1. 完整复制系统提示词内容
2. 保留四重核心能力
3. 保留核心承诺
4. 保留双螺旋响应法
5. 保留三层次情绪价值体系

**配置步骤**：
1. 打开 `01_智能体配置/系统提示词.md`
2. 复制全部内容
3. 粘贴到智能体的"系统提示词"配置项
4. 保存配置

---

### 步骤3：配置模型（5分钟）

#### 3.1 选择模型

根据 `01_智能体配置/模型配置.json` 配置：

```json
{
  "model": "doubao-seed-1-6-251015",
  "temperature": 0.7,
  "top_p": 0.9,
  "max_completion_tokens": 10000,
  "timeout": 600,
  "thinking": "disabled"
}
```

**配置说明**：
- **model**：模型名称（推荐豆包、DeepSeek、Kimi）
- **temperature**：温度参数（0.0-1.0，默认0.7）
- **top_p**：核采样参数（0.0-1.0，默认0.9）
- **max_completion_tokens**：最大输出token数（默认10000）
- **timeout**：超时时间（默认600秒）
- **thinking**：思考模式（disabled/enabled，默认disabled）

**配置步骤**：
1. 打开智能体的"模型配置"
2. 选择模型（推荐豆包、DeepSeek、Kimi）
3. 配置模型参数
4. 保存配置

---

### 步骤4：配置工具（10分钟）

#### 4.1 工具列表

根据 `01_智能体配置/工具配置.json` 配置：

```json
{
  "tools": [
    "knowledge_retrieval_tool",
    "image_generation_tool",
    "web_search_tool"
  ]
}
```

**工具说明**：
- **knowledge_retrieval_tool**：知识库检索工具
- **image_generation_tool**：图像生成工具
- **web_search_tool**：联网搜索工具

#### 4.2 配置知识库检索工具

**工具代码**：`02_源代码/tools/knowledge_retrieval_tool.py`

**配置步骤**：
1. 打开智能体的"工具配置"
2. 添加新工具
3. 工具类型选择"Python"
4. 粘贴工具代码
5. 配置工具参数：
   - 知识库ID：配置知识库ID
   - 召回阈值：默认0.7
6. 保存工具

#### 4.3 配置图像生成工具

**工具代码**：`02_源代码/tools/image_generation_tool.py`

**配置步骤**：
1. 打开智能体的"工具配置"
2. 添加新工具
3. 工具类型选择"Python"
4. 粘贴工具代码
5. 配置工具参数：
   - 模型选择：豆包生图模型
   - 图像尺寸：1024x1024
6. 保存工具

#### 4.4 配置联网搜索工具

**配置步骤**：
1. 打开智能体的"工具配置"
2. 添加新工具
3. 工具类型选择"联网搜索"
4. 配置搜索参数：
   - 搜索模式：普通搜索
   - 结果数量：5-10
5. 保存工具

---

### 步骤5：配置知识库（15分钟）

#### 5.1 上传知识库文档

根据 `03_知识库文档/00_知识库文档索引.md` 上传文档。

**上传顺序**：
1. 灵值生态一体化服务总纲.md（优先级：最高）
2. 贡献值经济价值锚定方案.md（优先级：最高）
3. 情绪价值体系实施方案.md（优先级：最高）
4. 图片上传标准规范.md（优先级：最高）
5. 西安文化基因库.md（优先级：高）
6. 转译商业案例库.md（优先级：高）
7. AI与数字文化趋势.md（优先级：高）

**上传步骤**：
1. 打开智能体的"知识库管理"
2. 点击"上传文档"
3. 选择文档文件
4. 设置召回阈值（0.6-0.7）
5. 设置优先级（最高/高）
6. 点击"上传"
7. 重复以上步骤，上传所有文档

**召回阈值设置**：
| 文档 | 推荐阈值 | 说明 |
|-----|---------|------|
| 灵值生态一体化服务总纲.md | 0.7 | 高精度，确保准确检索 |
| 贡献值经济价值锚定方案.md | 0.7 | 高精度，确保准确检索 |
| 情绪价值体系实施方案.md | 0.7 | 高精度，确保准确检索 |
| 图片上传标准规范.md | 0.7 | 高精度，确保准确检索 |
| 西安文化基因库.md | 0.6 | 中等精度，平衡召回与准确 |
| 转译商业案例库.md | 0.6 | 中等精度，平衡召回与准确 |
| AI与数字文化趋势.md | 0.6 | 中等精度，平衡召回与准确 |

#### 5.2 验证知识库文档

**验证步骤**：
1. 打开知识库管理页面
2. 检查所有文档是否已成功上传
3. 检查文档状态（已索引/处理中/失败）
4. 如果文档状态为"失败"，重新上传

---

### 步骤6：测试验证（10分钟）

#### 6.1 基础功能测试

**测试场景1：贡献值价值查询**

```
输入：我的贡献值现在值多少钱？

预期输出：
- 明确说明1贡献值=0.1元人民币
- 提供即时兑换和锁定增值选项
- 强调确定性承诺
```

**测试场景2：快速获取贡献值**

```
输入：如何快速获得贡献值？我想增加收入

预期输出：
- 提供3大高效获取贡献值的路径
- 说明每种路径的贡献值奖励
- 提供情绪价值创造
```

**测试场景3：文化深度咨询**

```
输入：我的茶馆如何融入唐风，同时提升商业转化？

预期输出：
- 提供唐风美学建议
- 提供商业转化策略
- 提供情绪价值创造
```

#### 6.2 工具功能测试

**测试场景1：知识库检索**

```
输入：什么是灵值生态园？

预期输出：
- 检索知识库中的"灵值生态一体化服务总纲"
- 返回准确的品牌定位和服务内容
```

**测试场景2：图像生成**

```
输入：生成一张唐风茶馆的设计图

预期输出：
- 调用图像生成工具
- 返回生成的图像URL
```

**测试场景3：联网搜索**

```
输入：最新的西安文化旅游政策

预期输出：
- 调用联网搜索工具
- 返回相关的搜索结果
```

---

### 步骤7：上线部署（5分钟）

#### 7.1 上线前检查

根据 `04_部署检查清单.md` 检查：

- [ ] 智能体基本信息配置完成
- [ ] 系统提示词配置完成
- [ ] 模型配置完成
- [ ] 工具配置完成
- [ ] 知识库文档上传完成
- [ ] 基础功能测试通过
- [ ] 工具功能测试通过

#### 7.2 上线部署

**部署步骤**：
1. 点击"发布智能体"
2. 选择发布环境（测试/生产）
3. 配置访问权限（公开/私密）
4. 点击"确认发布"

---

## 详细配置

### 系统提示词详细说明

系统提示词是智能体的核心，决定了智能体的行为和能力。

**四重核心能力**：
1. **商业引擎**：精通平台规则、贡献值体系、资源匹配
2. **精神引路**：深谙西安文化与东方美学
3. **情绪创造**：创造持久情绪价值
4. **数字财富**：精通贡献值经济价值锚定模型

**核心承诺**：
**每一个贡献值都锚定0.1元人民币，随时可兑换。锁定后还能享受20%-100%增值收益。这不是"可能"，而是"一定"。**

**双螺旋响应法**：
- 实际事务与精神体验深度融合
- 事务层解答 + 意义层升华 + 情绪层共鸣

**三层次情绪价值体系**：
- 即时情绪价值：认可感、支持感、成就感、惊喜感
- 持续情绪价值：成长感、归属感、掌控感、连接感
- 长期情绪价值：使命感、影响力、成就感、陪伴感

---

### 模型配置详细说明

**模型选择**：
- **豆包**：推荐，平衡性能和成本
- **DeepSeek**：推荐，优秀的推理能力
- **Kimi**：推荐，优秀的长文本处理能力

**参数调优**：
- **temperature**：控制输出的随机性
  - 0.0-0.3：确定性输出，适用于事实查询
  - 0.4-0.7：平衡输出，适用于一般对话
  - 0.8-1.0：创造性输出，适用于创意生成

- **top_p**：控制输出的多样性
  - 0.5-0.7：较少多样性
  - 0.8-0.9：中等多样性
  - 0.95-1.0：较多多样性

---

### 工具配置详细说明

**知识库检索工具**：
- **功能**：检索知识库中的文档
- **参数**：
  - query：检索关键词
  - top_k：返回结果数量（默认5）
  - threshold：召回阈值（默认0.7）

**图像生成工具**：
- **功能**：生成图像
- **参数**：
  - prompt：图像生成提示词
  - style：图像风格（默认realistic）
  - image_size：图像尺寸（默认1024x1024）
  - num_images：生成图像数量（默认1）

**联网搜索工具**：
- **功能**：搜索网络信息
- **参数**：
  - query：搜索关键词
  - num_results：返回结果数量（默认10）

---

## 测试验证

### 自动化验证

运行移植验证脚本：

```bash
python 05_移植验证脚本.py
```

**预期输出**：
```
✅ 智能体基本信息配置完成
✅ 系统提示词配置完成
✅ 模型配置完成
✅ 工具配置完成
✅ 知识库文档上传完成
✅ 基础功能测试通过
✅ 工具功能测试通过

移植验证通过！
```

### 手动验证

按照"步骤6：测试验证"中的场景手动测试。

---

## 常见问题

### Q1：如何自定义智能体名称和描述？

**A**：修改 `01_智能体配置/基本信息.json` 中的 `name` 和 `description` 字段。

### Q2：如何更换模型？

**A**：修改 `01_智能体配置/模型配置.json` 中的 `model` 字段，支持豆包、DeepSeek、Kimi等模型。

### Q3：如何添加新的知识库文档？

**A**：
1. 将新文档放入 `03_知识库文档/` 目录
2. 在 `03_知识库文档/00_知识库文档索引.md` 中添加文档信息
3. 上传到知识库管理页面

### Q4：如何添加新的工具？

**A**：
1. 在 `02_源代码/tools/` 目录创建新的工具文件
2. 在 `01_智能体配置/工具配置.json` 中添加工具信息
3. 在智能体的"工具配置"中添加工具

### Q5：如何调试智能体？

**A**：
1. 查看智能体的运行日志
2. 检查工具的调用记录
3. 检查知识库的检索结果
4. 调整系统提示词

### Q6：如何优化智能体的性能？

**A**：
1. 优化知识库召回阈值
2. 优化模型参数（temperature、top_p）
3. 优化系统提示词
4. 优化工具配置

---

## 附录

### 版本历史

**v5.0（2026-01-23）**
- 新增贡献值经济价值锚定方案
- 新增"财富远见·数字资产"核心能力
- 生成完整移植包
- 新增移植验证脚本

**v3.0**
- 新增三层次情绪价值体系
- 优化系统提示词
- 完善知识库文档

### 依赖包

```txt
langchain>=0.1.0
langgraph>=0.1.0
coze-coding-dev-sdk>=0.1.0
```

### 联系支持

如有问题，请联系技术支持。

---

**版本**：v5.0
**发布日期**：2026年1月23日
**适用平台**：Coze Agent 智能体平台
