<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµå€¼ç”Ÿæ€å›­ - è®¿é—®è¯Šæ–­å·¥å…·</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            padding: 30px;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .section h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .info-item {
            background: white;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
        }

        .info-label {
            color: #666;
            font-size: 12px;
            margin-bottom: 5px;
        }

        .info-value {
            color: #333;
            font-size: 16px;
            font-weight: 600;
        }

        .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
        }

        .status.warning {
            background: #fff3cd;
            color: #856404;
        }

        .status.pending {
            background: #e2e3e5;
            color: #383d41;
        }

        .test-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .test-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .test-btn:active {
            transform: translateY(0);
        }

        .result {
            margin-top: 15px;
            padding: 15px;
            background: white;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
            word-break: break-all;
            display: none;
        }

        .result.show {
            display: block;
        }

        .recommendation {
            background: #fff3cd;
            border-left-color: #ffc107;
            padding: 20px;
        }

        .recommendation h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .recommendation ul {
            color: #856404;
            padding-left: 20px;
        }

        .recommendation li {
            margin-bottom: 8px;
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            color: #666;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” çµå€¼ç”Ÿæ€å›­ - è®¿é—®è¯Šæ–­å·¥å…·</h1>
        <p class="subtitle">å¸®åŠ©è¯Šæ–­å…¬ç½‘è®¿é—®é—®é¢˜</p>

        <!-- å½“å‰è®¿é—®ä¿¡æ¯ -->
        <div class="section">
            <h2>å½“å‰è®¿é—®ä¿¡æ¯</h2>
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-label">è®¿é—®URL</div>
                    <div class="info-value" id="currentUrl">-</div>
                </div>
                <div class="info-item">
                    <div class="info-label">åè®®</div>
                    <div class="info-value" id="protocol">-</div>
                </div>
                <div class="info-item">
                    <div class="info-label">ä¸»æœºå</div>
                    <div class="info-value" id="hostname">-</div>
                </div>
                <div class="info-item">
                    <div class="info-label">ç«¯å£</div>
                    <div class="info-value" id="port">-</div>
                </div>
            </div>
        </div>

        <!-- è¿æ¥æµ‹è¯• -->
        <div class="section">
            <h2>è¿æ¥æµ‹è¯•</h2>
            <button class="test-btn" onclick="testConnection()">æµ‹è¯•è¿æ¥</button>
            <div class="result" id="connectionResult"></div>
        </div>

        <!-- æ¨èæ–¹æ¡ˆ -->
        <div class="section recommendation">
            <h3>âš ï¸ æ¨èè®¿é—®æ–¹å¼</h3>
            <ul>
                <li><strong>æ–¹æ¡ˆ1ï¼ˆæ¨èï¼‰</strong>: ä½¿ç”¨8088ç«¯å£è®¿é—®<br>
                    <code>http://123.56.142.143:8088</code><br>
                    éœ€è¦åœ¨é˜¿é‡Œäº‘å¼€æ”¾8088ç«¯å£</li>
                <li><strong>æ–¹æ¡ˆ2</strong>: ä½¿ç”¨8080ç«¯å£è®¿é—®<br>
                    <code>http://123.56.142.143:8080</code><br>
                    éœ€è¦åœ¨é˜¿é‡Œäº‘å¼€æ”¾8080å’Œ8001ç«¯å£</li>
                <li><strong>æ–¹æ¡ˆ3</strong>: ä½¿ç”¨8443ç«¯å£+HTTPSè®¿é—®ï¼ˆæœ€å®‰å…¨ï¼‰<br>
                    <code>https://123.56.142.143:8443</code><br>
                    éœ€è¦é…ç½®SSLè¯ä¹¦å’Œå¼€æ”¾8443ç«¯å£</li>
            </ul>
        </div>

        <!-- å¸¸è§é—®é¢˜ -->
        <div class="section">
            <h2>å¸¸è§é—®é¢˜</h2>
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-label">80ç«¯å£çŠ¶æ€</div>
                    <div class="info-value"><span class="status error">è¢«æ‹¦æˆª</span></div>
                </div>
                <div class="info-item">
                    <div class="info-label">æ‹¦æˆªåŸå› </div>
                    <div class="info-value">ByteFaaSå®‰å…¨ç­–ç•¥</div>
                </div>
                <div class="info-item">
                    <div class="info-label">8080ç«¯å£</div>
                    <div class="info-value"><span class="status warning">éœ€å¼€æ”¾å®‰å…¨ç»„</span></div>
                </div>
                <div class="info-item">
                    <div class="info-label">8088ç«¯å£</div>
                    <div class="info-value"><span class="status warning">éœ€å¼€æ”¾å®‰å…¨ç»„</span></div>
                </div>
            </div>
        </div>

        <!-- æ“ä½œæ­¥éª¤ -->
        <div class="section">
            <h2>å¿«é€Ÿæ“ä½œæ­¥éª¤</h2>
            <ol>
                <li>ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°</li>
                <li>è¿›å…¥ECSå®ä¾‹ â†’ å®‰å…¨ç»„é…ç½®</li>
                <li>æ·»åŠ å…¥ç«™è§„åˆ™ï¼š
                    <ul>
                        <li>é€‰æ‹©æ–¹æ¡ˆ1ï¼šTCP 8088ç«¯å£</li>
                        <li>é€‰æ‹©æ–¹æ¡ˆ2ï¼šTCP 8080å’Œ8001ç«¯å£</li>
                        <li>é€‰æ‹©æ–¹æ¡ˆ3ï¼šTCP 8443ç«¯å£</li>
                    </ul>
                </li>
                <li>ä¿å­˜å¹¶ç­‰å¾…ç”Ÿæ•ˆï¼ˆ1-5åˆ†é’Ÿï¼‰</li>
                <li>è®¿é—®å¯¹åº”çš„URL</li>
            </ol>
        </div>

        <div class="footer">
            <p>çµå€¼ç”Ÿæ€å›­ - æ™ºèƒ½ä½“åº”ç”¨ v2.0</p>
            <p>å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒ</p>
        </div>
    </div>

    <script>
        // æ˜¾ç¤ºå½“å‰è®¿é—®ä¿¡æ¯
        function showCurrentInfo() {
            document.getElementById('currentUrl').textContent = window.location.href;
            document.getElementById('protocol').textContent = window.location.protocol;
            document.getElementById('hostname').textContent = window.location.hostname;
            document.getElementById('port').textContent = window.location.port || (window.location.protocol === 'https:' ? '443' : '80');
        }

        // æµ‹è¯•è¿æ¥
        async function testConnection() {
            const resultDiv = document.getElementById('connectionResult');
            resultDiv.classList.add('show');
            resultDiv.textContent = 'æ­£åœ¨æµ‹è¯•è¿æ¥...';

            const tests = [
                { name: 'å½“å‰é¡µé¢', url: window.location.href },
                { name: 'æ ¹è·¯å¾„', url: window.location.origin + '/' },
                { name: 'APIå¥åº·æ£€æŸ¥', url: window.location.origin + '/health' },
                { name: '8080ç«¯å£', url: 'http://123.56.142.143:8080/' },
                { name: '8088ç«¯å£', url: 'http://123.56.142.143:8088/' }
            ];

            let results = [];

            for (const test of tests) {
                try {
                    const response = await fetch(test.url);
                    results.push({
                        name: test.name,
                        status: response.status,
                        ok: response.ok,
                        url: test.url
                    });
                } catch (error) {
                    results.push({
                        name: test.name,
                        status: 'FAILED',
                        ok: false,
                        url: test.url,
                        error: error.message
                    });
                }
            }

            // æ˜¾ç¤ºç»“æœ
            resultDiv.textContent = JSON.stringify(results, null, 2);
        }

        // åˆå§‹åŒ–
        showCurrentInfo();
    </script>
</body>
</html>
