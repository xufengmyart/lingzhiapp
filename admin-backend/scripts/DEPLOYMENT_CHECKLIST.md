# 部署检查清单
## 清单版本: v2.0
## 基于版本: 7140912
## 创建日期: 2026-02-15

---

## 📋 使用说明

### 目的
确保每次部署都遵循统一标准，避免遗漏关键步骤，提高部署成功率。

### 使用方法
1. 在部署前，逐项检查"部署前检查"部分
2. 在部署过程中，逐项检查"部署中检查"部分
3. 在部署后，逐项检查"部署后检查"部分
4. 所有项目都必须勾选才能完成部署

---

## 🚀 部署前检查

### 1. 代码检查
- [ ] 代码审查已完成
  - [ ] 代码逻辑正确
  - [ ] 没有语法错误
  - [ ] 没有安全漏洞
  - [ ] 没有性能问题
- [ ] 本地测试已通过
  - [ ] 单元测试通过
  - [ ] 集成测试通过
  - [ ] 功能测试通过
  - [ ] 性能测试通过
- [ ] 代码已提交
  - [ ] Git commit 已创建
  - [ ] Commit message 清晰
  - [ ] 代码已推送到远程
- [ ] 版本已标记
  - [ ] Git tag 已创建
  - [ ] Tag name 符合规范
  - [ ] Tag 已推送到远程

### 2. 文档检查
- [ ] 更新说明已编写
  - [ ] 修改内容清晰
  - [ ] 影响范围明确
  - [ ] 风险评估完成
- [ ] API 文档已更新（如涉及 API 修改）
  - [ ] 新 API 已文档化
  - [ ] 修改的 API 已更新
  - [ ] 删除的 API 已标注
- [ ] 数据库文档已更新（如涉及数据库修改）
  - [ ] 表结构变更已记录
  - [ ] 数据迁移脚本已准备
  - [ ] 回滚脚本已准备
- [ ] 用户文档已更新（如涉及用户可见功能）
  - [ ] 新功能已说明
  - [ ] 修改的功能已更新
  - [ ] 操作步骤已更新

### 3. 环境检查
- [ ] 生产环境状态正常
  - [ ] 网站可访问
  - [ ] 服务运行正常
  - [ ] 数据库连接正常
- [ ] 备份空间充足
  - [ ] 磁盘空间 > 20%
  - [ ] 备份目录存在
  - [ ] 备份权限正确
- [ ] 网络连接正常
  - [ ] 可以 SSH 连接到服务器
  - [ ] 可以访问对象存储
  - [ ] 可以访问 API
- [ ] SSH 连接正常
  - [ ] SSH 密钥配置正确
  - [ ] SSH 连接稳定
  - [ ] SSH 免密登录正常

### 4. 依赖检查
- [ ] 前端依赖（如涉及前端部署）
  - [ ] package.json 已更新
  - [ ] 依赖版本已锁定
  - [ ] npm install 已测试
- [ ] 后端依赖（如涉及后端部署）
  - [ ] requirements.txt 已更新
  - [ ] 依赖版本已锁定
  - [ ] pip install 已测试
- [ ] 系统依赖
  - [ ] Python 版本符合要求
  - [ ] Node.js 版本符合要求
  - [ ] 系统库已安装

### 5. 配置检查
- [ ] 环境变量配置正确
  - [ ] API Key 配置正确
  - [ ] 数据库连接配置正确
  - [ ] 第三方服务配置正确
- [ ] Nginx 配置（如涉及前端部署）
  - [ ] 配置文件已更新
  - [ ] 配置语法正确
  - [ ] 配置已测试
- [ ] Gunicorn 配置（如涉及后端部署）
  - [ ] 配置文件已更新
  - [ ] 配置语法正确
  - [ ] 配置已测试

---

## 🔧 部署中检查

### 1. 备份检查
- [ ] 备份已完成
  - [ ] 前端备份成功
  - [ ] 后端备份成功
  - [ ] 数据库备份成功（如涉及数据库）
- [ ] 备份文件存在
  - [ ] 备份路径正确
  - [ ] 备份文件完整
  - [ ] 备份大小合理
- [ ] 备份可恢复
  - [ ] 验证备份可恢复
  - [ ] 恢复脚本可执行
  - [ ] 恢复时间可接受

### 2. 文件上传检查
- [ ] 文件上传成功
  - [ ] 所有文件已上传
  - [ ] 文件大小正确
  - [ ] 文件权限正确
- [ ] 文件完整性检查
  - [ ] 文件 MD5 一致
  - [ ] 文件数量正确
  - [ ] 文件结构正确
- [ ] 文件位置正确
  - [ ] 前端文件在正确位置
  - [ ] 后端文件在正确位置
  - [ ] 配置文件在正确位置

### 3. 依赖安装检查
- [ ] 依赖安装成功
  - [ ] npm install 成功（前端）
  - [ ] pip install 成功（后端）
  - [ ] 系统依赖安装成功
- [ ] 依赖版本正确
  - [ ] 依赖版本符合要求
  - [ ] 没有版本冲突
  - [ ] 没有安全警告
- [ ] 依赖可用性
  - [ ] 所有依赖可用
  - [ ] 没有缺失依赖
  - [ ] 没有过时依赖

### 4. 服务重启检查
- [ ] 服务已停止
  - [ ] 旧服务已停止
  - [ ] 没有残留进程
  - [ ] 端口已释放
- [ ] 服务已启动
  - [ ] 新服务已启动
  - [ ] 进程运行正常
  - [ ] 端口已监听
- [ ] 服务稳定
  - [ ] 服务启动稳定
  - [ ] 没有启动错误
  - [ ] 日志输出正常

---

## ✅ 部署后检查

### 1. 健康检查
- [ ] 前端健康检查
  - [ ] 网站可访问
  - [ ] HTTP 状态码 200
  - [ ] 页面加载正常
  - [ ] 资源加载正常
- [ ] 后端健康检查
  - [ ] API 可访问
  - [ ] 健康检查接口返回正常
  - [ ] 响应时间正常
  - [ ] 响应格式正确
- [ ] 数据库健康检查
  - [ ] 数据库连接正常
  - [ ] 数据库查询正常
  - [ ] 数据完整性正常
  - [ ] 数据一致性正常

### 2. 功能验证
- [ ] 用户功能
  - [ ] 用户登录正常
  - [ ] 用户注册正常
  - [ ] 用户信息查询正常
  - [ ] 用户信息更新正常
- [ ] 智能体功能
  - [ ] 智能体列表获取正常
  - [ ] 智能体对话正常
  - [ ] 对话历史保存正常
  - [ ] 对话历史查询正常
- [ ] 签到功能
  - [ ] 签到状态查询正常
  - [ ] 签到操作正常
  - [ ] 签到奖励发放正常
  - [ ] 签到记录查询正常
- [ ] 其他核心功能
  - [ ] 功能 1 正常
  - [ ] 功能 2 正常
  - [ ] 功能 3 正常
  - [ ] 其他功能正常

### 3. 性能检查
- [ ] 响应时间
  - [ ] API 响应时间 < 1s
  - [ ] 页面加载时间 < 3s
  - [ ] 资源加载时间正常
- [ ] 成功率
  - [ ] 请求成功率 > 99%
  - [ ] 错误率 < 1%
  - [ ] 超时率 < 0.1%
- [ ] 资源使用
  - [ ] CPU 使用率 < 70%
  - [ ] 内存使用率 < 80%
  - [ ] 磁盘使用率 < 90%

### 4. 日志检查
- [ ] 错误日志
  - [ ] 没有严重错误
  - [ ] 没有未处理的异常
  - [ ] 没有安全警告
- [ ] 访问日志
  - [ ] 访问量正常
  - [ ] IP 分布正常
  - [ ] 请求路径正常
- [ ] 性能日志
  - [ ] 响应时间正常
  - [ ] 慢查询数量正常
  - [ ] 资源使用正常

### 5. 监控检查
- [ ] 服务监控
  - [ ] 服务运行正常
  - [ ] 服务进程正常
  - [ ] 服务端口正常
- [ ] 系统监控
  - [ ] CPU 使用正常
  - [ ] 内存使用正常
  - [ ] 磁盘使用正常
  - [ ] 网络使用正常
- [ ] 应用监控
  - [ ] API 调用正常
  - [ ] 错误率正常
  - [ ] 响应时间正常

### 6. 用户测试
- [ ] 核心流程测试
  - [ ] 用户注册流程正常
  - [ ] 用户登录流程正常
  - [ ] 智能体对话流程正常
  - [ ] 签到流程正常
- [ ] 边界情况测试
  - [ ] 空输入处理正常
  - [ ] 异常输入处理正常
  - [ ] 并发请求处理正常
  - [ ] 超时请求处理正常
- [ ] 兼容性测试
  - [ ] 不同浏览器兼容
  - [ ] 不同设备兼容
  - [ ] 不同网络兼容

---

## 📝 部署记录

### 部署基本信息
- [ ] 部署日期: _______________
- [ ] 部署时间: _______________
- [ ] 部署人员: _______________
- [ ] 版本号: _______________
- [ ] 部署类型: [ ] 前端 [ ] 后端 [ ] 数据库 [ ] 全量

### 部署内容
- [ ] 修改 1: ____________________________________________________
- [ ] 修改 2: ____________________________________________________
- [ ] 修改 3: ____________________________________________________

### 影响范围
- [ ] 前端: ______________________________________________________
- [ ] 后端: ______________________________________________________
- [ ] 数据库: ____________________________________________________

### 备份信息
- [ ] 前端备份路径: ______________________________________________
- [ ] 后端备份路径: ______________________________________________
- [ ] 数据库备份路径: ____________________________________________

### 部署结果
- [ ] 部署状态: [ ] 成功 [ ] 失败
- [ ] 部署耗时: _______________
- [ ] 问题记录: __________________________________________________

### 验证结果
- [ ] 健康检查: [ ] 通过 [ ] 失败
- [ ] 功能验证: [ ] 通过 [ ] 失败
- [ ] 性能检查: [ ] 通过 [ ] 失败
- [ ] 用户测试: [ ] 通过 [ ] 失败

### 后续工作
- [ ] 需要跟进: __________________________________________________
- [ ] 待解决问题: ________________________________________________
- [ ] 优化建议: __________________________________________________

---

## 🔄 回滚检查

### 回滚前检查
- [ ] 确认需要回滚
  - [ ] 关键功能不可用
  - [ ] 性能严重下降
  - [ ] 数据库错误
  - [ ] 安全漏洞
- [ ] 备份文件存在
  - [ ] 前端备份文件存在
  - [ ] 后端备份文件存在
  - [ ] 数据库备份文件存在
- [ ] 回滚脚本准备
  - [ ] 前端回滚脚本准备
  - [ ] 后端回滚脚本准备
  - [ ] 数据库回滚脚本准备

### 回滚后检查
- [ ] 服务已恢复
  - [ ] 前端服务已恢复
  - [ ] 后端服务已恢复
  - [ ] 数据库已恢复
- [ ] 功能已恢复
  - [ ] 核心功能已恢复
  - [ ] 性能已恢复
  - [ ] 数据已恢复
- [ ] 验证通过
  - [ ] 健康检查通过
  - [ ] 功能验证通过
  - [ ] 性能检查通过

---

## 📊 统计信息

### 部署统计
- [ ] 本次部署总耗时: _______________
- [ ] 部署成功率: _______________%
- [ ] 部署失败次数: _______________
- [ ] 回滚次数: _______________

### 问题统计
- [ ] 遇到的问题数量: _______________
- [ ] 已解决的问题: _______________
- [ ] 未解决的问题: _______________
- [ ] 问题解决率: _______________%

---

## ✅ 最终确认

### 部署确认
- [ ] 所有检查项目已完成
- [ ] 所有验证已通过
- [ ] 部署日志已记录
- [ ] 相关人员已通知

### 签名确认
- [ ] 部署人员: _______________
- [ ] 审核人员: _______________
- [ ] 批准人员: _______________
- [ ] 确认日期: _______________

---

## 📚 相关文档

- [版本档案](./VERSION_7140912_ARCHIVE.md)
- [标准化部署流程](./STANDARD_DEPLOYMENT_PROCESS.md)
- [部署习惯档案](./DEPLOYMENT_HABITS_ARCHIVE.md)
- [生产部署报告](./PRODUCTION_DEPLOYMENT_FINAL.md)

---

**部署检查清单 v2.0**

**基于版本**: 7140912
**创建日期**: 2026-02-15
**清单状态**: ✅ 已确认

**维护者**: Coze Coding
**最后更新**: 2026-02-15 11:53
