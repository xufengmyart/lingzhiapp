"""
文化知识库数据导入脚本
为灵值生态园导入西安文化相关知识内容
"""

import sqlite3
import os
from datetime import datetime

# 数据库路径
DB_PATH = os.path.join(os.path.dirname(os.path.dirname(__file__)), 'lingzhi_ecosystem.db')

def get_db_connection():
    """获取数据库连接"""
    conn = sqlite3.connect(DB_PATH)
    conn.row_factory = sqlite3.Row
    return conn

# 西安文化知识库内容
CULTURE_KNOWLEDGE = {
    "历史文化": {
        "category_code": "zhou_qin_han_tang",
        "documents": [
            {
                "title": "周礼文化与西安",
                "content": """
【周礼文化与西安】

周礼文化是中国古代礼乐文明的重要源头，对西安文化产生了深远影响。

## 历史背景
周礼起源于西周时期，由周公旦制定，是一套完整的礼乐制度。它规定了社会各阶层的礼仪规范、道德准则和行为方式，成为中国古代社会的治理基石。

## 核心内容
1. **五礼体系**
   - 吉礼：祭祀天神地祇的礼仪
   - 凶礼：丧葬及哀吊礼仪
   - 军礼：军事活动礼仪
   -宾礼：朝聘会盟礼仪
   - 嘉礼：喜庆庆典礼仪

2. **乐舞制度**
   - 雅乐：宫廷正乐
   - 俗乐：民间音乐
   - 礼乐合一：以乐辅助礼制

3. **宗法制度**
   - 亲亲：血缘关系为纽带
   - 尊尊：等级秩序为基础
   - 家国同构：家族延伸到国家

## 西安的周礼传承
西安作为周朝的都城（丰镐），是周礼文化的发源地和重要传承地。

1. **历史遗迹**
   - 丰镐遗址：周朝都城遗址
   - 礼制建筑：宗庙、社稷等
   - 考古发现：青铜礼器、玉器等

2. **文化影响**
   - 礼仪文化：西安人重视礼仪的传统
   - 饮食文化：宴饮礼仪的传承
   - 建筑文化：礼制建筑的影响

## 文化商业转译
周礼文化可以转化为现代商业价值：

1. **文化体验**
   - 周礼文化体验馆
   - 古代礼仪研学活动
   - 传统礼仪培训课程

2. **文创产品**
   - 周礼元素文创产品
   - 传统礼仪用品开发
   - 文化主题餐饮

3. **文化服务**
   - 传统礼仪服务
   - 文化研学服务
   - 文化咨询策划

## 文化价值
周礼文化体现了中国古代的文明智慧和治理理念，对于现代社会仍然具有重要的启示意义：
- 礼仪教化的价值
- 和谐社会的追求
- 文明传承的责任
                """,
                "author": "文化专家",
                "tags": ["周礼", "礼乐文明", "礼仪文化", "文化传承"]
            },
            {
                "title": "秦始皇兵马俑文化",
                "content": """
【秦始皇兵马俑文化】

秦始皇兵马俑是西安最具代表性的文化符号之一，被誉为"世界第八大奇迹"。

## 历史背景
兵马俑是秦始皇陵的重要组成部分，建于公元前221年至公元前206年，是秦始皇为自己陵寝制作的陪葬品。1974年被当地农民发现，1987年被列入世界文化遗产名录。

## 艺术特色
1. **写实主义**
   - 1:1真人真马比例
   - 细致入微的面部表情
   - 真实的发型、服饰、武器

2. **规模宏大**
   - 三个兵马俑坑，总面积约2.5万平方米
   - 陶俑陶马约8000件
   - 军阵排列整齐，气势磅礴

3. **个性鲜明**
   - 每个兵俑都有独特的面部表情
   - 不同兵种有不同的装备和姿态
   - 体现了古代工匠的精湛技艺

## 文化内涵
1. **军事文化**
   - 反映秦代军事制度
   - 展现古代军阵阵法
   - 体现军事技术水平

2. **工艺文化**
   - 制陶工艺的巅峰
   - 雕塑艺术的杰作
   - 彩绘技术的精湛

3. **观念文化**
   - 事死如事生的观念
   - 皇帝至高无上的权威
   - 农耕文明的物质基础

## 文化商业转译
兵马俑文化的商业价值巨大：

1. **旅游产业**
   - 兵马俑博物馆（世界级旅游目的地）
   - 文化旅游线路
   - 纪念品市场

2. **文创产业**
   - 兵马俑文创产品
   - 文化主题商品
   - 艺术衍生品

3. **数字产业**
   - 数字复原项目
   - VR体验技术
   - 数字博物馆

4. **教育产业**
   - 研学教育
   - 文化传承教育
   - 历史科普

## 文化启示
兵马俑文化给我们带来深刻的启示：
- 精益求精的工匠精神
- 尊重历史的文化态度
- 创新发展的时代要求
                """,
                "author": "考古专家",
                "tags": ["兵马俑", "秦俑", "世界遗产", "文化瑰宝"]
            },
            {
                "title": "汉代长安城文化",
                "content": """
【汉代长安城文化】

汉代长安城是西汉的都城，是当时世界上最繁华的城市之一，对西安文化产生了深远影响。

## 历史概况
- 建城时间：公元前202年
- 城市规模：周长约65里，城墙高12米
- 人口规模：鼎盛时期达50万人
- 历史地位：丝绸之路起点

## 城市规划
1. **城郭结构**
   - 城墙：夯土筑城，四面有城门
   - 宫殿：未央宫、长乐宫、建章宫
   - 街道：八街九陌，规整有序

2. **功能分区**
   - 宫殿区：皇帝居住和朝政
   - 官署区：政府机构驻地
   - 居民区：平民居住场所
   - 手工业区：商业和手工业

3. **城市建筑**
   - 未央宫：汉武帝主要朝政场所
   - 长乐宫：太后居住宫殿
   - 建章宫：汉武帝修建的离宫

## 文化成就
1. **丝绸之路**
   - 起点：长安城
   - 开通时间：公元前138年张骞出使西域
   - 影响：促进中西文化交流

2. **文化融合**
   - 汉文化与西域文化交融
   - 佛教传入中国
   - 胡风胡俗的流行

3. **艺术发展**
   - 汉赋文学
   - 汉代绘画
   - 汉代音乐舞蹈

## 文化商业转译
汉代长安城文化的商业价值：

1. **文旅融合**
   - 汉文化主题公园
   - 长安城遗址公园
   - 汉文化体验项目

2. **文化创意**
   - 汉文化文创产品
   - 丝绸之路主题商品
   - 传统服饰开发

3. **文化服务**
   - 汉文化研学
   - 历史文化讲座
   - 文化咨询策划

## 文化价值
汉代长安城文化体现了：
- 开放包容的文化精神
- 兼容并蓄的文化胸怀
- 创新发展的文化动力
                """,
                "author": "历史学者",
                "tags": ["汉代", "长安城", "丝绸之路", "文化交流"]
            },
            {
                "title": "唐代长安盛世",
                "content": """
【唐代长安盛世】

唐代长安是中国古代最辉煌的都城，是当时世界的文化中心和经济中心。

## 盛世气象
- 城市规模：面积84平方公里，世界最大城市
- 人口规模：鼎盛时期达100万人
- 国际化程度：有数十万外国侨民
- 文化地位：世界文化中心

## 城市布局
1. **三重城郭**
   - 宫城：皇帝居住区
   - 皇城：政府机构区
   - 外郭城：居民居住区

2. **坊市制度**
   - 110坊：居民居住区
   - 东市、西市：商业贸易区
   - 严格的坊门制度

3. **文化地标**
   - 大雁塔：玄奘译经地
   - 小雁塔：荐福寺佛塔
   - 钟鼓楼：城市标志

## 文化繁荣
1. **诗歌文化**
   - 李白、杜甫等伟大诗人
   - 唐诗创作高峰
   - 诗歌文化的繁荣

2. **艺术文化**
   - 唐代绘画
   - 唐代音乐舞蹈
   - 唐代雕塑艺术

3. **宗教文化**
   - 佛教文化兴盛
   - 道教文化发展
   - 宗教文化的多元

4. **饮食文化**
   - 长安美食
   - 宴饮文化
   - 异域美食传入

## 文化商业转译
唐代长安文化商业价值巨大：

1. **文旅产业**
   - 唐文化主题景区
   - 大唐不夜城
   - 唐文化体验项目

2. **文创产业**
   - 唐风文创产品
   - 唐代服饰开发
   - 文化主题商品

3. **文化服务**
   - 唐文化研学
   - 传统礼仪培训
   - 文化活动策划

4. **数字文化**
   - 唐文化数字复原
   - VR体验项目
   - 数字博物馆

## 文化精神
唐代长安文化体现了：
- 开放包容的时代精神
- 兼容并蓄的文化胸怀
- 创新进取的发展动力
                """,
                "author": "文化学者",
                "tags": ["唐代", "长安", "盛唐文化", "文化繁荣"]
            },
            {
                "title": "丝绸之路与西安",
                "content": """
【丝绸之路与西安】

丝绸之路是古代连接东西方的重要贸易通道，西安是丝绸之路的起点。

## 历史背景
- 开通时间：公元前138年，张骞出使西域
- 全长：约7000公里
- 历史影响：促进东西方文化交流
- 现代价值：一带一路的历史基础

## 丝绸之路路线
1. **陆上丝绸之路**
   - 起点：长安（西安）
   - 路线：长安→河西走廊→西域→中亚→西亚→欧洲
   - 主要物资：丝绸、茶叶、瓷器、香料

2. **海上丝绸之路**
   - 起点：东南沿海港口
   - 路线：南海→印度洋→阿拉伯海→东非
   - 主要物资：陶瓷、丝绸、茶叶

## 文化交流
1. **物质文化交流**
   - 中国输出：丝绸、茶叶、瓷器、造纸术
   - 西方输入：香料、宝石、玻璃、宗教

2. **精神文化交流**
   - 佛教传入中国
   - 中国文化西传
   - 艺术交流融合

3. **科技交流**
   - 农业技术
   - 医学技术
   - 工艺技术

## 西安的地位
1. **历史地位**
   - 丝绸之路起点
   - 国际化大都市
   - 世界文化中心

2. **文化地位**
   - 文化交汇之地
   - 多元文化融合
   - 开放包容传统

3. **现代地位**
   - 一带一路重要节点
   - 国际文化交流中心
   - 现代丝路起点

## 文化商业转译
丝绸之路文化的商业价值：

1. **文旅产业**
   - 丝绸之路主题旅游
   - 文化体验项目
   - 国际交流合作

2. **文创产业**
   - 丝路主题文创产品
   - 文化艺术展览
   - 跨国文化合作

3. **文化产业**
   - 文化交流平台
   - 国际文化贸易
   - 文化创意服务

## 文化意义
丝绸之路文化体现了：
- 开放包容的文化精神
- 互利共赢的合作理念
- 文明互鉴的发展道路
                """,
                "author": "文化学者",
                "tags": ["丝绸之路", "一带一路", "文化交流", "国际合作"]
            }
        ]
    },
    "建筑文化": {
        "category_code": "city_wall",
        "documents": [
            {
                "title": "西安城墙的历史与文化",
                "content": """
【西安城墙的历史与文化】

西安城墙是中国现存规模最大、保存最完整的古代城墙，是西安的重要文化象征。

## 历史概况
- 建造时间：明太祖朱元璋洪武年间（1374-1378年）
- 规模：周长13.74公里，高12米，底宽15米
- 结构：夯土筑城，青砖包砌
- 保存：中国保存最完整的古城墙之一

## 城墙结构
1. **城墙主体**
   - 墙体：夯土心，青砖包砌
   - 雉堞：城墙顶部的垛口
   - 敌台：城墙上的防御平台

2. **城门体系**
   - 四门：东门（长乐门）、南门（永宁门）、西门（安定门）、北门（安远门）
   - 箭楼：城门防御建筑
   - 瓮城：城门外的小城

3. **防御设施**
   - 护城河：城墙外的护城河
   - 吊桥：城门的吊桥
   - 角楼：城墙角的瞭望塔

## 文化内涵
1. **防御文化**
   - 军事防御功能
   - 城市安全体系
   - 军事科技水平

2. **城治文化**
   - 城市治理理念
   - 城市规划思想
   - 城市管理制度

3. **生活文化**
   - 城市生活空间
   - 市民日常生活
   - 社会交往场所

## 文化保护与发展
1. **保护措施**
   - 城墙整体保护
   - 日常维护修缮
   - 环境综合整治

2. **开发利用**
   - 城墙景区
   - 文化活动场地
   - 城市公共空间

3. **文化传承**
   - 城墙文化研究
   - 文化遗产教育
   - 文化创意开发

## 文化商业转译
西安城墙文化的商业价值：

1. **文旅产业**
   - 城墙景区运营
   - 文化体验项目
   - 城墙马拉松

2. **文创产业**
   - 城墙文创产品
   - 文化主题商品
   - 艺术衍生品

3. **文化服务**
   - 城墙文化讲解
   - 历史文化讲座
   - 文化活动策划

## 文化价值
西安城墙文化体现了：
- 工匠精神与建筑智慧
- 城市记忆与文化传承
- 古城保护与现代发展的平衡
                """,
                "author": "建筑学者",
                "tags": ["城墙", "古城墙", "建筑文化", "文化遗产"]
            },
            {
                "title": "大雁塔与玄奘文化",
                "content": """
【大雁塔与玄奘文化】

大雁塔是西安的标志性建筑，是玄奘法师译经的重要场所，承载着深厚的佛教文化内涵。

## 历史背景
- 建造时间：唐高宗永徽三年（652年）
- 建造者：玄奘法师
- 用途：存放从印度带回的佛经和佛像
- 地位：佛教文化圣地

## 建筑特色
1. **建筑结构**
   - 类型：楼阁式砖塔
   - 高度：64.5米（7层）
   - 形制：仿木结构砖塔

2. **建筑风格**
   - 唐代建筑风格
   - 仿木结构雕刻
   - 简洁雄浑

3. **装饰艺术**
   - 砖雕艺术
   - 题字匾额
   - 壁画装饰

## 玄奘法师
1. **生平事迹**
   - 出生：602年
   - 西行：629年出发，645年返回
   - 成就：译经1335卷，撰述《大唐西域记》

2. **西行求法**
   - 路程：五万里
   - 历时：17年
   - 经历：千难万险

3. **译经事业**
   - 译经：大慈恩寺
   - 创立：唯识宗
   - 影响：佛教中国化

## 文化内涵
1. **佛教文化**
   - 佛教文化传播
   - 佛教思想研究
   - 佛教艺术发展

2. **翻译文化**
   - 翻译理论和方法
   - 中西文化交流
   - 翻译事业发展

3. **精神文化**
   - 坚韧不拔的意志
   - 追求真理的精神
   - 文化传承的责任

## 文化商业转译
大雁塔文化的商业价值：

1. **文旅产业**
   - 大雁塔景区
   - 佛教文化旅游
   - 文化研学项目

2. **文创产业**
   - 佛教主题文创产品
   - 玄奘文化商品
   - 传统佛教工艺品

3. **文化服务**
   - 佛教文化讲座
   - 禅修体验项目
   - 文化咨询策划

## 文化价值
大雁塔文化体现了：
- 宗教文化的神圣性
- 翻译文化的学术性
- 精神文化的崇高性
                """,
                "author": "佛教文化学者",
                "tags": ["大雁塔", "玄奘", "佛教文化", "翻译文化"]
            }
        ]
    },
    "艺术文化": {
        "category_code": "terracotta",
        "documents": [
            {
                "title": "秦俑的艺术价值",
                "content": """
【秦俑的艺术价值】

秦始皇兵马俑是中国古代雕塑艺术的巅峰之作，具有极高的艺术价值。

## 艺术特色
1. **写实主义**
   - 真人真马比例
   - 细致入微的表情
   - 真实的服饰装备

2. **个性鲜明**
   - 每个俑都有独特表情
   - 不同兵种不同姿态
   - 体现个体差异

3. **规模宏大**
   - 数量众多
   - 阵列整齐
   - 气势磅礴

## 艺术价值
1. **雕塑艺术**
   - 中国雕塑史上的里程碑
   - 写实主义的高峰
   - 影响深远

2. **彩绘艺术**
   - 精美的彩绘图案
   - 丰富的色彩运用
   - 高超的彩绘技术

3. **工艺艺术**
   - 制陶工艺精湛
   - 组装技术高超
   - 烧制技术先进

## 艺术影响
1. **对后世影响**
   - 影响汉代雕塑
   - 影响后世艺术发展
   - 成为艺术典范

2. **世界影响**
   - 世界文化遗产
   - 世界艺术瑰宝
   - 中国文化名片

## 文化商业转译
秦俑艺术的文化商业价值：

1. **艺术创作**
   - 秦俑艺术创作
   - 现代雕塑借鉴
   - 艺术展览交流

2. **文创产品**
   - 秦俑文创产品
   - 艺术衍生品
   - 文化纪念品

3. **艺术教育**
   - 艺术鉴赏教育
   - 艺术创作培训
   - 文化艺术讲座

## 艺术意义
秦俑艺术体现了：
- 古代工匠的精湛技艺
- 中华文化的博大精深
- 艺术创造的不朽价值
                """,
                "author": "艺术评论家",
                "tags": ["秦俑", "雕塑艺术", "彩绘艺术", "工艺艺术"]
            },
            {
                "title": "皮影戏的艺术特色",
                "content": """
【皮影戏的艺术特色】

皮影戏是中国民间艺术的瑰宝，西安皮影戏具有独特的艺术魅力。

## 历史渊源
- 起源：汉代，成熟于唐代，盛行于宋元
- 西安皮影：陕西皮影的重要分支
- 特点：造型生动，色彩鲜明，唱腔独特

## 艺术特色
1. **造型艺术**
   - 造型生动夸张
   - 线条流畅优美
   - 结构精巧合理

2. **色彩艺术**
   - 色彩鲜明大胆
   - 对比强烈和谐
   - 具有装饰性

3. **音乐艺术**
   - 唱腔独特
   - 音乐丰富
   - 表现力强

## 表演艺术
1. **操纵技巧**
   - 手法精巧
   - 动作生动
   - 配合默契

2. **唱腔艺术**
   - 唱腔独特
   - 情感丰富
   - 韵味十足

3. **剧目内容**
   - 历史故事
   - 民间传说
   - 生活题材

## 文化商业转译
皮影戏艺术的商业价值：

1. **艺术演出**
   - 皮影戏演出
   - 艺术交流
   - 文化展示

2. **文创产品**
   - 皮影文创产品
   - 艺术衍生品
   - 装饰品开发

3. **艺术教育**
   - 皮影制作教学
   - 艺术传承培训
   - 文化艺术体验

## 艺术价值
皮影戏艺术体现了：
- 民间艺术的创造力
- 传统艺术的魅力
- 文化传承的重要性
                """,
                "author": "民间艺术学者",
                "tags": ["皮影戏", "民间艺术", "传统艺术", "非物质文化遗产"]
            },
            {
                "title": "秦腔戏曲文化",
                "content": """
【秦腔戏曲文化】

秦腔是陕西的代表剧种，是中国梆子戏的鼻祖，具有深厚的文化底蕴。

## 历史沿革
- 起源：秦代，发展于唐代，成熟于明代
- 地位：中国梆子戏的鼻祖
- 影响：影响全国众多剧种

## 艺术特色
1. **唱腔特色**
   - 高亢激昂
   - 粗犷豪放
   - 情感真挚

2. **表演特色**
   - 动作夸张
   - 表演生动
   - 形式多样

3. **音乐特色**
   - 伴奏丰富
   - 节奏鲜明
   - 旋律优美

## 剧目内容
1. **历史剧**
   - 《窦娥冤》
   - 《火焰驹》
   - 《赵氏孤儿》

2. **民间故事**
   - 《三滴血》
   - 《铡美案》
   - 《周仁回府》

3. **现代戏**
   - 《梁秋燕》
   - 《血泪仇》
   - 《西安事变》

## 文化商业转译
秦腔文化的商业价值：

1. **文化演出**
   - 秦腔演出
   - 艺术交流
   - 文化展示

2. **文化传承**
   - 秦腔培训
   - 艺术传承
   - 文化教育

3. **文创产品**
   - 秦腔文创产品
   - 艺术衍生品
   - 文化纪念品

## 文化价值
秦腔文化体现了：
- 地方文化的特色
- 戏曲艺术的魅力
- 文化传承的价值
                """,
                "author": "戏曲学者",
                "tags": ["秦腔", "戏曲艺术", "地方戏曲", "传统艺术"]
            }
        ]
    },
    "饮食文化": {
        "category_code": "shaanxi_cuisine",
        "documents": [
            {
                "title": "陕菜的历史与特色",
                "content": """
【陕菜的历史与特色】

陕菜是中国传统八大菜系之一，具有悠久的历史和独特的风味。

## 历史渊源
- 起源：远古时期，成熟于周秦汉唐
- 地位：中国最早的宫廷菜系
- 影响：影响整个中国饮食文化

## 菜系特色
1. **风味特点**
   - 香辣浓郁
   - 味道醇厚
   - 口感丰富

2. **烹饪技法**
   - 炒、爆、炸、蒸、煮、炖
   - 技法多样
   - 火候精到

3. **选料讲究**
   - 选料广泛
   - 注重时令
   - 讲究搭配

## 经典菜式
1. **肉菜类**
   - 羊肉泡馍
   - 葫芦头
   - 腊牛羊肉

2. **面食类**
   - biangbiang面
   - 臊子面
   - 甑糕

3. **小食类**
   - 肉夹馍
   - 凉皮
   - 油泼面

## 文化商业转译
陕菜文化的商业价值：

1. **餐饮产业**
   - 陕菜餐厅
   - 特色小吃店
   - 美食街

2. **食品产业**
   - 陕菜食品加工
   - 特色食品开发
   - 食品品牌

3. **文化体验**
   - 美食体验项目
   - 美食文化讲座
   - 烹饪培训

## 文化价值
陕菜文化体现了：
- 饮食文化的智慧
- 地方风味的特色
- 生活文化的丰富多彩
                """,
                "author": "美食学者",
                "tags": ["陕菜", "陕西菜", "饮食文化", "美食文化"]
            },
            {
                "title": "牛羊肉泡馍文化",
                "content": """
【牛羊肉泡馍文化】

牛羊肉泡馍是西安最著名的特色小吃，是西安饮食文化的代表。

## 历史渊源
- 起源：汉代，发展于唐代
- 特点：料重味重，肉烂汤浓，香气诱人
- 地位：西安最著名的特色小吃

## 制作工艺
1. **原料准备**
   - 优质牛羊肉
   - 特制馍（托托馍）
   - 香料调料

2. **烹制过程**
   - 熬汤：文火慢炖
   - 煮肉：火候精到
   - 泡馍：手法讲究

3. **食用方式**
   - 自己掰馍
   - 大火快煮
   - 配糖蒜

## 文化内涵
1. **社交文化**
   - 朋友聚会
   - 家人团聚
   - 招待客人

2. **饮食智慧**
   - 营养搭配
   - 口感层次
   - 食疗价值

3. **地域特色**
   - 西北风味
   - 粗犷豪放
   - 朴实自然

## 文化商业转译
泡馍文化的商业价值：

1. **餐饮产业**
   - 泡馍餐厅
   - 连锁经营
   - 品牌发展

2. **食品产业**
   - 速食泡馍
   - 方便食品
   - 特产销售

3. **文化体验**
   - 美食体验项目
   - 泡馍制作教学
   - 美食文化讲座

## 文化价值
泡馍文化体现了：
- 饮食文化的智慧
- 地方文化的特色
- 生活文化的丰富多彩
                """,
                "author": "美食专家",
                "tags": ["泡馍", "羊肉泡馍", "特色小吃", "饮食文化"]
            }
        ]
    },
    "民俗文化": {
        "category_code": "festivals",
        "documents": [
            {
                "title": "西安节庆习俗文化",
                "content": """
【西安节庆习俗文化】

西安的节庆习俗丰富多彩，体现了深厚的文化底蕴和民俗传统。

## 主要节庆
1. **春节习俗**
   - 贴春联、挂灯笼
   - 吃饺子、团圆饭
   - 拜年、给压岁钱

2. **元宵节**
   - 看花灯、猜灯谜
   - 吃元宵、赏月
   - 社火表演

3. **端午节**
   - 吃粽子
   - 赛龙舟
   - 挂艾草、佩香囊

4. **中秋节**
   - 吃月饼
   - 赏月
   - 家庭团聚

## 特色活动
1. **社火表演**
   - 舞龙舞狮
   - 踩高跷
   - 耍旱船

2. **庙会活动**
   - 大雁塔庙会
   - 钟鼓楼庙会
   - 城隍庙庙会

3. **传统习俗**
   - 婚俗文化
   - 丧葬习俗
   - 民间信仰

## 文化商业转译
节庆习俗文化的商业价值：

1. **文旅产业**
   - 节庆旅游
   - 文化体验项目
   - 民俗表演

2. **文创产业**
   - 节庆文创产品
   - 传统工艺品
   - 文化纪念品

3. **文化服务**
   - 节庆活动策划
   - 民俗文化讲座
   - 文化咨询策划

## 文化价值
节庆习俗文化体现了：
- 传统文化的传承
- 民间文化的智慧
- 社会文化的和谐
                """,
                "author": "民俗学者",
                "tags": ["节庆", "民俗", "传统习俗", "民间文化"]
            }
        ]
    },
    "现代文化": {
        "category_code": "cultural_innovation",
        "documents": [
            {
                "title": "文化创新与产业发展",
                "content": """
【文化创新与产业发展】

西安的文化创新和产业发展正在蓬勃兴起，成为推动城市发展的重要动力。

## 创新方向
1. **文化科技融合**
   - 数字文化
   - VR/AR技术
   - 人工智能应用

2. **文化商业模式创新**
   - 文化IP开发
   - 跨界融合
   - 平台经济

3. **文化内容创新**
   - 原创内容
   - 网络文化
   - 新媒体文化

## 产业发展
1. **文创产业**
   - 文化创意设计
   - 文创产品开发
   - 品牌建设

2. **文旅产业**
   - 文化旅游
   - 文旅融合
   - 沉浸式体验

3. **数字产业**
   - 数字内容
   - 网络文学
   - 游戏动漫

## 文化商业转译
文化创新的商业价值：

1. **创新孵化**
   - 文化创意园区
   - 创新孵化平台
   - 创业支持

2. **产业合作**
   - 跨界合作
   - 产业联盟
   - 产业链整合

3. **品牌建设**
   - 文化品牌
   - 城市品牌
   - IP品牌

## 文化价值
文化创新体现了：
- 创新的时代精神
- 发展的内在动力
- 文化的生命力
                """,
                "author": "文化产业专家",
                "tags": ["文化创新", "文化产业", "文化发展", "文化创意"]
            }
        ]
    }
}

def import_knowledge():
    """导入文化知识库"""
    print("=" * 60)
    print("文化知识库数据导入")
    print("=" * 60)
    print(f"执行时间: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
    print("=" * 60)
    
    conn = get_db_connection()
    cursor = conn.cursor()
    
    # 创建西安文化知识库
    try:
        cursor.execute("""
            INSERT INTO knowledge_bases 
            (name, description, category_id, created_by, created_at, updated_at)
            VALUES (?, ?, ?, 1, ?, ?)
        """, (
            "西安文化知识库",
            "西安深厚的文化底蕴，包括历史文化、建筑文化、艺术文化、饮食文化、民俗文化、现代文化等各个方面",
            1,  # 历史文化分类
            datetime.now().isoformat(),
            datetime.now().isoformat()
        ))
        kb_id = cursor.lastrowid
        print(f"✅ 创建知识库: 西安文化知识库 (ID: {kb_id})")
    except Exception as e:
        print(f"⚠️  知识库可能已存在: {e}")
        cursor.execute("SELECT id FROM knowledge_bases WHERE name = '西安文化知识库'")
        kb_id = cursor.fetchone()['id']
        print(f"✅ 使用已有知识库 (ID: {kb_id})")
    
    # 导入分类与知识库的关联
    category_ids = []
    cursor.execute("SELECT id FROM knowledge_categories WHERE parent_id IS NULL")
    for row in cursor.fetchall():
        category_ids.append(row['id'])
        try:
            cursor.execute("""
                INSERT INTO knowledge_base_categories (knowledge_base_id, category_id, created_at)
                VALUES (?, ?, ?)
            """, (kb_id, row['id'], datetime.now().isoformat()))
            print(f"✅ 关联分类: {row['id']}")
        except sqlite3.IntegrityError:
            pass  # 已存在
    
    # 导入知识文档
    doc_count = 0
    for category_name, category_data in CULTURE_KNOWLEDGE.items():
        print(f"\n--- 导入分类: {category_name} ---")
        
        # 获取分类ID
        cursor.execute("""
            SELECT id FROM knowledge_categories WHERE code = ?
        """, (category_data['category_code'],))
        category_row = cursor.fetchone()
        if not category_row:
            print(f"⚠️  分类未找到: {category_data['category_code']}")
            continue
        
        category_id = category_row['id']
        
        # 导入文档
        for doc in category_data['documents']:
            try:
                cursor.execute("""
                    INSERT INTO knowledge_documents 
                    (knowledge_base_id, title, content, author, summary, created_at, updated_at)
                    VALUES (?, ?, ?, ?, ?, ?, ?)
                """, (
                    kb_id,
                    doc['title'],
                    doc['content'],
                    doc.get('author', ''),
                    doc['content'][:200] + '...' if len(doc['content']) > 200 else doc['content'],
                    datetime.now().isoformat(),
                    datetime.now().isoformat()
                ))
                doc_id = cursor.lastrowid
                print(f"  ✅ 导入文档: {doc['title']} (ID: {doc_id})")
                doc_count += 1
                
                # 导入标签
                for tag in doc.get('tags', []):
                    try:
                        # 查找或创建标签
                        cursor.execute("SELECT id FROM knowledge_tags WHERE name = ?", (tag,))
                        tag_row = cursor.fetchone()
                        if not tag_row:
                            cursor.execute("""
                                INSERT INTO knowledge_tags (name, code, created_at)
                                VALUES (?, ?, ?)
                            """, (tag, tag.lower().replace(' ', '_'), datetime.now().isoformat()))
                            tag_id = cursor.lastrowid
                            print(f"    ✅ 创建标签: {tag}")
                        else:
                            tag_id = tag_row['id']
                        
                        # 关联文档和标签
                        cursor.execute("""
                            INSERT INTO knowledge_document_tags (document_id, tag_id, created_at)
                            VALUES (?, ?, ?)
                        """, (doc_id, tag_id, datetime.now().isoformat()))
                    except sqlite3.IntegrityError:
                        pass  # 已存在
                        
            except Exception as e:
                print(f"  ❌ 导入文档失败: {doc['title']} - {e}")
    
    conn.commit()
    conn.close()
    
    print("\n" + "=" * 60)
    print(f"✅ 导入完成！共导入 {doc_count} 篇文档")
    print("=" * 60)

if __name__ == '__main__':
    import_knowledge()
