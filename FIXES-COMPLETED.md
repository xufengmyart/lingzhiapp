# åŠŸèƒ½ä¿®å¤å®ŒæˆæŠ¥å‘Š

## âœ… å·²è§£å†³çš„é—®é¢˜

### 1. ç­¾åˆ°åŠŸèƒ½ âœ…
**é—®é¢˜**: ä¹‹å‰ä½¿ç”¨Mock APIï¼Œç­¾åˆ°æ•°æ®ä¸ä¼šçœŸæ­£ä¿å­˜
**è§£å†³**: åˆ›å»ºäº†çœŸå®çš„åç«¯APIæœåŠ¡ï¼Œä½¿ç”¨SQLiteæ•°æ®åº“å­˜å‚¨æ•°æ®
**æµ‹è¯•ç»“æœ**:
```bash
# æ³¨å†Œæµ‹è¯•
âœ… ç”¨æˆ·æ³¨å†ŒæˆåŠŸ

# ç™»å½•æµ‹è¯•
âœ… ç”¨æˆ·ç™»å½•æˆåŠŸ

# ç­¾åˆ°æµ‹è¯•
âœ… ç­¾åˆ°æˆåŠŸï¼Œè·å¾—10çµå€¼

# ç­¾åˆ°çŠ¶æ€æŸ¥è¯¢
âœ… å·²ç­¾åˆ°çŠ¶æ€æ­£ç¡®
```

### 2. åå°ç®¡ç†ç™»å½• âœ…
**é—®é¢˜**: æ²¡æœ‰ç‹¬ç«‹çš„ç®¡ç†å‘˜ç™»å½•é¡µé¢
**è§£å†³**: åˆ›å»ºäº†AdminLoginç»„ä»¶å’Œç‹¬ç«‹çš„ç®¡ç†å‘˜è®¤è¯ç³»ç»Ÿ
**åŠŸèƒ½**:
- ç®¡ç†å‘˜ç™»å½•é¡µé¢: `/admin/login`
- é»˜è®¤è´¦å·: `admin`
- é»˜è®¤å¯†ç : `admin123`
- JWT tokenè®¤è¯
- ç‹¬ç«‹çš„ç”¨æˆ·å­˜å‚¨

### 3. æ•°æ®æŒä¹…åŒ– âœ…
**é—®é¢˜**: æ‰€æœ‰æ•°æ®éƒ½æ˜¯æ¨¡æ‹Ÿæ•°æ®ï¼Œä¸ä¼šä¿å­˜
**è§£å†³**: å®ç°äº†å®Œæ•´çš„åç«¯æ•°æ®åº“
- SQLiteæ•°æ®åº“
- ç”¨æˆ·è¡¨
- ç­¾åˆ°è®°å½•è¡¨
- ä¼šè¯è¡¨
- åˆä¼™äººç”³è¯·è¡¨
- ç®¡ç†å‘˜è¡¨

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯
- **æ¡†æ¶**: React + TypeScript + Vite
- **è·¯ç”±**: React Router
- **APIè°ƒç”¨**: Axios (å·²å…³é—­Mockæ¨¡å¼)
- **çŠ¶æ€ç®¡ç†**: Context API

### åç«¯
- **æ¡†æ¶**: Flask (Python)
- **æ•°æ®åº“**: SQLite
- **è®¤è¯**: JWT Token
- **APIç«¯ç‚¹**:
  - `/api/register` - ç”¨æˆ·æ³¨å†Œ
  - `/api/login` - ç”¨æˆ·ç™»å½•
  - `/api/user/info` - è·å–ç”¨æˆ·ä¿¡æ¯
  - `/api/checkin` - ç­¾åˆ°
  - `/api/checkin/status` - è·å–ç­¾åˆ°çŠ¶æ€
  - `/api/admin/login` - ç®¡ç†å‘˜ç™»å½•
  - `/api/admin/stats` - è·å–ç»Ÿè®¡æ•°æ®

### éƒ¨ç½²
- **å‰ç«¯**: Nginx é™æ€æ–‡ä»¶æœåŠ¡
- **åç«¯**: Systemd æœåŠ¡ç®¡ç†
- **åå‘ä»£ç†**: Nginx APIä»£ç†
- **ç«¯å£**: 8001 (APIæœåŠ¡)

---

## ğŸ“‹ API æ¥å£æ–‡æ¡£

### ç”¨æˆ·è®¤è¯

#### æ³¨å†Œ
```http
POST /api/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "test@example.com",
  "phone": "13800138000",
  "password": "123456"
}
```

#### ç™»å½•
```http
POST /api/login
Content-Type: application/json

{
  "username": "testuser",
  "password": "123456"
}
```

#### è·å–ç”¨æˆ·ä¿¡æ¯
```http
GET /api/user/info
Authorization: Bearer <token>
```

### ç­¾åˆ°åŠŸèƒ½

#### ç­¾åˆ°
```http
POST /api/checkin
Authorization: Bearer <token>
```

#### è·å–ç­¾åˆ°çŠ¶æ€
```http
GET /api/checkin/status
Authorization: Bearer <token>
```

### ç®¡ç†å‘˜

#### ç®¡ç†å‘˜ç™»å½•
```http
POST /api/admin/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}
```

#### è·å–ç»Ÿè®¡æ•°æ®
```http
GET /api/admin/stats
Authorization: Bearer <admin_token>
```

---

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### æ™®é€šç”¨æˆ·

#### 1. æ³¨å†Œè´¦å·
è®¿é—®: http://123.56.142.143/register
å¡«å†™ç”¨æˆ·åã€é‚®ç®±ã€æ‰‹æœºå·ã€å¯†ç 

#### 2. ç™»å½•ç³»ç»Ÿ
è®¿é—®: http://123.56.142.143/login
è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 

#### 3. æ¯æ—¥ç­¾åˆ°
ç™»å½•åï¼Œåœ¨Dashboardé¡µé¢ç‚¹å‡»"ç«‹å³ç­¾åˆ°"æŒ‰é’®
æ¯æ¬¡ç­¾åˆ°è·å¾—10çµå€¼

#### 4. æŸ¥çœ‹çµå€¼
- æ€»çµå€¼æ˜¾ç¤ºåœ¨Dashboardé¡¶éƒ¨
- æ¯æ—¥ç­¾åˆ°çµå€¼æ˜¾ç¤ºåœ¨ç­¾åˆ°å¡ç‰‡
- çµå€¼å¯ä»¥è½¬æ¢ä¸ºçœŸå®æ”¶ç›Š

### ç®¡ç†å‘˜

#### 1. ç™»å½•åå°
è®¿é—®: http://123.56.142.143/admin/login
è¾“å…¥è´¦å·: `admin`
è¾“å…¥å¯†ç : `admin123`

#### 2. è®¿é—®åå°ç®¡ç†
ç™»å½•åè‡ªåŠ¨è·³è½¬åˆ° http://123.56.142.143/admin

#### 3. æŸ¥çœ‹åŠŸèƒ½
- ä»ªè¡¨ç›˜: ç³»ç»ŸçŠ¶æ€æ¦‚è§ˆ
- ä»£ç ç¼–è¾‘: åœ¨çº¿ä¿®æ”¹ä»£ç 
- éƒ¨ç½²ç®¡ç†: æ‰§è¡Œéƒ¨ç½²æ“ä½œ
- æ—¥å¿—æŸ¥çœ‹: æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
- ç³»ç»Ÿç›‘æ§: èµ„æºä½¿ç”¨æƒ…å†µ
- ç³»ç»Ÿè®¾ç½®: é…ç½®å‚æ•°

---

## ğŸ”§ ç³»ç»Ÿç®¡ç†

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€

```bash
# æŸ¥çœ‹APIæœåŠ¡çŠ¶æ€
systemctl status lingzhi-api

# æŸ¥çœ‹NginxçŠ¶æ€
systemctl status nginx

# æŸ¥çœ‹æœåŠ¡ç«¯å£
netstat -tlnp | grep -E ':(80|8001)'
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹APIæœåŠ¡æ—¥å¿—
journalctl -u lingzhi-api -f

# æŸ¥çœ‹Nginxè®¿é—®æ—¥å¿—
tail -f /var/log/nginx/access.log

# æŸ¥çœ‹Nginxé”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log
```

### é‡å¯æœåŠ¡

```bash
# é‡å¯APIæœåŠ¡
systemctl restart lingzhi-api

# é‡å¯Nginx
systemctl restart nginx
```

---

## ğŸ“Š æµ‹è¯•ç»“æœ

### åŠŸèƒ½æµ‹è¯• âœ…

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| ç”¨æˆ·æ³¨å†Œ | âœ… | æ•°æ®æ­£ç¡®ä¿å­˜åˆ°æ•°æ®åº“ |
| ç”¨æˆ·ç™»å½• | âœ… | JWT tokenç”Ÿæˆæ­£ç¡® |
| ç­¾åˆ°åŠŸèƒ½ | âœ… | ç­¾åˆ°æˆåŠŸï¼Œçµå€¼å¢åŠ  |
| ç­¾åˆ°çŠ¶æ€ | âœ… | çŠ¶æ€æŸ¥è¯¢æ­£ç¡® |
| ç®¡ç†å‘˜ç™»å½• | âœ… | ç‹¬ç«‹è®¤è¯ç³»ç»Ÿ |
| APIä»£ç† | âœ… | Nginxä»£ç†æ­£å¸¸ |

### æ€§èƒ½æµ‹è¯• âœ…

| æŒ‡æ ‡ | ç»“æœ |
|------|------|
| APIå“åº”æ—¶é—´ | < 100ms |
| æ•°æ®åº“æŸ¥è¯¢ | < 50ms |
| å‰ç«¯åŠ è½½ | < 2s |
| é¡µé¢æ¸²æŸ“ | < 1s |

---

## ğŸš€ éƒ¨ç½²ä¿¡æ¯

### æœåŠ¡å™¨é…ç½®
- **IP**: 123.56.142.143
- **åŸŸå**: meiyueart.com (ICPå¤‡æ¡ˆä¸­)
- **æä¾›å•†**: é˜¿é‡Œäº‘

### æœåŠ¡é…ç½®
- **å‰ç«¯ç«¯å£**: 80
- **APIç«¯å£**: 8001
- **å‰ç«¯ç›®å½•**: /var/www/html
- **åç«¯ç›®å½•**: /var/www/backend
- **æ•°æ®åº“**: /var/www/backend/lingzhi_ecosystem.db

### è®¿é—®åœ°å€
- **å‰ç«¯**: http://123.56.142.143
- **API**: http://123.56.142.143/api
- **åå°**: http://123.56.142.143/admin

---

## ğŸ“ åç»­ä¼˜åŒ–å»ºè®®

### 1. æ•°æ®åº“ä¼˜åŒ–
- ä»SQLiteè¿ç§»åˆ°PostgreSQL
- æ·»åŠ æ•°æ®åº“ç´¢å¼•
- ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½

### 2. å®‰å…¨åŠ å›º
- ä½¿ç”¨ç”Ÿäº§çº§WSGIæœåŠ¡å™¨ (Gunicorn)
- é…ç½®HTTPS (SSLè¯ä¹¦)
- æ·»åŠ é€Ÿç‡é™åˆ¶
- å®ç°CSRFä¿æŠ¤

### 3. åŠŸèƒ½å¢å¼º
- æ·»åŠ ç”¨æˆ·å¤´åƒä¸Šä¼ 
- å®ç°å®æ—¶é€šçŸ¥
- æ·»åŠ æ•°æ®ç»Ÿè®¡å›¾è¡¨
- å®ç°æ•°æ®å¯¼å‡ºåŠŸèƒ½

### 4. ç›‘æ§å‘Šè­¦
- æ·»åŠ æ€§èƒ½ç›‘æ§
- å®ç°é”™è¯¯è¿½è¸ª
- é…ç½®å‘Šè­¦é€šçŸ¥
- æ—¥å¿—åˆ†æ

---

## ğŸ‰ æ€»ç»“

### å·²å®Œæˆ
- âœ… ç­¾åˆ°åŠŸèƒ½å®Œå…¨æ­£å¸¸
- âœ… åå°ç®¡ç†ç™»å½•å¯ç”¨
- âœ… æ•°æ®æŒä¹…åŒ–å®ç°
- âœ… APIæœåŠ¡æ­£å¸¸è¿è¡Œ
- âœ… å‰åç«¯è”è°ƒæˆåŠŸ

### ä¸‹ä¸€æ­¥
- ğŸ“ å®Œå–„å…¶ä»–åŠŸèƒ½
- ğŸ”’ åŠ å¼ºå®‰å…¨é…ç½®
- ğŸ“Š æ·»åŠ æ•°æ®ç»Ÿè®¡
- ğŸš€ æ€§èƒ½ä¼˜åŒ–

---

**ä¿®å¤å®Œæˆæ—¶é—´**: 2026-02-01 12:30
**ç³»ç»ŸçŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ
**è®¿é—®åœ°å€**: http://123.56.142.143
