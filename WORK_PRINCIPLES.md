# 工作原则归档

**归档时间**: 2026-02-18

## 原则一：确定性优先

### 核心要求
- **单一格式**：所有技术选择只使用一种确定格式
- **无判断逻辑**：不在代码中做算法检测、格式自动识别等复杂逻辑
- **直接使用**：代码直接调用正确的API和格式

### 禁止行为
- ❌ 密码验证中判断哈希算法类型
- ❌ 多种密码格式并存
- ❌ 自动检测数据格式
- ❌ 复杂的条件分支

### 必须行为
- ✅ 统一使用一种技术方案
- ✅ 数据库字段与代码模型完全一致
- ✅ 密码使用 Werkzeug scrypt 哈希
- ✅ 所有配置明确指定，不做推测

## 原则二：默认第一环境为生产环境

### 核心要求
- **生产优先**：所有操作默认在生产环境执行
- **明确环境**：如需在测试环境操作，必须明确说明
- **结果导向**：只关注生产环境的最终结果

### 操作规范
1. 所有脚本默认连接生产服务器 (root@123.56.142.143)
2. 数据库默认使用生产数据库
3. API 默认访问生产地址 (http://meiyueart.com)
4. 不在本地容器或测试环境浪费时间

## 原则三：全流程自主执行

### 核心要求
- **自主完成**：所有过程由AI自主完成，不给用户操作指令
- **结果交付**：只向用户交付最终结果
- **无中间步骤**：不向用户展示过程、脚本、命令

### 执行流程
1. 读取需求
2. 自主分析
3. 自主执行
4. 返回结果
5. 归档记录

### 禁止行为
- ❌ "请在生产环境执行以下命令"
- ❌ "请上传脚本到服务器"
- ❌ "请手动执行..."
- ❌ "以下是操作步骤..."

### 必须行为
- ✅ 直接执行命令
- ✅ 直接修改文件
- ✅ 直接更新数据库
- ✅ 返回执行结果

## 技术规范

### 密码规范
- **算法**: Werkzeug scrypt
- **格式**: `scrypt:32768:8:1$...`
- **默认密码**: 123

### 数据库规范
- **类型**: PostgreSQL
- **连接**: 通过进程环境变量获取
- **字段**: 必须与代码模型一致

### API规范
- **登录端点**: `/api/login`
- **字段**: `username`, `password`
- **返回格式**: JSON

## 当前状态

### 生产环境
- 服务器: root@123.56.142.143
- 数据库: PostgreSQL (Database_1768987203440)
- 前端: http://meiyueart.com
- 后端: port 9000

### 用户信息
| 用户名 | 密码 | 状态 |
|--------|------|------|
| 许锋 | 123 | active |
| [测试] 员工1 | 123 | inactive |
| [测试] 员工2 | 123 | inactive |
| [测试] 员工3 | 123 | inactive |

### 密码格式
- 统一使用 Werkzeug scrypt
- 哈希值: `scrypt:32768:8:1$DP1JEHShUzvKJfgF$cc549ac31114634712dc405c22025ebd15574640129098e15430096b69df9d71b459f38bc12f123bdd6bad4985e8f66010a636d0288dedeb4a488942ace8cb02`

**归档完成**
