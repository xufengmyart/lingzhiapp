# ğŸ” çµå€¼ç”Ÿæ€å›­ - ç”¨æˆ·å¯†ç ç®¡ç†æ–‡æ¡£

> **åˆ›å»ºæ—¶é—´**: 2026-02-11  
> **ç›®çš„**: ç»Ÿä¸€ç”¨æˆ·å¯†ç ï¼Œä¾¿äºç®¡ç†å’Œæµ‹è¯•  
> **é»˜è®¤å¯†ç **: 123456

---

## ğŸ“‹ æ¦‚è¿°

### å¯†ç é‡ç½®ç›®æ ‡
å°†æ‰€æœ‰ç”¨æˆ·çš„åˆå§‹å¯†ç ç»Ÿä¸€è®¾ç½®ä¸º **123456**ï¼Œä¾¿äºï¼š
- ç®¡ç†å‘˜å¿«é€Ÿç™»å½•
- æ–°ç”¨æˆ·æµ‹è¯•ç³»ç»Ÿ
- æ—¥å¸¸ç»´æŠ¤å’Œè°ƒè¯•
- æ¼”ç¤ºå’Œå±•ç¤º

### å¯†ç åŠ å¯†æ–¹å¼

**åŠ å¯†ç®—æ³•**: SHA256

**åŠ å¯†å‡½æ•°**:
```python
def hash_password(password):
    """å¯†ç å“ˆå¸Œï¼ˆSHA256ï¼‰"""
    return hashlib.sha256(password.encode()).hexdigest()
```

**å¯†ç å“ˆå¸Œå€¼** (123456):
```
8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92
```

---

## ğŸ“Š å½“å‰ç”¨æˆ·ä¿¡æ¯

### ç”¨æˆ·åˆ—è¡¨

| ID | ç”¨æˆ·å | æ‰‹æœºå· | é‚®ç®± | çŠ¶æ€ | å¯†ç  |
|----|-------|--------|------|------|------|
| 1 | 17372200593 | 17372200593 | test@example.com | active | 123456 |
| 2 | admin | 13800138000 | admin@meiyueart.com | active | 123456 |

**æ€»è®¡**: 2 ä¸ªç”¨æˆ·

**ç™»å½•æ–¹å¼**:
- ç”¨æˆ· 1: æ‰‹æœºå·ç™»å½• (17372200593)
- ç”¨æˆ· 2: ç”¨æˆ·åç™»å½• (admin)

---

## ğŸ› ï¸ å¯†ç é‡ç½®è„šæœ¬

### æ–¹æ¡ˆ 1: å¿«é€Ÿé‡ç½®ï¼ˆæ¨èï¼‰

**è„šæœ¬**: `scripts/reset-passwords-now.py`

**ç”¨é€”**: ä¸€é”®é‡ç½®æ‰€æœ‰ç”¨æˆ·å¯†ç ä¸º 123456

**ä½¿ç”¨æ–¹æ³•**:
```bash
cd /workspace/projects
python3 scripts/reset-passwords-now.py
```

**ç‰¹ç‚¹**:
- âœ… éäº¤äº’å¼ï¼Œè‡ªåŠ¨æ‰§è¡Œ
- âœ… è‡ªåŠ¨å¤‡ä»½æ•°æ®åº“
- âœ… éªŒè¯é‡ç½®ç»“æœ
- âœ… æ˜¾ç¤ºè¯¦ç»†æ—¥å¿—

### æ–¹æ¡ˆ 2: äº¤äº’å¼é‡ç½®

**è„šæœ¬**: `scripts/reset_user_passwords.py`

**ç”¨é€”**: äº¤äº’å¼é‡ç½®ï¼Œæ”¯æŒé€‰æ‹©æ€§é‡ç½®

**ä½¿ç”¨æ–¹æ³•**:
```bash
cd /workspace/projects
python3 scripts/reset_user_passwords.py
```

**åŠŸèƒ½**:
- âœ… æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨
- âœ… é€‰æ‹©é‡ç½®èŒƒå›´ï¼ˆå…¨éƒ¨/å•ä¸ª/æ¡ä»¶ï¼‰
- âœ… ç¡®è®¤æ“ä½œ
- âœ… éªŒè¯ç»“æœ

### æ–¹æ¡ˆ 3: Shell è„šæœ¬ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

**è„šæœ¬**: `scripts/reset-all-passwords.sh`

**ç”¨é€”**: åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šé‡ç½®å¯†ç 

**ä½¿ç”¨æ–¹æ³•**:
```bash
cd /var/www/meiyueart
bash scripts/reset-all-passwords.sh
```

**å¼ºåˆ¶æ¨¡å¼**:
```bash
bash scripts/reset-all-passwords.sh --force
```

---

## ğŸ” éªŒè¯å¯†ç é‡ç½®

### æ–¹æ³• 1: ä½¿ç”¨æµ‹è¯•è„šæœ¬

**è„šæœ¬**: `scripts/test_users.py`

**ä½¿ç”¨æ–¹æ³•**:
```bash
cd /workspace/projects
python3 scripts/test_users.py
```

### æ–¹æ³• 2: æŸ¥è¯¢æ•°æ®åº“

```python
import sqlite3

DATABASE = '/workspace/projects/lingzhi_ecosystem.db'
conn = sqlite3.connect(DATABASE)
cursor = conn.cursor()

# æŸ¥è¯¢ç”¨æˆ·å¯†ç å“ˆå¸Œ
cursor.execute('SELECT id, username, password_hash FROM users')
for row in cursor.fetchall():
    print(f"ID: {row[0]}, ç”¨æˆ·å: {row[1]}, å¯†ç å“ˆå¸Œ: {row[2]}")

conn.close()
```

### æ–¹æ³• 3: æµ‹è¯•ç™»å½•

**å‰ç«¯ç™»å½•**:
1. æ‰“å¼€æµè§ˆå™¨è®¿é—® `https://meiyueart.com`
2. è¾“å…¥ç”¨æˆ·å/æ‰‹æœºå·å’Œå¯†ç 
3. ç‚¹å‡»ç™»å½•
4. éªŒè¯æ˜¯å¦æˆåŠŸ

**ç”¨æˆ· 1**:
- ç”¨æˆ·å/æ‰‹æœºå·: 17372200593
- å¯†ç : 123456

**ç”¨æˆ· 2**:
- ç”¨æˆ·å: admin
- å¯†ç : 123456

---

## ğŸ“ å¯†ç é‡ç½®æ—¥å¿—

### 2026-02-11 09:05:31

**æ“ä½œ**: é‡ç½®æ‰€æœ‰ç”¨æˆ·å¯†ç ä¸º 123456

**ç»“æœ**: âœ… æˆåŠŸ

**è¯¦æƒ…**:
- æ•°æ®åº“: /workspace/projects/lingzhi_ecosystem.db
- å¤‡ä»½æ–‡ä»¶: lingzhi_ecosystem.db.backup.20260211_090531
- é‡ç½®ç”¨æˆ·æ•°: 2
- å¯†ç å“ˆå¸Œ: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92
- éªŒè¯é€šè¿‡: 2/2

---

## ğŸ”’ å®‰å…¨å»ºè®®

### çŸ­æœŸæªæ–½

1. **é€šçŸ¥ç”¨æˆ·**
   - æ‰€æœ‰ç”¨æˆ·å¯†ç å·²é‡ç½®ä¸º 123456
   - å»ºè®®ç”¨æˆ·é¦–æ¬¡ç™»å½•åç«‹å³ä¿®æ”¹å¯†ç 

2. **ç®¡ç†å‘˜å¯†ç **
   - å»ºè®®ç®¡ç†å‘˜ä¿®æ”¹é»˜è®¤å¯†ç 
   - ä½¿ç”¨å¼ºå¯†ç ï¼ˆè‡³å°‘ 12 ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦ï¼‰

### é•¿æœŸæªæ–½

1. **å¯†ç ç­–ç•¥**
   - å¼ºåˆ¶å¯†ç å¤æ‚åº¦
   - å¯†ç è¿‡æœŸç­–ç•¥
   - ç¦æ­¢ä½¿ç”¨å¼±å¯†ç 

2. **åŒå› ç´ è®¤è¯**
   - å¯ç”¨çŸ­ä¿¡éªŒè¯ç 
   - å¯ç”¨é‚®ç®±éªŒè¯
   - é›†æˆç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆå¾®ä¿¡ã€QQï¼‰

3. **å¯†ç åŠ å¯†å‡çº§**
   - ä» SHA256 å‡çº§åˆ° bcrypt
   - æ·»åŠ å¯†ç ç›å€¼
   - ä½¿ç”¨ PBKDF2 æˆ– Argon2

---

## ğŸš¨ åº”æ€¥å¤„ç†

### å¦‚æœå¯†ç é‡ç½®å¤±è´¥

1. **æ£€æŸ¥æ•°æ®åº“**
   ```bash
   ls -lh lingzhi_ecosystem.db*
   ```

2. **æ¢å¤å¤‡ä»½**
   ```bash
   cp lingzhi_ecosystem.db.backup.20260211_090531 lingzhi_ecosystem.db
   ```

3. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   tail -f /var/log/flask-app-error.log
   ```

### å¦‚æœç”¨æˆ·æ— æ³•ç™»å½•

1. **æ£€æŸ¥æœåŠ¡çŠ¶æ€**
   ```bash
   systemctl status flask-app
   ```

2. **æ£€æŸ¥ç™»å½• API**
   ```bash
   curl -X POST http://localhost:8080/api/login \
     -H "Content-Type: application/json" \
     -d '{"username":"admin","password":"123456"}'
   ```

3. **é‡ç½®æŒ‡å®šç”¨æˆ·å¯†ç **
   ```bash
   python3 scripts/reset_user_passwords.py
   # é€‰æ‹©é€‰é¡¹ 2ï¼Œè¾“å…¥ç”¨æˆ· ID
   ```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| `scripts/reset-passwords-now.py` | å¿«é€Ÿå¯†ç é‡ç½®è„šæœ¬ |
| `scripts/reset_user_passwords.py` | äº¤äº’å¼å¯†ç é‡ç½®è„šæœ¬ |
| `scripts/reset-all-passwords.sh` | ç”Ÿäº§ç¯å¢ƒå¯†ç é‡ç½®è„šæœ¬ |
| `scripts/test_users.py` | ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢è„šæœ¬ |

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

### é»˜è®¤å¯†ç 
```
123456
```

### æµ‹è¯•è´¦å·

**è´¦å· 1**:
- ç”¨æˆ·å/æ‰‹æœºå·: 17372200593
- å¯†ç : 123456
- çŠ¶æ€: active

**è´¦å· 2**:
- ç”¨æˆ·å: admin
- å¯†ç : 123456
- çŠ¶æ€: active

### å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨
python3 scripts/test_users.py

# é‡ç½®æ‰€æœ‰ç”¨æˆ·å¯†ç 
python3 scripts/reset-passwords-now.py

# äº¤äº’å¼é‡ç½®
python3 scripts/reset_user_passwords.py

# ç”Ÿäº§ç¯å¢ƒé‡ç½®
bash scripts/reset-all-passwords.sh
```

---

## ğŸ“ æ”¯æŒ

### é‡åˆ°é—®é¢˜ï¼Ÿ

1. æŸ¥çœ‹æ—¥å¿—
   ```bash
   tail -f /var/log/flask-app-error.log
   ```

2. æ£€æŸ¥æœåŠ¡
   ```bash
   systemctl status flask-app
   ```

3. æ¢å¤å¤‡ä»½
   ```bash
   cp lingzhi_ecosystem.db.backup.* lingzhi_ecosystem.db
   ```

---

**åˆ›å»ºè€…**: Coze Coding  
**ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2026-02-11  
**çŠ¶æ€**: âœ… å®Œæˆ
