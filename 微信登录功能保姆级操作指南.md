# å¾®ä¿¡ç™»å½•åŠŸèƒ½ä¿å§†çº§æ“ä½œæŒ‡å—

> ğŸ“– **é˜…è¯»æç¤º**ï¼šæœ¬æŒ‡å—ä¸“ä¸ºé›¶åŸºç¡€ç”¨æˆ·è®¾è®¡ï¼Œæ¯ä¸€ä¸ªæ­¥éª¤éƒ½é…æœ‰è¯¦ç»†è¯´æ˜ã€å‘½ä»¤ç¤ºä¾‹ã€é¢„æœŸè¾“å‡ºã€å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆã€‚è¯·æŒ‰ç…§é¡ºåºä¾æ¬¡æ“ä½œï¼Œä¸è¦è·³è¿‡ä»»ä½•æ­¥éª¤ã€‚

---

## ğŸ“‹ ç›®å½•

1. [å¼€å§‹ä¹‹å‰](#1-å¼€å§‹ä¹‹å‰)
2. [å‡†å¤‡ä½ çš„ç”µè„‘](#2-å‡†å¤‡ä½ çš„ç”µè„‘)
3. [ç”³è¯·å¾®ä¿¡å¼€æ”¾å¹³å°è´¦å·](#3-ç”³è¯·å¾®ä¿¡å¼€æ”¾å¹³å°è´¦å·)
4. [è·å–å¾®ä¿¡é…ç½®ä¿¡æ¯](#4-è·å–å¾®ä¿¡é…ç½®ä¿¡æ¯)
5. [é…ç½®åç«¯ä»£ç ](#5-é…ç½®åç«¯ä»£ç )
6. [é…ç½®æ•°æ®åº“](#6-é…ç½®æ•°æ®åº“)
7. [æµ‹è¯•å¾®ä¿¡ç™»å½•](#7-æµ‹è¯•å¾®ä¿¡ç™»å½•)
8. [éƒ¨ç½²åˆ°æœåŠ¡å™¨](#8-éƒ¨ç½²åˆ°æœåŠ¡å™¨)
9. [å¸¸è§é—®é¢˜è§£å†³](#9-å¸¸è§é—®é¢˜è§£å†³)

---

## 1. å¼€å§‹ä¹‹å‰

### ğŸ¯ ä½ å°†å­¦ä¼šä»€ä¹ˆ

å®Œæˆæœ¬æŒ‡å—åï¼Œä½ å°†èƒ½å¤Ÿï¼š
- âœ… ç”³è¯·å¾®ä¿¡å¼€æ”¾å¹³å°è´¦å·
- âœ… è·å–å¾®ä¿¡ç™»å½•æ‰€éœ€çš„ AppID å’Œ AppSecret
- âœ… é…ç½®åç«¯ä»£ç æ”¯æŒå¾®ä¿¡ç™»å½•
- âœ… æµ‹è¯•å¾®ä¿¡ç™»å½•åŠŸèƒ½
- âœ… å°†åŠŸèƒ½éƒ¨ç½²åˆ°ç”Ÿäº§æœåŠ¡å™¨

### ğŸ“¦ ä½ éœ€è¦å‡†å¤‡ä»€ä¹ˆ

**å¿…å¤‡ç‰©å“ï¼š**
1. ä¸€å°ç”µè„‘ï¼ˆWindowsã€Mac æˆ– Linux éƒ½å¯ä»¥ï¼‰
2. ä¸€ä¸ªå¾®ä¿¡è´¦å·ï¼ˆç”¨äºæ‰«ç æµ‹è¯•ï¼‰
3. ä¸€ä¸ªä¼ä¸šè¥ä¸šæ‰§ç…§ï¼ˆç”³è¯·å¾®ä¿¡å¼€æ”¾å¹³å°éœ€è¦ï¼‰
4. ä¸€ä¸ªå·²ç»å¤‡æ¡ˆçš„åŸŸåï¼ˆéƒ¨ç½²åˆ°æœåŠ¡å™¨éœ€è¦ï¼‰

**å¿…å¤‡è½¯ä»¶ï¼š**
- Node.jsï¼ˆå‰ç«¯å¼€å‘ï¼‰
- Python 3.13+ï¼ˆåç«¯å¼€å‘ï¼‰
- npmï¼ˆNode.js åŒ…ç®¡ç†å™¨ï¼‰
- pipï¼ˆPython åŒ…ç®¡ç†å™¨ï¼‰

**å¿…å¤‡è´¦å·ï¼š**
- å¾®ä¿¡å¼€æ”¾å¹³å°è´¦å·ï¼ˆéœ€è¦ä¼ä¸šè®¤è¯ï¼‰
- æœåŠ¡å™¨ SSH è®¿é—®æƒé™

### â±ï¸ é¢„è®¡æ—¶é—´

- ç”³è¯·å¾®ä¿¡å¼€æ”¾å¹³å°ï¼š1-3 ä¸ªå·¥ä½œæ—¥ï¼ˆéœ€è¦å®¡æ ¸ï¼‰
- é…ç½®ä»£ç ï¼š30 åˆ†é’Ÿ
- æµ‹è¯•åŠŸèƒ½ï¼š10 åˆ†é’Ÿ
- éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼š20 åˆ†é’Ÿ

**æ€»è®¡ï¼š** çº¦ 1 å°æ—¶ï¼ˆä¸å«å¾®ä¿¡å®¡æ ¸æ—¶é—´ï¼‰

---

## 2. å‡†å¤‡ä½ çš„ç”µè„‘

### 2.1 æ£€æŸ¥ Node.js ç‰ˆæœ¬

**æ“ä½œæ­¥éª¤ï¼š**

1. æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·
   - **Windows**ï¼šæŒ‰ `Win + R`ï¼Œè¾“å…¥ `cmd`ï¼ŒæŒ‰å›è½¦
   - **Mac**ï¼šæŒ‰ `Cmd + Space`ï¼Œè¾“å…¥ `Terminal`ï¼ŒæŒ‰å›è½¦
   - **Linux**ï¼šæŒ‰ `Ctrl + Alt + T`

2. è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
node --version
```

**æ­£ç¡®è¾“å‡ºç¤ºä¾‹ï¼š**
```
v18.17.0
```

**å¦‚æœæŠ¥é”™ï¼š**
```
'node' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. è®¿é—® https://nodejs.org/
2. ä¸‹è½½æœ€æ–° LTS ç‰ˆæœ¬ï¼ˆæ¨è v18.xï¼‰
3. è¿è¡Œå®‰è£…ç¨‹åºï¼Œä¸€è·¯ç‚¹å‡»"ä¸‹ä¸€æ­¥"
4. å®‰è£…å®Œæˆåï¼Œé‡æ–°æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·
5. å†æ¬¡è¿è¡Œ `node --version`

**å¦‚æœç‰ˆæœ¬è¿‡ä½ï¼ˆä½äº v18ï¼‰ï¼š**
```
v14.17.0
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. è®¿é—® https://nodejs.org/
2. ä¸‹è½½æœ€æ–° LTS ç‰ˆæœ¬
3. è¿è¡Œå®‰è£…ç¨‹åº
4. é‡æ–°æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·
5. å†æ¬¡è¿è¡Œ `node --version`

### 2.2 æ£€æŸ¥ npm ç‰ˆæœ¬

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­è¾“å…¥ï¼š

```bash
npm --version
```

**æ­£ç¡®è¾“å‡ºç¤ºä¾‹ï¼š**
```
9.6.7
```

**å¦‚æœæŠ¥é”™ï¼š**
```
'npm' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤
```

**è§£å†³æ–¹æ¡ˆï¼š**
- é‡æ–°å®‰è£… Node.jsï¼ˆnpm ä¼šéš Node.js ä¸€èµ·å®‰è£…ï¼‰

### 2.3 æ£€æŸ¥ Python ç‰ˆæœ¬

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­è¾“å…¥ï¼š

```bash
python3 --version
```

**æ­£ç¡®è¾“å‡ºç¤ºä¾‹ï¼š**
```
Python 3.13.0
```

**å¦‚æœæŠ¥é”™ï¼š**
```
'python3' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤
```

**Windows è§£å†³æ–¹æ¡ˆï¼š**
1. è®¿é—® https://www.python.org/downloads/
2. ä¸‹è½½ Python 3.13.x Windows installer
3. è¿è¡Œå®‰è£…ç¨‹åº
   - âœ… å‹¾é€‰"Add Python to PATH"
   - ç‚¹å‡»"Install Now"
4. å®‰è£…å®Œæˆåï¼Œé‡æ–°æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·
5. å†æ¬¡è¿è¡Œ `python3 --version`

**Mac è§£å†³æ–¹æ¡ˆï¼š**
```bash
# å¦‚æœå·²å®‰è£… Homebrew
brew install python@3.13

# å¦‚æœæ²¡æœ‰ Homebrew
# è®¿é—® https://www.python.org/downloads/macos/ ä¸‹è½½å®‰è£…
```

**Linux è§£å†³æ–¹æ¡ˆï¼š**
```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install python3.13

# CentOS/RHEL
sudo yum install python3.13
```

### 2.4 æ£€æŸ¥ pip ç‰ˆæœ¬

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­è¾“å…¥ï¼š

```bash
pip3 --version
```

**æ­£ç¡®è¾“å‡ºç¤ºä¾‹ï¼š**
```
pip 24.0.0 from /usr/local/lib/python3.13/site-packages/pip (python 3.13)
```

**å¦‚æœæŠ¥é”™ï¼š**
```
'pip3' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤
```

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
# é‡æ–°å®‰è£… pip
python3 -m ensurepip --upgrade
```

### 2.5 è¿›å…¥é¡¹ç›®ç›®å½•

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­è¾“å…¥ï¼š

```bash
cd /workspace/projects
```

**éªŒè¯æ˜¯å¦æˆåŠŸï¼š**

```bash
pwd
```

**æ­£ç¡®è¾“å‡ºï¼š**
```
/workspace/projects
```

**æŸ¥çœ‹é¡¹ç›®æ–‡ä»¶ï¼š**

```bash
ls -la
```

**åº”è¯¥çœ‹åˆ°ï¼š**
```
drwxr-xr-x 5 root root 4096 Feb 1 16:00 admin-backend
drwxr-xr-x 5 root root 4096 Feb 1 16:00 web-app
-rw-r--r-- 1 root root 1234 Feb 1 16:00 README.md
```

**å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼š**

```bash
mkdir -p /workspace/projects
cd /workspace/projects
```

### 2.6 ç¯å¢ƒæ£€æŸ¥æ¸…å•

åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹æ‰€æœ‰é¡¹ç›®éƒ½å·²é€šè¿‡ï¼š

- [ ] Node.js ç‰ˆæœ¬ >= 18.x
- [ ] npm ç‰ˆæœ¬ >= 9.x
- [ ] Python ç‰ˆæœ¬ >= 3.13.x
- [ ] pip ç‰ˆæœ¬ >= 24.x
- [ ] å·²è¿›å…¥é¡¹ç›®ç›®å½• /workspace/projects
- [ ] å¯ä»¥çœ‹åˆ° admin-backend å’Œ web-app ç›®å½•

**å¦‚æœæœ‰ä»»ä½•ä¸€é¡¹æœªé€šè¿‡ï¼Œè¯·å…ˆè§£å†³ï¼Œç„¶åå†ç»§ç»­ã€‚**

---

## 3. ç”³è¯·å¾®ä¿¡å¼€æ”¾å¹³å°è´¦å·

### 3.1 å‡†å¤‡ç”³è¯·ææ–™

**å¿…å¤‡ææ–™ï¼š**
1. **è¥ä¸šæ‰§ç…§**ï¼ˆå½©è‰²æ‰«æä»¶ï¼‰
   - æ ¼å¼ï¼šJPG æˆ– PNG
   - å¤§å°ï¼šä¸è¶…è¿‡ 5MB
   - è¦æ±‚ï¼šæ¸…æ™°ã€å®Œæ•´ã€æ— é®æŒ¡
   - å»ºè®®ï¼šä½¿ç”¨ä¸“ä¸šæ‰«æä»ªæ‰«æ

2. **ç»„ç»‡æœºæ„ä»£ç è¯**ï¼ˆå¦‚æœè¥ä¸šæ‰§ç…§æ²¡æœ‰ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç ï¼‰
   - æ ¼å¼ï¼šJPG æˆ– PNG
   - å¤§å°ï¼šä¸è¶…è¿‡ 5MB

3. **è¿è¥è€…èº«ä»½è¯**ï¼ˆæ­£åé¢ï¼‰
   - æ ¼å¼ï¼šJPG æˆ– PNG
   - å¤§å°ï¼šæ¯å¼ ä¸è¶…è¿‡ 5MB
   - è¦æ±‚ï¼šæ¸…æ™°ã€æ— é®æŒ¡

4. **å¯¹å…¬é“¶è¡Œè´¦æˆ·ä¿¡æ¯**
   - é“¶è¡Œåç§°
   - å¼€æˆ·è¡Œ
   - è´¦å·
   - è´¦æˆ·åç§°ï¼ˆå¿…é¡»ä¸è¥ä¸šæ‰§ç…§ä¸€è‡´ï¼‰

5. **åº”ç”¨å›¾æ ‡**
   - å°ºå¯¸ï¼š108x108 åƒç´ 
   - æ ¼å¼ï¼šPNG
   - å¤§å°ï¼šä¸è¶…è¿‡ 2MB
   - è¦æ±‚ï¼šåœ†è§’ã€æ­£æ–¹å½¢ã€æ¸…æ™°ã€èƒŒæ™¯é€æ˜

6. **åº”ç”¨å®˜ç½‘åœ°å€**
   - æ ¼å¼ï¼šhttps://your-domain.com
   - è¦æ±‚ï¼šå¯æ­£å¸¸è®¿é—®ã€å†…å®¹å®Œæ•´

**å¦‚ä½•å‡†å¤‡åº”ç”¨å›¾æ ‡ï¼š**

**æ–¹æ³• 1ï¼šä½¿ç”¨åœ¨çº¿å·¥å…·**
1. è®¿é—® https://www.favicon-generator.org/
2. ä¸Šä¼ ä½ çš„ Logo å›¾ç‰‡
3. é€‰æ‹©å°ºå¯¸ 108x108
4. ç‚¹å‡»"Generate"ç”Ÿæˆå›¾æ ‡
5. ä¸‹è½½ PNG æ ¼å¼

**æ–¹æ³• 2ï¼šä½¿ç”¨ Photoshop**
1. æ–°å»ºç”»å¸ƒï¼š108x108 åƒç´ 
2. å¯¼å…¥ä½ çš„ Logo
3. è°ƒæ•´å¤§å°å’Œä½ç½®
4. å¯¼å‡ºä¸º PNG æ ¼å¼

**æ–¹æ³• 3ï¼šä½¿ç”¨ Figma**
1. æ–°å»ºç”»å¸ƒï¼š108x108
2. å¯¼å…¥ä½ çš„ Logo
3. è°ƒæ•´å¤§å°å’Œä½ç½®
4. å¯¼å‡ºä¸º PNG æ ¼å¼

### 3.2 æ³¨å†Œå¼€å‘è€…è´¦å·

**æ“ä½œæ­¥éª¤ï¼š**

#### æ­¥éª¤ 1ï¼šè®¿é—®å¾®ä¿¡å¼€æ”¾å¹³å°

1. åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼šhttps://open.weixin.qq.com/
2. é¡µé¢åŠ è½½åï¼Œä½ ä¼šçœ‹åˆ°å¾®ä¿¡å¼€æ”¾å¹³å°çš„é¦–é¡µ
3. é¡µé¢é¡¶éƒ¨æœ‰"ç™»å½•"å’Œ"æ³¨å†Œ"æŒ‰é’®

#### æ­¥éª¤ 2ï¼šç‚¹å‡»æ³¨å†Œ

1. ç‚¹å‡»å³ä¸Šè§’çš„"æ³¨å†Œ"æŒ‰é’®
2. é¡µé¢ä¼šè·³è½¬åˆ°è´¦å·ç±»å‹é€‰æ‹©é¡µé¢

#### æ­¥éª¤ 3ï¼šé€‰æ‹©è´¦å·ç±»å‹

é¡µé¢æ˜¾ç¤ºè´¦å·ç±»å‹é€‰æ‹©ï¼š
- â–¡ ä¸ªäºº
- â—‹ ä¼ä¸šï¼ˆâœ… ç‚¹å‡»é€‰æ‹©æ­¤é¡¹ï¼‰
- â–¡ æ”¿åºœ
- â–¡ åª’ä½“
- â–¡ å…¶ä»–ç»„ç»‡

**âš ï¸ é‡è¦æç¤ºï¼š**
- å¿…é¡»é€‰æ‹©"ä¼ä¸š"ç±»å‹
- ä¸ªäººè´¦å·æ— æ³•åˆ›å»ºç½‘ç«™åº”ç”¨
- æ”¿åºœè´¦å·éœ€è¦ç‰¹æ®Šèµ„è´¨
- åª’ä½“è´¦å·éœ€è¦ç‰¹æ®Šèµ„è´¨

#### æ­¥éª¤ 4ï¼šå¡«å†™ä¼ä¸šä¿¡æ¯

å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼ˆè¯·æ ¹æ®ä½ çš„å®é™…æƒ…å†µå¡«å†™ï¼‰ï¼š

**ä¼ä¸šåç§°ï¼š**
```
é™•è¥¿åª„æœˆå•†ä¸šè‰ºæœ¯æœ‰é™è´£ä»»å…¬å¸
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å¿…é¡»ä¸è¥ä¸šæ‰§ç…§ä¸Šçš„åç§°å®Œå…¨ä¸€è‡´
- ä¸èƒ½æœ‰ä»»ä½•é”™åˆ«å­—
- ä¸èƒ½çœç•¥ä»»ä½•å­—

**ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç ï¼š**
```
91610100MA6TXL4X1X
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- åœ¨è¥ä¸šæ‰§ç…§å³ä¸Šè§’
- å¿…é¡»æ˜¯ 18 ä½
- åªåŒ…å«æ•°å­—å’Œå­—æ¯

**æ³¨å†Œåœ°å€ï¼š**
```
é™•è¥¿çœè¥¿å®‰å¸‚é›å¡”åŒºXXè·¯XXå·XXå¤§å¦XXå±‚XXå®¤
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- ä¸è¥ä¸šæ‰§ç…§ä¸Šçš„åœ°å€ä¸€è‡´
- å¯ä»¥å¡«å†™è¯¦ç»†åˆ°é—¨ç‰Œå·

**è”ç³»äººå§“åï¼š**
```
å¼ ä¸‰
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å¡«å†™è¿è¥è€…å§“å
- å¯ä»¥ä¸æ˜¯æ³•äººä»£è¡¨

**è”ç³»äººæ‰‹æœºï¼š**
```
13800138000
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å¿…é¡»æ˜¯çœŸå®æ‰‹æœºå·
- å¯ä»¥æ¥æ”¶çŸ­ä¿¡éªŒè¯ç 

**è”ç³»äººé‚®ç®±ï¼š**
```
zhangsan@example.com
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å¿…é¡»æ˜¯çœŸå®é‚®ç®±
- å¯ä»¥æ¥æ”¶é‚®ä»¶é€šçŸ¥

#### æ­¥éª¤ 5ï¼šä¸Šä¼ è¥ä¸šæ‰§ç…§

1. ç‚¹å‡»"ä¸Šä¼ è¥ä¸šæ‰§ç…§"æŒ‰é’®
2. åœ¨æ–‡ä»¶é€‰æ‹©çª—å£ä¸­ï¼Œé€‰æ‹©è¥ä¸šæ‰§ç…§å›¾ç‰‡
3. ç­‰å¾…ä¸Šä¼ å®Œæˆ
4. ç¡®è®¤å›¾ç‰‡æ˜¾ç¤ºæ­£å¸¸

**âš ï¸ ä¸Šä¼ è¦æ±‚ï¼š**
- æ ¼å¼ï¼šJPG æˆ– PNG
- å¤§å°ï¼šä¸è¶…è¿‡ 5MB
- æ¸…æ™°åº¦ï¼šé«˜æ¸…æ™°åº¦
- å†…å®¹ï¼šå®Œæ•´ã€æ— é®æŒ¡

#### æ­¥éª¤ 6ï¼šå¡«å†™å¯¹å…¬é“¶è¡Œè´¦æˆ·

**å¼€æˆ·é“¶è¡Œï¼š**
```
å·¥å•†é“¶è¡Œè¥¿å®‰åˆ†è¡Œ
```

**é“¶è¡Œè´¦å·ï¼š**
```
6222021234567890123
```

**è´¦æˆ·åç§°ï¼š**
```
é™•è¥¿åª„æœˆå•†ä¸šè‰ºæœ¯æœ‰é™è´£ä»»å…¬å¸
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- è´¦æˆ·åç§°å¿…é¡»ä¸è¥ä¸šæ‰§ç…§ä¸€è‡´
- é“¶è¡Œè´¦å·å¿…é¡»æ˜¯å…¬å¸å¯¹å…¬è´¦æˆ·
- ä¸èƒ½æ˜¯ä¸ªäººè´¦æˆ·

#### æ­¥éª¤ 7ï¼šä¸Šä¼ è¿è¥è€…èº«ä»½è¯

1. ç‚¹å‡»"ä¸Šä¼ èº«ä»½è¯æ­£é¢"æŒ‰é’®
2. é€‰æ‹©èº«ä»½è¯æ­£é¢å›¾ç‰‡
3. ç­‰å¾…ä¸Šä¼ å®Œæˆ
4. ç‚¹å‡»"ä¸Šä¼ èº«ä»½è¯åé¢"æŒ‰é’®
5. é€‰æ‹©èº«ä»½è¯åé¢å›¾ç‰‡
6. ç­‰å¾…ä¸Šä¼ å®Œæˆ

**âš ï¸ ä¸Šä¼ è¦æ±‚ï¼š**
- æ ¼å¼ï¼šJPG æˆ– PNG
- å¤§å°ï¼šæ¯å¼ ä¸è¶…è¿‡ 5MB
- æ¸…æ™°åº¦ï¼šé«˜æ¸…æ™°åº¦
- å†…å®¹ï¼šå®Œæ•´ã€æ— é®æŒ¡ã€æ— åå…‰

#### æ­¥éª¤ 8ï¼šå‹¾é€‰åŒæ„æ¡æ¬¾

æ‰¾åˆ°"æˆ‘å·²é˜…è¯»å¹¶åŒæ„ã€Šå¾®ä¿¡å¼€æ”¾å¹³å°æœåŠ¡åè®®ã€‹"å¤é€‰æ¡†

ç‚¹å‡»å‹¾é€‰ âœ…

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å¿…é¡»å‹¾é€‰æ‰èƒ½æäº¤
- å»ºè®®å…ˆé˜…è¯»åè®®å†…å®¹

#### æ­¥éª¤ 9ï¼šæäº¤æ³¨å†Œ

1. æ£€æŸ¥æ‰€æœ‰ä¿¡æ¯æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤æ— è¯¯åï¼Œç‚¹å‡»"æäº¤"æŒ‰é’®

#### æ­¥éª¤ 10ï¼šç­‰å¾…å®¡æ ¸

æäº¤åä¼šæ˜¾ç¤ºï¼š

```
âœ… æ‚¨çš„æ³¨å†Œä¿¡æ¯å·²æäº¤

æˆ‘ä»¬å°†åœ¨ 1-3 ä¸ªå·¥ä½œæ—¥å†…å®Œæˆå®¡æ ¸ã€‚
å®¡æ ¸ç»“æœå°†é€šè¿‡çŸ­ä¿¡å’Œé‚®ä»¶é€šçŸ¥æ‚¨ã€‚

è¯·ä¿æŒæ‰‹æœºç•…é€šï¼ŒæŸ¥æ”¶çŸ­ä¿¡å’Œé‚®ä»¶ã€‚
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å®¡æ ¸æ—¶é—´ï¼š1-3 ä¸ªå·¥ä½œæ—¥
- å®¡æ ¸ç»“æœï¼šçŸ­ä¿¡å’Œé‚®ä»¶é€šçŸ¥
- å®¡æ ¸ä¸é€šè¿‡ï¼šéœ€è¦é‡æ–°æäº¤

**å¦‚ä½•æŸ¥çœ‹å®¡æ ¸è¿›åº¦ï¼š**

1. ç™»å½•å¾®ä¿¡å¼€æ”¾å¹³å°
2. è¿›å…¥"è´¦å·ä¸­å¿ƒ"
3. æŸ¥çœ‹"å®¡æ ¸çŠ¶æ€"

### 3.3 åˆ›å»ºç½‘ç«™åº”ç”¨

#### å‰ææ¡ä»¶

- âœ… å¾®ä¿¡å¼€æ”¾å¹³å°è´¦å·å·²æ³¨å†ŒæˆåŠŸ
- âœ… ä¼ä¸šè®¤è¯å·²é€šè¿‡
- âœ… å·²å‡†å¤‡å¥½åº”ç”¨å›¾æ ‡
- âœ… å·²å‡†å¤‡å¥½åº”ç”¨å®˜ç½‘åœ°å€

#### æ­¥éª¤ 1ï¼šç™»å½•å¾®ä¿¡å¼€æ”¾å¹³å°

1. è®¿é—® https://open.weixin.qq.com/
2. è¾“å…¥è´¦å·å’Œå¯†ç 
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®

#### æ­¥éª¤ 2ï¼šè¿›å…¥ç®¡ç†ä¸­å¿ƒ

ç™»å½•æˆåŠŸåï¼Œé¡µé¢é¡¶éƒ¨æœ‰å¯¼èˆªæ ï¼š
- é¦–é¡µ
- å¼€å‘è€…å·¥å…·
- ç®¡ç†ä¸­å¿ƒï¼ˆâœ… ç‚¹å‡»æ­¤é¡¹ï¼‰
- å¸®åŠ©ä¸­å¿ƒ

#### æ­¥éª¤ 3ï¼šé€‰æ‹©"ç½‘ç«™åº”ç”¨"

è¿›å…¥ç®¡ç†ä¸­å¿ƒåï¼Œå·¦ä¾§æœ‰èœå•æ ï¼š
- ç§»åŠ¨åº”ç”¨
- ç½‘ç«™åº”ç”¨ï¼ˆâœ… ç‚¹å‡»æ­¤é¡¹ï¼‰
- å…¬ä¼—å·
- å°ç¨‹åº
- ç¬¬ä¸‰æ–¹å¹³å°

#### æ­¥éª¤ 4ï¼šç‚¹å‡»"åˆ›å»ºç½‘ç«™åº”ç”¨"

åœ¨é¡µé¢å³ä¾§ï¼Œæœ‰ä¸€ä¸ªå¤§æŒ‰é’®ï¼š

```
â• åˆ›å»ºç½‘ç«™åº”ç”¨
```

ç‚¹å‡»æ­¤æŒ‰é’®ã€‚

#### æ­¥éª¤ 5ï¼šå¡«å†™åº”ç”¨åŸºæœ¬ä¿¡æ¯

**åº”ç”¨åç§°ï¼š**
```
çµå€¼ç”Ÿæ€å›­
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- åç§°ç®€æ´æ˜äº†
- 2-20 ä¸ªå­—ç¬¦
- ä¸èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦
- ä¸èƒ½ä¾µçŠ¯ä»–äººå•†æ ‡

**åº”ç”¨ç®€ä»‹ï¼š**
```
åŸºäºAIçš„æ–‡åŒ–ä»·å€¼åˆ›é€ å¹³å°ï¼Œæä¾›æ™ºèƒ½å¯¹è¯ã€ç”¨æˆ·æ—…ç¨‹ç®¡ç†ã€çµå€¼ç»æµæ¨¡å‹ç­‰åŠŸèƒ½ï¼Œè®©ç”¨æˆ·é€šè¿‡ä»·å€¼åˆ›é€ è·å¾—æ”¶ç›Šã€‚
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- ç®€æ´æè¿°åº”ç”¨åŠŸèƒ½
- 10-200 ä¸ªå­—ç¬¦
- çªå‡ºåº”ç”¨ç‰¹è‰²

**åº”ç”¨å®˜ç½‘ï¼š**
```
https://meiyueart.com
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å¿…é¡»æ˜¯å®Œæ•´çš„ URL
- å¿…é¡»ä»¥ https:// å¼€å¤´
- åŸŸåå¿…é¡»å¯ä»¥æ­£å¸¸è®¿é—®
- åŸŸåå¿…é¡»å·²ç»å¤‡æ¡ˆ

#### æ­¥éª¤ 6ï¼šä¸Šä¼ åº”ç”¨å›¾æ ‡

1. ç‚¹å‡»"ä¸Šä¼ å›¾æ ‡"æŒ‰é’®
2. é€‰æ‹©å‡†å¤‡å¥½çš„åº”ç”¨å›¾æ ‡
3. ç­‰å¾…ä¸Šä¼ å®Œæˆ
4. ç¡®è®¤å›¾æ ‡æ˜¾ç¤ºæ­£å¸¸

**âš ï¸ ä¸Šä¼ è¦æ±‚ï¼š**
- å°ºå¯¸ï¼š108x108 åƒç´ 
- æ ¼å¼ï¼šPNG
- å¤§å°ï¼šä¸è¶…è¿‡ 2MB
- åœ†è§’ã€æ­£æ–¹å½¢ã€æ¸…æ™°

#### æ­¥éª¤ 7ï¼šé€‰æ‹©æœåŠ¡ç±»ç›®

ç‚¹å‡»"æœåŠ¡ç±»ç›®"ä¸‹æ‹‰èœå•ï¼Œé€‰æ‹©ä¸€ä¸ªåˆ†ç±»ï¼š

æ¨èé€‰æ‹©ï¼š
- å·¥å…·
- ç”Ÿæ´»æœåŠ¡
- æ•™è‚²
- æ–‡åŒ–å¨±ä¹

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- é€‰æ‹©ä¸åº”ç”¨æœ€ç›¸å…³çš„åˆ†ç±»
- ä¸èƒ½é€‰æ‹©ä¸ç›¸å…³çš„åˆ†ç±»

#### æ­¥éª¤ 8ï¼šå¡«å†™å¼€å‘è€…ä¿¡æ¯

**å¼€å‘è€…åç§°ï¼š**
```
é™•è¥¿åª„æœˆå•†ä¸šè‰ºæœ¯æœ‰é™è´£ä»»å…¬å¸
```

**è”ç³»äººå§“åï¼š**
```
å¼ ä¸‰
```

**è”ç³»äººæ‰‹æœºï¼š**
```
13800138000
```

**è”ç³»äººé‚®ç®±ï¼š**
```
zhangsan@example.com
```

#### æ­¥éª¤ 9ï¼šå‹¾é€‰åŒæ„æ¡æ¬¾

æ‰¾åˆ°"æˆ‘å·²é˜…è¯»å¹¶åŒæ„ã€Šå¾®ä¿¡å¼€æ”¾å¹³å°æœåŠ¡åè®®ã€‹"å¤é€‰æ¡†

ç‚¹å‡»å‹¾é€‰ âœ…

#### æ­¥éª¤ 10ï¼šæäº¤å®¡æ ¸

1. æ£€æŸ¥æ‰€æœ‰ä¿¡æ¯æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤æ— è¯¯åï¼Œç‚¹å‡»"æäº¤å®¡æ ¸"æŒ‰é’®

#### æ­¥éª¤ 11ï¼šç­‰å¾…å®¡æ ¸

æäº¤åä¼šæ˜¾ç¤ºï¼š

```
âœ… æ‚¨çš„åº”ç”¨å·²æäº¤å®¡æ ¸

æˆ‘ä»¬å°†åœ¨ 3-7 ä¸ªå·¥ä½œæ—¥å†…å®Œæˆå®¡æ ¸ã€‚
å®¡æ ¸é€šè¿‡åï¼Œç³»ç»Ÿå°†åˆ†é… AppID å’Œ AppSecretã€‚

è¯·ä¿æŒæ‰‹æœºç•…é€šï¼ŒæŸ¥æ”¶çŸ­ä¿¡å’Œé‚®ä»¶ã€‚
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å®¡æ ¸æ—¶é—´ï¼š3-7 ä¸ªå·¥ä½œæ—¥
- å®¡æ ¸ç»“æœï¼šçŸ­ä¿¡å’Œé‚®ä»¶é€šçŸ¥
- å®¡æ ¸ä¸é€šè¿‡ï¼šéœ€è¦ä¿®æ”¹åé‡æ–°æäº¤

### 3.4 å®¡æ ¸é€šè¿‡åçš„æ“ä½œ

#### æ­¥éª¤ 1ï¼šæŸ¥çœ‹å®¡æ ¸ç»“æœ

å®¡æ ¸é€šè¿‡åï¼Œä½ ä¼šæ”¶åˆ°ï¼š
- çŸ­ä¿¡é€šçŸ¥
- é‚®ä»¶é€šçŸ¥
- å¾®ä¿¡å¼€æ”¾å¹³å°å†…é€šçŸ¥

#### æ­¥éª¤ 2ï¼šç™»å½•å¾®ä¿¡å¼€æ”¾å¹³å°

1. è®¿é—® https://open.weixin.qq.com/
2. è¾“å…¥è´¦å·å’Œå¯†ç 
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®

#### æ­¥éª¤ 3ï¼šè¿›å…¥åº”ç”¨è¯¦æƒ…é¡µ

1. ç‚¹å‡»"ç®¡ç†ä¸­å¿ƒ"
2. ç‚¹å‡»"ç½‘ç«™åº”ç”¨"
3. ç‚¹å‡»åº”ç”¨åç§°"çµå€¼ç”Ÿæ€å›­"

#### æ­¥éª¤ 4ï¼šæŸ¥çœ‹å¼€å‘ä¿¡æ¯

åœ¨åº”ç”¨è¯¦æƒ…é¡µä¸­ï¼Œç‚¹å‡»"å¼€å‘ä¿¡æ¯"æ ‡ç­¾é¡µ

ä½ ä¼šçœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š

```
ğŸ“± å¼€å‘ä¿¡æ¯

AppIDï¼šwx1234567890abcdef
AppSecretï¼š1234567890abcdef1234567890abcdef

æˆæƒå›è°ƒåŸŸï¼š__________ï¼ˆæœªè®¾ç½®ï¼‰
```

#### æ­¥éª¤ 5ï¼šè®°å½•é…ç½®ä¿¡æ¯

**è¯·å°†ä»¥ä¸‹ä¿¡æ¯å¤åˆ¶åˆ°è®°äº‹æœ¬ï¼Œä¿å­˜ä¸º `å¾®ä¿¡é…ç½®.txt`ï¼š**

```
===================================
å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®ä¿¡æ¯
===================================

åº”ç”¨åç§°ï¼šçµå€¼ç”Ÿæ€å›­
AppIDï¼šwx1234567890abcdef
AppSecretï¼š1234567890abcdef1234567890abcdef
æˆæƒå›è°ƒåŸŸï¼šï¼ˆå¾…é…ç½®ï¼‰

å®Œæ•´å›è°ƒåœ°å€ï¼šhttps://meiyueart.com/wechat/callback

===================================
é…ç½®æ—¶é—´ï¼š2026-02-01
===================================

âš ï¸ é‡è¦æç¤ºï¼š
1. AppSecret æ˜¯æ•æ„Ÿä¿¡æ¯ï¼Œä¸è¦æ³„éœ²
2. ä¸è¦æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
3. å®šæœŸæ›´æ¢ AppSecret
```

#### æ­¥éª¤ 6ï¼šä¿å­˜é…ç½®ä¿¡æ¯

1. æ‰“å¼€è®°äº‹æœ¬ï¼ˆWindowsï¼‰æˆ–æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆMac/Linuxï¼‰
2. ç²˜è´´ä¸Šé¢çš„é…ç½®ä¿¡æ¯
3. ä¿å­˜ä¸º `å¾®ä¿¡é…ç½®.txt`
4. ä¿å­˜åˆ°å®‰å…¨ä½ç½®ï¼ˆå»ºè®®ä¿å­˜åˆ°æ¡Œé¢ï¼‰

---

## 4. è·å–å¾®ä¿¡é…ç½®ä¿¡æ¯

### 4.1 æŸ¥çœ‹ AppID å’Œ AppSecret

#### æ­¥éª¤ 1ï¼šç™»å½•å¾®ä¿¡å¼€æ”¾å¹³å°

1. è®¿é—® https://open.weixin.qq.com/
2. è¾“å…¥è´¦å·å’Œå¯†ç 
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®

#### æ­¥éª¤ 2ï¼šè¿›å…¥åº”ç”¨è¯¦æƒ…é¡µ

1. ç‚¹å‡»"ç®¡ç†ä¸­å¿ƒ"
2. ç‚¹å‡»"ç½‘ç«™åº”ç”¨"
3. ç‚¹å‡»åº”ç”¨åç§°"çµå€¼ç”Ÿæ€å›­"

#### æ­¥éª¤ 3ï¼šç‚¹å‡»"å¼€å‘ä¿¡æ¯"æ ‡ç­¾é¡µ

åœ¨åº”ç”¨è¯¦æƒ…é¡µä¸­ï¼Œæ‰¾åˆ°"å¼€å‘ä¿¡æ¯"æ ‡ç­¾é¡µ

ç‚¹å‡»æ­¤æ ‡ç­¾é¡µã€‚

#### æ­¥éª¤ 4ï¼šæŸ¥çœ‹ AppID

ä½ ä¼šçœ‹åˆ°ï¼š

```
AppIDï¼šwx1234567890abcdef
```

**è¯·å¤åˆ¶è¿™ä¸ª AppIDï¼Œç²˜è´´åˆ°ä½ çš„è®°äº‹æœ¬ `å¾®ä¿¡é…ç½®.txt` æ–‡ä»¶ä¸­ã€‚**

#### æ­¥éª¤ 5ï¼šæŸ¥çœ‹ AppSecret

ä½ ä¼šçœ‹åˆ°ï¼š

```
AppSecretï¼š1234567890abcdef1234567890abcdef
```

**âš ï¸ é‡è¦æç¤ºï¼š**
- AppSecret é»˜è®¤æ˜¯éšè—çš„ï¼Œç‚¹å‡»"æŸ¥çœ‹"æŒ‰é’®æ‰èƒ½çœ‹åˆ°
- éœ€è¦éªŒè¯èº«ä»½ï¼ˆæ‰«ç æˆ–è¾“å…¥å¯†ç ï¼‰
- éªŒè¯é€šè¿‡åæ‰èƒ½çœ‹åˆ°å®Œæ•´çš„ AppSecret

**è¯·å¤åˆ¶è¿™ä¸ª AppSecretï¼Œç²˜è´´åˆ°ä½ çš„è®°äº‹æœ¬ `å¾®ä¿¡é…ç½®.txt` æ–‡ä»¶ä¸­ã€‚**

#### æ­¥éª¤ 6ï¼šéªŒè¯ AppID æ ¼å¼

AppID åº”è¯¥æ˜¯ï¼š
- ä»¥ `wx` å¼€å¤´
- æ€»å…± 18 ä½å­—ç¬¦

**âœ… æ­£ç¡®ç¤ºä¾‹ï¼š**
```
wx1234567890abcdef
```

**âŒ é”™è¯¯ç¤ºä¾‹ï¼š**
```
1234567890abcdef        ï¼ˆç¼ºå°‘ wx å‰ç¼€ï¼‰
wx1234567890abcdefghij  ï¼ˆè¶…è¿‡ 18 ä½ï¼‰
wx123-456-7890abcdef    ï¼ˆåŒ…å«è¿å­—ç¬¦ï¼‰
```

#### æ­¥éª¤ 7ï¼šéªŒè¯ AppSecret æ ¼å¼

AppSecret åº”è¯¥æ˜¯ï¼š
- 32 ä½å­—ç¬¦
- åªåŒ…å«å­—æ¯å’Œæ•°å­—

**âœ… æ­£ç¡®ç¤ºä¾‹ï¼š**
```
1234567890abcdef1234567890abcdef
```

**âŒ é”™è¯¯ç¤ºä¾‹ï¼š**
```
1234567890abcdef          ï¼ˆä¸è¶³ 32 ä½ï¼‰
1234567890abcdef1234567890abcdefghijk ï¼ˆè¶…è¿‡ 32 ä½ï¼‰
123-456-7890-abcdef-1234567890abcdef ï¼ˆåŒ…å«è¿å­—ç¬¦ï¼‰
```

### 4.2 é…ç½®æˆæƒå›è°ƒåŸŸ

#### æ­¥éª¤ 1ï¼šæ‰¾åˆ°"æˆæƒå›è°ƒåŸŸ"è®¾ç½®é¡¹

åœ¨"å¼€å‘ä¿¡æ¯"æ ‡ç­¾é¡µä¸­ï¼Œå‘ä¸‹æ»šåŠ¨ï¼Œæ‰¾åˆ°ï¼š

```
æˆæƒå›è°ƒåŸŸ
__________ ï¼ˆæœªè®¾ç½®ï¼‰  [ä¿®æ”¹]
```

#### æ­¥éª¤ 2ï¼šç‚¹å‡»"ä¿®æ”¹"æŒ‰é’®

ç‚¹å‡»"æˆæƒå›è°ƒåŸŸ"å³ä¾§çš„"ä¿®æ”¹"æŒ‰é’®ã€‚

#### æ­¥éª¤ 3ï¼šè¾“å…¥å›è°ƒåŸŸå

åœ¨è¾“å…¥æ¡†ä¸­ï¼Œè¾“å…¥ä½ çš„åŸŸåï¼ˆåªå¡«åŸŸåï¼Œä¸å«åè®®å’Œè·¯å¾„ï¼‰ï¼š

```
meiyueart.com
```

**âš ï¸ é‡è¦æç¤ºï¼š**

**âœ… æ­£ç¡®å†™æ³•ï¼š**
```
meiyueart.com
```

**âŒ é”™è¯¯å†™æ³•ï¼š**
```
http://meiyueart.com        ï¼ˆåŒ…å«åè®®ï¼‰
https://meiyueart.com       ï¼ˆåŒ…å«åè®®ï¼‰
meiyueart.com/wechat/callback ï¼ˆåŒ…å«è·¯å¾„ï¼‰
www.meiyueart.com           ï¼ˆåŒ…å« wwwï¼‰
```

**ä¸ºä»€ä¹ˆåªèƒ½å¡«åŸŸåï¼Ÿ**
- å¾®ä¿¡åªéªŒè¯åŸŸåéƒ¨åˆ†
- åè®®å’Œè·¯å¾„ç”±ä»£ç æ§åˆ¶
- é¿å…é‡å¤éªŒè¯

#### æ­¥éª¤ 4ï¼šç‚¹å‡»"ç¡®å®š"ä¿å­˜

ç‚¹å‡»"ç¡®å®š"æŒ‰é’®ä¿å­˜é…ç½®ã€‚

#### æ­¥éª¤ 5ï¼šç¡®è®¤é…ç½®æˆåŠŸ

é¡µé¢ä¼šæ˜¾ç¤ºï¼š

```
æˆæƒå›è°ƒåŸŸ
meiyueart.com [ä¿®æ”¹]
```

**è¯´æ˜é…ç½®æˆåŠŸï¼**

### 4.3 æœ€ç»ˆé…ç½®ä¿¡æ¯

ç°åœ¨ï¼Œä½ çš„ `å¾®ä¿¡é…ç½®.txt` æ–‡ä»¶åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š

```
===================================
å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®ä¿¡æ¯
===================================

åº”ç”¨åç§°ï¼šçµå€¼ç”Ÿæ€å›­
AppIDï¼šwx1234567890abcdef
AppSecretï¼š1234567890abcdef1234567890abcdef
æˆæƒå›è°ƒåŸŸï¼šmeiyueart.com

å®Œæ•´å›è°ƒåœ°å€ï¼šhttps://meiyueart.com/wechat/callback

===================================
é…ç½®æ—¶é—´ï¼š2026-02-01
===================================

âš ï¸ é‡è¦æç¤ºï¼š
1. AppSecret æ˜¯æ•æ„Ÿä¿¡æ¯ï¼Œä¸è¦æ³„éœ²
2. ä¸è¦æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
3. å®šæœŸæ›´æ¢ AppSecret
```

**è¯·ä¿å­˜æ­¤æ–‡ä»¶åˆ°å®‰å…¨ä½ç½®ï¼Œåç»­é…ç½®ä»£ç æ—¶éœ€è¦ç”¨åˆ°ã€‚**

---

## 5. é…ç½®åç«¯ä»£ç 

### 5.1 è¿›å…¥åç«¯ç›®å½•

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨å‘½ä»¤è¡Œå·¥å…·ä¸­è¾“å…¥ï¼š

```bash
cd /workspace/projects/admin-backend
```

2. éªŒè¯æ˜¯å¦æˆåŠŸï¼š

```bash
pwd
```

**æ­£ç¡®è¾“å‡ºï¼š**
```
/workspace/projects/admin-backend
```

3. æŸ¥çœ‹ç›®å½•å†…å®¹ï¼š

```bash
ls -la
```

**åº”è¯¥çœ‹åˆ°ï¼š**
```
-rw-r--r-- 1 root root 12345 Feb 1 16:00 app.py
-rw-r--r-- 1 root root  1234 Feb 1 16:00 requirements.txt
-rw-r--r-- 1 root root   567 Feb 1 16:00 .env
-rw-r--r-- 1 root root 28856 Feb 1 16:00 lingzhi_ecosystem.db
```

### 5.2 æ£€æŸ¥ .env æ–‡ä»¶

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹ .env æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š

```bash
ls -la .env
```

**é¢„æœŸè¾“å‡ºï¼š**
```
-rw-r--r-- 1 root root 567 Feb 1 16:00 .env
```

**å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒï¼š**

```bash
touch .env
```

### 5.3 ç¼–è¾‘ .env æ–‡ä»¶

#### æ–¹æ³• 1ï¼šä½¿ç”¨ nano ç¼–è¾‘å™¨ï¼ˆæ¨èï¼‰

**æ“ä½œæ­¥éª¤ï¼š**

1. æ‰“å¼€ .env æ–‡ä»¶ï¼š

```bash
nano .env
```

2. æŸ¥çœ‹ç°æœ‰å†…å®¹

æ–‡ä»¶ä¸­åº”è¯¥æœ‰ä¸€äº›ç°æœ‰é…ç½®ï¼Œä¾‹å¦‚ï¼š

```env
JWT_SECRET=lingzhi-jwt-secret-key-2026
SERVER_USER=root
SERVER_HOST=123.56.142.143
SERVER_PASSWORD=Meiyue@root123
SERVER_PATH=/var/www/html
```

3. ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾

æŒ‰ `Ctrl + End` æˆ–å¤šæ¬¡æŒ‰æ–¹å‘é”® `â†“`

4. æ·»åŠ å¾®ä¿¡é…ç½®

åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```env

# ====================================
# å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®
# ====================================
WECHAT_APP_ID=wx1234567890abcdef
WECHAT_APP_SECRET=1234567890abcdef1234567890abcdef
WECHAT_REDIRECT_URI=https://meiyueart.com/wechat/callback
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å°† `wx1234567890abcdef` æ›¿æ¢ä¸ºä½ çš„çœŸå® AppID
- å°† `1234567890abcdef1234567890abcdef` æ›¿æ¢ä¸ºä½ çš„çœŸå® AppSecret
- å°† `meiyueart.com` æ›¿æ¢ä¸ºä½ çš„çœŸå®åŸŸå
- æ¯è¡Œå‰é¢ä¸è¦æœ‰ç©ºæ ¼
- ç­‰å·ä¸¤è¾¹ä¸è¦æœ‰ç©ºæ ¼

5. ä¿å­˜æ–‡ä»¶

æŒ‰ `Ctrl + O` ä¿å­˜ï¼Œç„¶åæŒ‰ `Enter` ç¡®è®¤

6. é€€å‡ºç¼–è¾‘å™¨

æŒ‰ `Ctrl + X` é€€å‡º

#### æ–¹æ³• 2ï¼šä½¿ç”¨ echo å‘½ä»¤

**æ“ä½œæ­¥éª¤ï¼š**

```bash
cat >> .env << 'EOF'

# ====================================
# å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®
# ====================================
WECHAT_APP_ID=wx1234567890abcdef
WECHAT_APP_SECRET=1234567890abcdef1234567890abcdef
WECHAT_REDIRECT_URI=https://meiyueart.com/wechat/callback
EOF
```

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- å°†å ä½ç¬¦æ›¿æ¢ä¸ºçœŸå®å€¼
- ç¡®ä¿ä¸è¦é‡å¤æ·»åŠ 

#### æ–¹æ³• 3ï¼šä½¿ç”¨ vi ç¼–è¾‘å™¨

**æ“ä½œæ­¥éª¤ï¼š**

1. æ‰“å¼€ .env æ–‡ä»¶ï¼š

```bash
vi .env
```

2. è¿›å…¥æ’å…¥æ¨¡å¼

æŒ‰ `i` é”®

3. ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾

æŒ‰ `G` é”®ï¼ˆå¤§å†™çš„ Gï¼‰

4. æ·»åŠ å¾®ä¿¡é…ç½®

åœ¨æ–‡ä»¶æœ«å°¾è¾“å…¥ï¼š

```env

# ====================================
# å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®
# ====================================
WECHAT_APP_ID=wx1234567890abcdef
WECHAT_APP_SECRET=1234567890abcdef1234567890abcdef
WECHAT_REDIRECT_URI=https://meiyueart.com/wechat/callback
```

5. ä¿å­˜å¹¶é€€å‡º

æŒ‰ `Esc` é”®ï¼Œç„¶åè¾“å…¥ `:wq`ï¼ŒæŒ‰ `Enter`

### 5.4 éªŒè¯é…ç½®

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹ .env æ–‡ä»¶å†…å®¹ï¼š

```bash
cat .env
```

**é¢„æœŸè¾“å‡ºï¼š**
```
JWT_SECRET=lingzhi-jwt-secret-key-2026
SERVER_USER=root
SERVER_HOST=123.56.142.143
SERVER_PASSWORD=Meiyue@root123
SERVER_PATH=/var/www/html

# ====================================
# å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®
# ====================================
WECHAT_APP_ID=wx1234567890abcdef
WECHAT_APP_SECRET=1234567890abcdef1234567890abcdef
WECHAT_REDIRECT_URI=https://meiyueart.com/wechat/callback
```

2. åˆ›å»ºæµ‹è¯•è„šæœ¬ï¼š

```bash
cat > test_wechat_config.py << 'EOF'
import os
from dotenv import load_dotenv

# åŠ è½½ç¯å¢ƒå˜é‡
load_dotenv()

print("=" * 50)
print("å¾®ä¿¡é…ç½®ä¿¡æ¯éªŒè¯")
print("=" * 50)

# è¯»å–é…ç½®
appid = os.getenv('WECHAT_APP_ID')
secret = os.getenv('WECHAT_APP_SECRET')
redirect_uri = os.getenv('WECHAT_REDIRECT_URI')

# éªŒè¯ AppID
print("\n1. AppID éªŒè¯ï¼š")
print(f"   å€¼ï¼š{appid}")
print(f"   æ˜¯å¦å­˜åœ¨ï¼š{'âœ… æ˜¯' if appid else 'âŒ å¦'}")
print(f"   é•¿åº¦ï¼š{len(appid) if appid else 0}")
print(f"   æ˜¯å¦ä»¥ wx å¼€å¤´ï¼š{'âœ… æ˜¯' if appid and appid.startswith('wx') else 'âŒ å¦'}")
print(f"   æ˜¯å¦ä¸º 18 ä½ï¼š{'âœ… æ˜¯' if appid and len(appid) == 18 else 'âŒ å¦'}")

# éªŒè¯ AppSecret
print("\n2. AppSecret éªŒè¯ï¼š")
print(f"   å€¼ï¼š{secret[:4]}...{secret[-4:] if secret else 'æ— '}")
print(f"   æ˜¯å¦å­˜åœ¨ï¼š{'âœ… æ˜¯' if secret else 'âŒ å¦'}")
print(f"   é•¿åº¦ï¼š{len(secret) if secret else 0}")
print(f"   æ˜¯å¦ä¸º 32 ä½ï¼š{'âœ… æ˜¯' if secret and len(secret) == 32 else 'âŒ å¦'}")

# éªŒè¯å›è°ƒåœ°å€
print("\n3. å›è°ƒåœ°å€éªŒè¯ï¼š")
print(f"   å€¼ï¼š{redirect_uri}")
print(f"   æ˜¯å¦å­˜åœ¨ï¼š{'âœ… æ˜¯' if redirect_uri else 'âŒ å¦'}")
print(f"   æ˜¯å¦ä»¥ https å¼€å¤´ï¼š{'âœ… æ˜¯' if redirect_uri and redirect_uri.startswith('https') else 'âŒ å¦'}")
print(f"   æ˜¯å¦åŒ…å« /wechat/callbackï¼š{'âœ… æ˜¯' if '/wechat/callback' in redirect_uri else 'âŒ å¦'}")

# æå–åŸŸå
print("\n4. åŸŸåéªŒè¯ï¼š")
if redirect_uri:
    domain = redirect_uri.replace('https://', '').replace('http://', '').split('/')[0]
    print(f"   åŸŸåï¼š{domain}")
    print(f"   åŸŸåæ˜¯å¦åˆæ³•ï¼š{'âœ… æ˜¯' if domain else 'âŒ å¦'}")

print("\n" + "=" * 50)
print("éªŒè¯å®Œæˆ")
print("=" * 50)
EOF
```

3. è¿è¡Œæµ‹è¯•è„šæœ¬ï¼š

```bash
python3 test_wechat_config.py
```

**é¢„æœŸè¾“å‡ºï¼š**
```
==================================================
å¾®ä¿¡é…ç½®ä¿¡æ¯éªŒè¯
==================================================

1. AppID éªŒè¯ï¼š
   å€¼ï¼šwx1234567890abcdef
   æ˜¯å¦å­˜åœ¨ï¼šâœ… æ˜¯
   é•¿åº¦ï¼š18
   æ˜¯å¦ä»¥ wx å¼€å¤´ï¼šâœ… æ˜¯
   æ˜¯å¦ä¸º 18 ä½ï¼šâœ… æ˜¯

2. AppSecret éªŒè¯ï¼š
   å€¼ï¼š1234...bcde
   æ˜¯å¦å­˜åœ¨ï¼šâœ… æ˜¯
   é•¿åº¦ï¼š32
   æ˜¯å¦ä¸º 32 ä½ï¼šâœ… æ˜¯

3. å›è°ƒåœ°å€éªŒè¯ï¼š
   å€¼ï¼šhttps://meiyueart.com/wechat/callback
   æ˜¯å¦å­˜åœ¨ï¼šâœ… æ˜¯
   æ˜¯å¦ä»¥ https å¼€å¤´ï¼šâœ… æ˜¯
   æ˜¯å¦åŒ…å« /wechat/callbackï¼šâœ… æ˜¯

4. åŸŸåéªŒè¯ï¼š
   åŸŸåï¼šmeiyueart.com
   åŸŸåæ˜¯å¦åˆæ³•ï¼šâœ… æ˜¯

==================================================
éªŒè¯å®Œæˆ
==================================================
```

4. åˆ é™¤æµ‹è¯•è„šæœ¬ï¼š

```bash
rm test_wechat_config.py
```

### 5.5 æ£€æŸ¥ä»£ç æ˜¯å¦è¯»å–é…ç½®

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹ä»£ç ä¸­æ˜¯å¦æœ‰è¯»å–å¾®ä¿¡é…ç½®ï¼š

```bash
grep -n "WECHAT_APP_ID\|WECHAT_APP_SECRET\|WECHAT_REDIRECT_URI" app.py
```

**é¢„æœŸè¾“å‡ºï¼š**
```
35:WECHAT_APP_ID = os.getenv('WECHAT_APP_ID', '')
36:WECHAT_APP_SECRET = os.getenv('WECHAT_APP_SECRET', '')
37:WECHAT_REDIRECT_URI = os.getenv('WECHAT_REDIRECT_URI', '')
```

**å¦‚æœæ²¡æœ‰è¾“å‡ºï¼š**
- ä»£ç ä¸­æ²¡æœ‰å¾®ä¿¡é…ç½®è¯»å–é€»è¾‘
- éœ€è¦æ·»åŠ ç›¸å…³ä»£ç 

**å¦‚æœæœ‰è¾“å‡ºï¼š**
- ä»£ç ä¸­å·²æœ‰å¾®ä¿¡é…ç½®è¯»å–é€»è¾‘
- ç»§ç»­ä¸‹ä¸€æ­¥

### 5.6 æ£€æŸ¥ä¾èµ–

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹ requirements.txtï¼š

```bash
cat requirements.txt
```

2. æ£€æŸ¥æ˜¯å¦æœ‰ requests åº“ï¼š

```bash
grep -E "requests|urllib|httpx" requirements.txt
```

**é¢„æœŸè¾“å‡ºï¼š**
```
requests>=2.31.0
```

**å¦‚æœæ²¡æœ‰ï¼š**

æ·»åŠ  requests åº“ï¼š

```bash
echo "requests>=2.31.0" >> requirements.txt
```

3. å®‰è£…ä¾èµ–ï¼š

```bash
pip3 install -r requirements.txt
```

**é¢„æœŸè¾“å‡ºï¼š**
```
Collecting requests>=2.31.0
  Using cached requests-2.31.0-py3-none-any.whl
Installing collected packages: requests
Successfully installed requests-2.31.0
```

**å¦‚æœæŠ¥é”™ï¼š**
```
ERROR: Could not find a version that satisfies the requirement...
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
pip3 install --upgrade pip
pip3 install -r requirements.txt
```

### 5.7 æµ‹è¯•åç«¯æœåŠ¡

**æ“ä½œæ­¥éª¤ï¼š**

1. å¯åŠ¨åç«¯æœåŠ¡ï¼š

```bash
python3 app.py
```

**é¢„æœŸè¾“å‡ºï¼š**
```
==================================================
çµå€¼ç”Ÿæ€å›­ API æœåŠ¡å¯åŠ¨ä¸­...
==================================================
æœåŠ¡åœ°å€: http://0.0.0.0:8001
é»˜è®¤ç®¡ç†å‘˜è´¦å·: admin / admin123
==================================================
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8001
 * Running on http://172.16.107.129:8001
```

**å¦‚æœæŠ¥é”™ï¼š**
```
ModuleNotFoundError: No module named 'flask'
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
pip3 install flask
```

2. æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£

**Windowsï¼š** æŒ‰ `Win + R`ï¼Œè¾“å…¥ `cmd`ï¼ŒæŒ‰å›è½¦
**Macï¼š** æŒ‰ `Cmd + Space`ï¼Œè¾“å…¥ `Terminal`ï¼ŒæŒ‰å›è½¦
**Linuxï¼š** æŒ‰ `Ctrl + Alt + T`

3. æµ‹è¯•å¾®ä¿¡ç™»å½• API

åœ¨æ–°ç»ˆç«¯ä¸­è¾“å…¥ï¼š

```bash
curl -s http://localhost:8001/api/wechat/login | python3 -m json.tool
```

**é¢„æœŸè¾“å‡ºï¼š**
```json
{
    "success": true,
    "data": {
        "auth_url": "https://open.weixin.qq.com/connect/qrconnect?appid=wx1234567890abcdef&redirect_uri=https%3A%2F%2Fmeiyueart.com%2Fwechat%2Fcallback&response_type=code&scope=snsapi_userinfo&state=abc123def456",
        "state": "abc123def456"
    }
}
```

**éªŒè¯è¦ç‚¹ï¼š**
- âœ… `success` ä¸º `true`
- âœ… `data.auth_url` åŒ…å«æ­£ç¡®çš„ AppID
- âœ… `data.auth_url` åŒ…å«æ­£ç¡®çš„å›è°ƒåœ°å€
- âœ… `data.state` æœ‰å€¼

**å¦‚æœæŠ¥é”™ï¼š**
```json
{
    "success": false,
    "message": "å¾®ä¿¡é…ç½®æœªå®Œæˆ"
}
```

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ .env æ–‡ä»¶æ˜¯å¦æ­£ç¡®é…ç½®
- æ£€æŸ¥ AppID å’Œ AppSecret æ˜¯å¦æ­£ç¡®
- é‡æ–°è¿è¡Œ `python3 app.py`

4. åœæ­¢æœåŠ¡

å›åˆ°ç¬¬ä¸€ä¸ªç»ˆç«¯çª—å£ï¼ŒæŒ‰ `Ctrl + C` åœæ­¢æœåŠ¡ã€‚

---

## 6. é…ç½®æ•°æ®åº“

### 6.1 è¿›å…¥åç«¯ç›®å½•

**æ“ä½œæ­¥éª¤ï¼š**

```bash
cd /workspace/projects/admin-backend
```

### 6.2 æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹æ•°æ®åº“æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š

```bash
ls -lh *.db
```

**é¢„æœŸè¾“å‡ºï¼š**
```
-rw-r--r-- 1 root root 288K Feb 1 16:00 lingzhi_ecosystem.db
```

**å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼š**
- éœ€è¦å…ˆè¿è¡Œåç«¯æœåŠ¡åˆ›å»ºæ•°æ®åº“

### 6.3 æ£€æŸ¥ users è¡¨ç»“æ„

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹ users è¡¨ç»“æ„ï¼š

```bash
sqlite3 lingzhi_ecosystem.db ".schema users"
```

**é¢„æœŸè¾“å‡ºï¼š**
```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE NOT NULL,
    email TEXT,
    phone TEXT,
    password_hash TEXT NOT NULL,
    total_lingzhi INTEGER DEFAULT 0,
    status TEXT DEFAULT 'active',
    last_login_at TIMESTAMP,
    avatar_url TEXT,
    real_name TEXT,
    is_verified BOOLEAN DEFAULT 0,
    login_type TEXT DEFAULT 'phone',
    wechat_openid TEXT UNIQUE,
    wechat_unionid TEXT,
    wechat_nickname TEXT,
    wechat_avatar TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

2. æŸ¥çœ‹è¡¨çš„æ‰€æœ‰å­—æ®µï¼š

```bash
sqlite3 lingzhi_ecosystem.db "PRAGMA table_info(users);"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
0|id|INTEGER|0||1
1|username|TEXT|1||0
2|email|TEXT|0||0
3|phone|TEXT|0||0
4|password_hash|TEXT|1||0
5|total_lingzhi|INTEGER|0||0
6|status|TEXT|0||0
7|last_login_at|TIMESTAMP|0||0
8|avatar_url|TEXT|0||0
9|real_name|TEXT|0||0
10|is_verified|BOOLEAN|0||0
11|login_type|TEXT|0||0
12|wechat_openid|TEXT|0||0
13|wechat_unionid|TEXT|0||0
14|wechat_nickname|TEXT|0||0
15|wechat_avatar|TEXT|0||0
16|created_at|TIMESTAMP|0||0
17|updated_at|TIMESTAMP|0||0
```

### 6.4 æ£€æŸ¥æ˜¯å¦ç¼ºå°‘å­—æ®µ

**æ“ä½œæ­¥éª¤ï¼š**

1. æ£€æŸ¥æ˜¯å¦æœ‰ `login_type` å­—æ®µï¼š

```bash
sqlite3 lingzhi_ecosystem.db "SELECT login_type FROM users LIMIT 1;"
```

**å¦‚æœæŠ¥é”™ï¼š**
```
Error: no such column: login_type
```

**è¯´æ˜å­—æ®µä¸å­˜åœ¨ï¼Œéœ€è¦æ·»åŠ ã€‚**

2. æ£€æŸ¥æ˜¯å¦æœ‰ `wechat_openid` å­—æ®µï¼š

```bash
sqlite3 lingzhi_ecosystem.db "SELECT wechat_openid FROM users LIMIT 1;"
```

**å¦‚æœæŠ¥é”™ï¼š**
```
Error: no such column: wechat_openid
```

**è¯´æ˜å­—æ®µä¸å­˜åœ¨ï¼Œéœ€è¦æ·»åŠ ã€‚**

3. æ£€æŸ¥æ˜¯å¦æœ‰ `wechat_unionid` å­—æ®µï¼š

```bash
sqlite3 lingzhi_ecosystem.db "SELECT wechat_unionid FROM users LIMIT 1;"
```

**å¦‚æœæŠ¥é”™ï¼š**
```
Error: no such column: wechat_unionid
```

**è¯´æ˜å­—æ®µä¸å­˜åœ¨ï¼Œéœ€è¦æ·»åŠ ã€‚**

4. æ£€æŸ¥æ˜¯å¦æœ‰ `wechat_nickname` å­—æ®µï¼š

```bash
sqlite3 lingzhi_ecosystem.db "SELECT wechat_nickname FROM users LIMIT 1;"
```

**å¦‚æœæŠ¥é”™ï¼š**
```
Error: no such column: wechat_nickname
```

**è¯´æ˜å­—æ®µä¸å­˜åœ¨ï¼Œéœ€è¦æ·»åŠ ã€‚**

5. æ£€æŸ¥æ˜¯å¦æœ‰ `wechat_avatar` å­—æ®µï¼š

```bash
sqlite3 lingzhi_ecosystem.db "SELECT wechat_avatar FROM users LIMIT 1;"
```

**å¦‚æœæŠ¥é”™ï¼š**
```
Error: no such column: wechat_avatar
```

**è¯´æ˜å­—æ®µä¸å­˜åœ¨ï¼Œéœ€è¦æ·»åŠ ã€‚**

### 6.5 æ·»åŠ ç¼ºå¤±å­—æ®µ

**æ“ä½œæ­¥éª¤ï¼š**

å¦‚æœå‘ç°å­—æ®µç¼ºå¤±ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ·»åŠ ï¼š

```bash
sqlite3 lingzhi_ecosystem.db << 'EOF'
ALTER TABLE users ADD COLUMN login_type TEXT DEFAULT 'phone';
ALTER TABLE users ADD COLUMN wechat_openid TEXT UNIQUE;
ALTER TABLE users ADD COLUMN wechat_unionid TEXT;
ALTER TABLE users ADD COLUMN wechat_nickname TEXT;
ALTER TABLE users ADD COLUMN wechat_avatar TEXT;
EOF
```

**é¢„æœŸè¾“å‡ºï¼š**
ï¼ˆæ— è¾“å‡ºï¼Œè¡¨ç¤ºæˆåŠŸï¼‰

**å¦‚æœæŠ¥é”™ï¼š**
```
Error: duplicate column name: login_type
```

**è¯´æ˜å­—æ®µå·²å­˜åœ¨ï¼Œå¿½ç•¥æ­¤é”™è¯¯ã€‚**

### 6.6 éªŒè¯å­—æ®µæ·»åŠ 

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹è¡¨ç»“æ„ï¼š

```bash
sqlite3 lingzhi_ecosystem.db "PRAGMA table_info(users);" | grep -E "login_type|wechat_openid|wechat_unionid|wechat_nickname|wechat_avatar"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
11|login_type|TEXT|0||0
12|wechat_openid|TEXT|0||0
13|wechat_unionid|TEXT|0||0
14|wechat_nickname|TEXT|0||0
15|wechat_avatar|TEXT|0||0
```

### 6.7 æ£€æŸ¥ user_profiles è¡¨

**æ“ä½œæ­¥éª¤ï¼š**

1. æ£€æŸ¥è¡¨æ˜¯å¦å­˜åœ¨ï¼š

```bash
sqlite3 lingzhi_ecosystem.db "SELECT name FROM sqlite_master WHERE type='table' AND name='user_profiles';"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
user_profiles
```

**å¦‚æœæ— è¾“å‡ºï¼š**
- è¡¨ä¸å­˜åœ¨ï¼Œéœ€è¦åˆ›å»º

**å¦‚æœæŠ¥é”™ï¼š**
```
Error: no such table: user_profiles
```

**è¯´æ˜è¡¨ä¸å­˜åœ¨ï¼Œéœ€è¦åˆ›å»ºã€‚**

### 6.8 åˆ›å»º user_profiles è¡¨

**æ“ä½œæ­¥éª¤ï¼š**

å¦‚æœè¡¨ä¸å­˜åœ¨ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºï¼š

```bash
sqlite3 lingzhi_ecosystem.db << 'EOF'
CREATE TABLE user_profiles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER UNIQUE NOT NULL,
    real_name TEXT,
    phone TEXT UNIQUE,
    email TEXT UNIQUE,
    id_card TEXT,
    bank_account TEXT,
    bank_name TEXT,
    address TEXT,
    is_completed BOOLEAN DEFAULT 0,
    completed_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
EOF
```

**é¢„æœŸè¾“å‡ºï¼š**
ï¼ˆæ— è¾“å‡ºï¼Œè¡¨ç¤ºæˆåŠŸï¼‰

**å¦‚æœæŠ¥é”™ï¼š**
```
Error: table user_profiles already exists
```

**è¯´æ˜è¡¨å·²å­˜åœ¨ï¼Œå¿½ç•¥æ­¤é”™è¯¯ã€‚**

### 6.9 éªŒè¯è¡¨åˆ›å»º

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹è¡¨ç»“æ„ï¼š

```bash
sqlite3 lingzhi_ecosystem.db ".schema user_profiles"
```

**é¢„æœŸè¾“å‡ºï¼š**
```sql
CREATE TABLE user_profiles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER UNIQUE NOT NULL,
    real_name TEXT,
    phone TEXT UNIQUE,
    email TEXT UNIQUE,
    id_card TEXT,
    bank_account TEXT,
    bank_name TEXT,
    address TEXT,
    is_completed BOOLEAN DEFAULT 0,
    completed_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

2. æŸ¥çœ‹å­—æ®µä¿¡æ¯ï¼š

```bash
sqlite3 lingzhi_ecosystem.db "PRAGMA table_info(user_profiles);"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
0|id|INTEGER|0||1
1|user_id|INTEGER|1||0
2|real_name|TEXT|0||0
3|phone|TEXT|0||0
4|email|TEXT|0||0
5|id_card|TEXT|0||0
6|bank_account|TEXT|0||0
7|bank_name|TEXT|0||0
8|address|TEXT|0||0
9|is_completed|BOOLEAN|0||0
10|completed_at|TIMESTAMP|0||0
11|created_at|TIMESTAMP|0||0
12|updated_at|TIMESTAMP|0||0
```

### 6.10 æ•°æ®åº“é…ç½®æ£€æŸ¥æ¸…å•

åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹æ‰€æœ‰é¡¹ç›®éƒ½å·²é€šè¿‡ï¼š

- [ ] users è¡¨å·²å­˜åœ¨
- [ ] users è¡¨åŒ…å« `login_type` å­—æ®µ
- [ ] users è¡¨åŒ…å« `wechat_openid` å­—æ®µ
- [ ] users è¡¨åŒ…å« `wechat_unionid` å­—æ®µ
- [ ] users è¡¨åŒ…å« `wechat_nickname` å­—æ®µ
- [ ] users è¡¨åŒ…å« `wechat_avatar` å­—æ®µ
- [ ] user_profiles è¡¨å·²å­˜åœ¨
- [ ] user_profiles è¡¨åŒ…å« `real_name` å­—æ®µ
- [ ] user_profiles è¡¨åŒ…å« `phone` å­—æ®µ
- [ ] user_profiles è¡¨åŒ…å« `email` å­—æ®µ
- [ ] user_profiles è¡¨åŒ…å« `is_completed` å­—æ®µ

**å¦‚æœæœ‰ä»»ä½•ä¸€é¡¹æœªé€šè¿‡ï¼Œè¯·å…ˆè§£å†³ï¼Œç„¶åå†ç»§ç»­ã€‚**

---

## 7. æµ‹è¯•å¾®ä¿¡ç™»å½•

### 7.1 å¯åŠ¨åç«¯æœåŠ¡

**æ“ä½œæ­¥éª¤ï¼š**

1. è¿›å…¥åç«¯ç›®å½•ï¼š

```bash
cd /workspace/projects/admin-backend
```

2. å¯åŠ¨åç«¯æœåŠ¡ï¼š

```bash
python3 app.py
```

**é¢„æœŸè¾“å‡ºï¼š**
```
==================================================
çµå€¼ç”Ÿæ€å›­ API æœåŠ¡å¯åŠ¨ä¸­...
==================================================
æœåŠ¡åœ°å€: http://0.0.0.0:8001
é»˜è®¤ç®¡ç†å‘˜è´¦å·: admin / admin123
==================================================
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8001
 * Running on http://172.16.107.129:8001
```

**å¦‚æœæŠ¥é”™ï¼š**
```
Address already in use
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :8001

# æ€æ­»è¿›ç¨‹
kill -9 <PID>

# é‡æ–°å¯åŠ¨
python3 app.py
```

### 7.2 å¯åŠ¨å‰ç«¯æœåŠ¡

**æ“ä½œæ­¥éª¤ï¼š**

1. æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£

2. è¿›å…¥å‰ç«¯ç›®å½•ï¼š

```bash
cd /workspace/projects/web-app
```

3. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼š

```bash
npm run dev
```

**é¢„æœŸè¾“å‡ºï¼š**
```
VITE v5.4.21  ready in 234 ms

âœ  Local:   http://localhost:5173/
âœ  Network: use --host to expose
```

**å¦‚æœæŠ¥é”™ï¼š**
```
Command not found: npm
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# å®‰è£… Node.js
# è®¿é—® https://nodejs.org/ ä¸‹è½½å®‰è£…
```

### 7.3 è®¿é—®æœ¬åœ°ç½‘ç«™

**æ“ä½œæ­¥éª¤ï¼š**

1. æ‰“å¼€æµè§ˆå™¨

2. åœ¨åœ°å€æ è¾“å…¥ï¼š

```
http://localhost:5173
```

3. æŒ‰å›è½¦

**é¢„æœŸè¡Œä¸ºï¼š**
- é¡µé¢æ­£å¸¸æ˜¾ç¤º
- å¯ä»¥çœ‹åˆ°ç½‘ç«™çš„é¦–é¡µ
- å³ä¸Šè§’æœ‰"ç™»å½•"æŒ‰é’®

### 7.4 è¿›å…¥ç™»å½•é¡µé¢

**æ“ä½œæ­¥éª¤ï¼š**

1. ç‚¹å‡»å³ä¸Šè§’çš„"ç™»å½•"æŒ‰é’®

2. é¡µé¢ä¼šè·³è½¬åˆ°ç™»å½•é¡µé¢

**é¢„æœŸè¡Œä¸ºï¼š**
- ç™»å½•é¡µé¢æ­£å¸¸æ˜¾ç¤º
- æœ‰ç”¨æˆ·åå’Œå¯†ç è¾“å…¥æ¡†
- æœ‰"å¾®ä¿¡ç™»å½•"æŒ‰é’®

### 7.5 æŸ¥çœ‹å¾®ä¿¡ç™»å½•æŒ‰é’®

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨ç™»å½•é¡µé¢ä¸­ï¼Œæ‰¾åˆ°"å¾®ä¿¡ç™»å½•"æŒ‰é’®

**é¢„æœŸå¤–è§‚ï¼š**
- æŒ‰é’®æœ‰å¾®ä¿¡å›¾æ ‡
- æŒ‰é’®æ˜¯ç»¿è‰²çš„
- æŒ‰é’®æ–‡å­—æ˜¾ç¤º"å¾®ä¿¡ç™»å½•"

**å¦‚æœçœ‹ä¸åˆ°æŒ‰é’®ï¼š**
- æ£€æŸ¥å‰ç«¯ä»£ç æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥è·¯ç”±æ˜¯å¦é…ç½®æ­£ç¡®

### 7.6 ç‚¹å‡»å¾®ä¿¡ç™»å½•

**æ“ä½œæ­¥éª¤ï¼š**

1. ç‚¹å‡»"å¾®ä¿¡ç™»å½•"æŒ‰é’®

**é¢„æœŸè¡Œä¸ºï¼š**
- é¡µé¢ä¼šè·³è½¬åˆ°å¾®ä¿¡æˆæƒé¡µé¢
- URL æ ¼å¼ï¼š`https://open.weixin.qq.com/connect/qrconnect?appid=...`
- é¡µé¢æ˜¾ç¤ºäºŒç»´ç 

**å¦‚æœæŠ¥é”™ï¼š**
```
redirect_uri å‚æ•°é”™è¯¯
```

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ .env æ–‡ä»¶ä¸­çš„å›è°ƒåœ°å€
- æ£€æŸ¥å¾®ä¿¡å¼€æ”¾å¹³å°ä¸­çš„æˆæƒå›è°ƒåŸŸ
- ç¡®ä¿ä¸¤è€…ä¸€è‡´

### 7.7 æ‰«ç æˆæƒ

**æ“ä½œæ­¥éª¤ï¼š**

1. æ‰“å¼€å¾®ä¿¡æ‰‹æœº App

2. ç‚¹å‡»å³ä¸Šè§’çš„"æ‰«ä¸€æ‰«"

3. æ‰«æç”µè„‘å±å¹•ä¸Šçš„äºŒç»´ç 

4. æŸ¥çœ‹æˆæƒé¡µé¢

**é¢„æœŸæ˜¾ç¤ºï¼š**
```
çµå€¼ç”Ÿæ€å›­ è¯·æ±‚è·å¾—ä»¥ä¸‹æƒé™ï¼š

è·å¾—ä½ çš„å…¬å¼€ä¿¡æ¯ï¼ˆæ˜µç§°ã€å¤´åƒç­‰ï¼‰

æˆæƒåï¼Œè¯¥åº”ç”¨å°†èƒ½è®¿é—®ä½ çš„å…¬å¼€ä¿¡æ¯ã€‚
```

**å¦‚æœæ˜¾ç¤ºå…¶ä»–ä¿¡æ¯ï¼š**
- æ£€æŸ¥åº”ç”¨åç§°æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥æˆæƒèŒƒå›´æ˜¯å¦æ­£ç¡®

### 7.8 ç¡®è®¤æˆæƒ

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨æ‰‹æœºä¸Šï¼Œç‚¹å‡»"ç¡®è®¤æˆæƒ"æŒ‰é’®

**é¢„æœŸè¡Œä¸ºï¼š**
- æ‰‹æœºæ˜¾ç¤º"æˆæƒæˆåŠŸ"
- ç”µè„‘æµè§ˆå™¨ä¼šè‡ªåŠ¨è·³è½¬

### 7.9 è§‚å¯Ÿå›è°ƒè¿‡ç¨‹

**æ“ä½œæ­¥éª¤ï¼š**

1. è§‚å¯Ÿæµè§ˆå™¨åœ°å€æ 

2. åœ°å€æ ä¼šæ˜¾ç¤ºï¼š

```
https://meiyueart.com/wechat/callback?code=xxx&state=xxx
```

**é¢„æœŸè¡Œä¸ºï¼š**
- é¡µé¢æ˜¾ç¤º"å¤„ç†ä¸­..."åŠ è½½åŠ¨ç”»
- 1-2ç§’åè‡ªåŠ¨è·³è½¬

**å¦‚æœåœç•™åœ¨å›è°ƒé¡µé¢ï¼š**
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
- æ£€æŸ¥æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯

### 7.10 éªŒè¯ç™»å½•çŠ¶æ€

**æ“ä½œæ­¥éª¤ï¼š**

1. è§‚å¯Ÿè·³è½¬åçš„é¡µé¢

**å¦‚æœé¦–æ¬¡ç™»å½•ï¼š**
- åº”è¯¥è·³è½¬åˆ° `/complete-profile` é¡µé¢
- é¡µé¢æ˜¾ç¤ºä¿¡æ¯å®Œå–„è¡¨å•

**å¦‚æœä¸æ˜¯é¦–æ¬¡ç™»å½•ï¼š**
- åº”è¯¥è·³è½¬åˆ°é¦–é¡µ
- ç”¨æˆ·ä¿¡æ¯æ­£å¸¸æ˜¾ç¤º

2. æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯

**é¢„æœŸæ˜¾ç¤ºï¼š**
- ç”¨æˆ·åæˆ–æ˜µç§°æ˜¾ç¤ºåœ¨å³ä¸Šè§’
- å¯ä»¥ç‚¹å‡»æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…

### 7.11 æ£€æŸ¥åç«¯æ—¥å¿—

**æ“ä½œæ­¥éª¤ï¼š**

1. å›åˆ°åç«¯æœåŠ¡çš„ç»ˆç«¯çª—å£

2. æŸ¥çœ‹æ—¥å¿—è¾“å‡º

**é¢„æœŸæ—¥å¿—ï¼š**
```
[INFO] æ”¶åˆ°å¾®ä¿¡æˆæƒå›è°ƒï¼Œcode: 081abc123, state: def456
[INFO] å¾®ä¿¡æˆæƒæˆåŠŸï¼Œè·å–ç”¨æˆ·ä¿¡æ¯
[INFO] åˆ›å»ºæ–°ç”¨æˆ·: wx_openid_123456
[INFO] ç”¨æˆ·åˆ›å»ºæˆåŠŸï¼ŒID: 123
[INFO] è¿”å›ç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°å®Œå–„ä¿¡æ¯é¡µé¢
```

**å¦‚æœçœ‹åˆ°é”™è¯¯ï¼š**
```
[ERROR] è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥ï¼šinvalid credential
```

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥ AppID å’Œ AppSecret æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ access_token æ˜¯å¦æœ‰æ•ˆ

### 7.12 æ£€æŸ¥æ•°æ®åº“

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹æ–°åˆ›å»ºçš„ç”¨æˆ·ï¼š

```bash
sqlite3 lingzhi_ecosystem.db "SELECT id, username, login_type, wechat_nickname FROM users WHERE login_type='wechat' ORDER BY id DESC LIMIT 1;"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
123|wx_openid_123456|wechat|å¼ ä¸‰
```

2. æŸ¥çœ‹ user_profiles è¡¨ï¼š

```bash
sqlite3 lingzhi_ecosystem.db "SELECT * FROM user_profiles WHERE user_id=123;"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
| 123| | | | | | | | | | | |
```

**è¯´æ˜ç”¨æˆ·ä¿¡æ¯è¿˜æœªå®Œå–„ã€‚**

### 7.13 å®Œå–„ç”¨æˆ·ä¿¡æ¯

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨ä¿¡æ¯å®Œå–„é¡µé¢ï¼Œå¡«å†™è¡¨å•ï¼š

```
çœŸå®å§“åï¼šå¼ ä¸‰
æ‰‹æœºå·ï¼š13800138000
é‚®ç®±ï¼šzhangsan@example.com
èº«ä»½è¯ï¼š610XXXXXXXXXXXXXXX
é“¶è¡Œè´¦å·ï¼š6222021234567890123
å¼€æˆ·è¡Œï¼šå·¥å•†é“¶è¡Œè¥¿å®‰åˆ†è¡Œ
åœ°å€ï¼šé™•è¥¿çœè¥¿å®‰å¸‚é›å¡”åŒºXXè·¯XXå·
```

2. ç‚¹å‡»"æäº¤ä¿¡æ¯"æŒ‰é’®

**é¢„æœŸè¡Œä¸ºï¼š**
- æ˜¾ç¤º"æäº¤ä¸­..."åŠ è½½çŠ¶æ€
- 1-2ç§’åæ˜¾ç¤º"ä¿¡æ¯å®Œå–„æˆåŠŸï¼"
- è‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ

**å¦‚æœæŠ¥é”™ï¼š**
```
æ‰‹æœºå·å·²å­˜åœ¨
```

**è§£å†³æ–¹æ¡ˆï¼š**
- æ›´æ¢æ‰‹æœºå·
- æˆ–è€…ä½¿ç”¨å·²æœ‰è´¦å·ç™»å½•

### 7.14 éªŒè¯ä¿¡æ¯ä¿å­˜

**æ“ä½œæ­¥éª¤ï¼š**

1. æŸ¥çœ‹ user_profiles è¡¨ï¼š

```bash
sqlite3 lingzhi_ecosystem.db "SELECT * FROM user_profiles WHERE user_id=123;"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
1|123|å¼ ä¸‰|13800138000|zhangsan@example.com|610XXXXXXXXXXXXXXX|6222021234567890123|å·¥å•†é“¶è¡Œè¥¿å®‰åˆ†è¡Œ|é™•è¥¿çœè¥¿å®‰å¸‚é›å¡”åŒºXXè·¯XXå·|1|2026-02-01 16:00:00|2026-02-01 16:00:00|2026-02-01 16:00:00
```

### 7.15 æµ‹è¯•å†æ¬¡ç™»å½•

**æ“ä½œæ­¥éª¤ï¼š**

1. é€€å‡ºç™»å½•

2. å†æ¬¡ç‚¹å‡»"å¾®ä¿¡ç™»å½•"æŒ‰é’®

3. æ‰«ç æˆæƒ

**é¢„æœŸè¡Œä¸ºï¼š**
- ä¸å†è·³è½¬åˆ°ä¿¡æ¯å®Œå–„é¡µé¢
- ç›´æ¥è¿›å…¥é¦–é¡µ
- ç”¨æˆ·ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º

### 7.16 åœæ­¢æœåŠ¡

**æ“ä½œæ­¥éª¤ï¼š**

1. å›åˆ°åç«¯æœåŠ¡ç»ˆç«¯çª—å£ï¼ŒæŒ‰ `Ctrl + C` åœæ­¢æœåŠ¡

2. å›åˆ°å‰ç«¯æœåŠ¡ç»ˆç«¯çª—å£ï¼ŒæŒ‰ `Ctrl + C` åœæ­¢æœåŠ¡

### 7.17 æµ‹è¯•æ£€æŸ¥æ¸…å•

åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹æ‰€æœ‰é¡¹ç›®éƒ½å·²é€šè¿‡ï¼š

- [ ] åç«¯æœåŠ¡å¯ä»¥æ­£å¸¸å¯åŠ¨
- [ ] å‰ç«¯æœåŠ¡å¯ä»¥æ­£å¸¸å¯åŠ¨
- [ ] å¯ä»¥æ­£å¸¸è®¿é—®æœ¬åœ°ç½‘ç«™
- [ ] ç™»å½•é¡µé¢æ˜¾ç¤º"å¾®ä¿¡ç™»å½•"æŒ‰é’®
- [ ] ç‚¹å‡»æŒ‰é’®å¯ä»¥è·³è½¬åˆ°å¾®ä¿¡æˆæƒé¡µé¢
- [ ] æ‰«ç å¯ä»¥æ˜¾ç¤ºæˆæƒä¿¡æ¯
- [ ] ç¡®è®¤æˆæƒåå¯ä»¥æ­£å¸¸å›è°ƒ
- [ ] é¦–æ¬¡ç™»å½•è·³è½¬åˆ°ä¿¡æ¯å®Œå–„é¡µé¢
- [ ] å¯ä»¥æˆåŠŸå¡«å†™å’Œæäº¤ä¿¡æ¯
- [ ] ç”¨æˆ·ä¿¡æ¯æ­£ç¡®ä¿å­˜åˆ°æ•°æ®åº“
- [ ] å†æ¬¡ç™»å½•ä¸è·³è½¬åˆ°ä¿¡æ¯å®Œå–„é¡µé¢
- [ ] ç”¨æˆ·ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º

**å¦‚æœæœ‰ä»»ä½•ä¸€é¡¹æœªé€šè¿‡ï¼Œè¯·å…ˆè§£å†³ï¼Œç„¶åå†ç»§ç»­ã€‚**

---

## 8. éƒ¨ç½²åˆ°æœåŠ¡å™¨

### 8.1 å‡†å¤‡éƒ¨ç½²

**å‰ææ¡ä»¶ï¼š**
- âœ… æœ¬åœ°æµ‹è¯•å·²é€šè¿‡
- âœ… æœ‰æœåŠ¡å™¨ SSH è®¿é—®æƒé™
- âœ… å·²æœ‰å¤‡æ¡ˆçš„åŸŸå
- âœ… å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®å·²å®Œæˆ

### 8.2 ç™»å½•æœåŠ¡å™¨

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨æœ¬åœ°ç»ˆç«¯è¾“å…¥ï¼š

```bash
ssh root@123.56.142.143
```

2. è¾“å…¥å¯†ç ï¼š`Meiyue@root123`

3. æŒ‰å›è½¦

**é¢„æœŸè¾“å‡ºï¼š**
```
Welcome to Ubuntu 22.04.4 LTS (GNU/Linux 5.15.0-91-generic x86_64)

 * Documentation:  https://help.ubuntu.com/
 * Management:     https://landscape.canonical.com/
 * Support:        https://ubuntu.com/advantage

root@iZ2ze3zr62zvydo1d3k8b9Z:~#
```

### 8.3 æ›´æ–°ç³»ç»Ÿ

**æ“ä½œæ­¥éª¤ï¼š**

```bash
apt-get update && apt-get upgrade -y
```

**é¢„æœŸè¾“å‡ºï¼š**
```
Hit:1 http://mirrors.aliyun.com/ubuntu jammy InRelease
...
Reading package lists... Done
Building dependency tree... Done
...
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
```

### 8.4 æ£€æŸ¥æœåŠ¡å™¨ç¯å¢ƒ

**æ“ä½œæ­¥éª¤ï¼š**

1. æ£€æŸ¥ Python ç‰ˆæœ¬ï¼š

```bash
python3 --version
```

**é¢„æœŸè¾“å‡ºï¼š**
```
Python 3.13.0
```

2. æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼š

```bash
node --version
```

**é¢„æœŸè¾“å‡ºï¼š**
```
v18.17.0
```

3. æ£€æŸ¥ Nginx ç‰ˆæœ¬ï¼š

```bash
nginx -v
```

**é¢„æœŸè¾“å‡ºï¼š**
```
nginx version: nginx/1.24.0
```

### 8.5 éƒ¨ç½²åç«¯ä»£ç 

**æ“ä½œæ­¥éª¤ï¼š**

1. **åœ¨æœ¬åœ°ç»ˆç«¯**ï¼Œè¿›å…¥é¡¹ç›®ç›®å½•ï¼š

```bash
cd /workspace/projects
```

2. æ‰“åŒ…åç«¯ä»£ç ï¼š

```bash
tar -czf lingzhi-backend-$(date +%Y%m%d-%H%M%S).tar.gz admin-backend/
```

3. ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š

```bash
scp lingzhi-backend-$(date +%Y%m%d-%H%M%S).tar.gz root@123.56.142.143:/tmp/
```

4. **åœ¨æœåŠ¡å™¨ä¸Š**ï¼Œè§£å‹æ–‡ä»¶ï¼š

```bash
cd /tmp
tar -xzf lingzhi-backend-*.tar.gz
```

5. å¤‡ä»½æ—§ä»£ç ï¼š

```bash
cd /var/www
cp -r backend backend.backup.$(date +%Y%m%d-%H%M%S)
```

6. å¤åˆ¶æ–°ä»£ç ï¼š

```bash
rm -rf /var/www/backend/*
cp -r /tmp/admin-backend/* /var/www/backend/
```

7. é…ç½® .env æ–‡ä»¶ï¼š

```bash
cd /var/www/backend
nano .env
```

8. æ·»åŠ å¾®ä¿¡é…ç½®ï¼š

```env
# ====================================
# å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®
# ====================================
WECHAT_APP_ID=wx1234567890abcdef
WECHAT_APP_SECRET=1234567890abcdef1234567890abcdef
WECHAT_REDIRECT_URI=https://meiyueart.com/wechat/callback
```

9. ä¿å­˜æ–‡ä»¶ï¼š
   - æŒ‰ `Ctrl + O`
   - æŒ‰ `Enter`
   - æŒ‰ `Ctrl + X`

10. è®¾ç½®æ–‡ä»¶æƒé™ï¼š

```bash
chmod 600 .env
```

11. å®‰è£…ä¾èµ–ï¼š

```bash
pip3 install -r requirements.txt
```

12. é‡å¯æœåŠ¡ï¼š

```bash
systemctl restart lingzhi-api
```

13. æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š

```bash
systemctl status lingzhi-api
```

**é¢„æœŸè¾“å‡ºï¼š**
```
â— lingzhi-api.service - Lingzhi Ecosystem API Service
   Loaded: loaded (/etc/systemd/system/lingzhi-api.service; enabled; preset: enabled)
   Active: active (running) since Sun 2026-02-01 16:00:00 CST; 10s ago
```

### 8.6 éƒ¨ç½²å‰ç«¯ä»£ç 

**æ“ä½œæ­¥éª¤ï¼š**

1. **åœ¨æœ¬åœ°ç»ˆç«¯**ï¼Œæ„å»ºå‰ç«¯ï¼š

```bash
cd /workspace/projects/web-app
npm run build
```

2. æ‰“åŒ…æ„å»ºäº§ç‰©ï¼š

```bash
cd /workspace/projects
tar -czf lingzhi-frontend-$(date +%Y%m%d-%H%M%S).tar.gz web-app/dist/
```

3. ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š

```bash
scp lingzhi-frontend-$(date +%Y%m%d-%H%M%S).tar.gz root@123.56.142.143:/tmp/
```

4. **åœ¨æœåŠ¡å™¨ä¸Š**ï¼Œè§£å‹æ–‡ä»¶ï¼š

```bash
cd /tmp
tar -xzf lingzhi-frontend-*.tar.gz
```

5. å¤‡ä»½æ—§ä»£ç ï¼š

```bash
cd /var/www
cp -r html html.backup.$(date +%Y%m%d-%H%M%S)
```

6. å¤åˆ¶æ–°ä»£ç ï¼š

```bash
rm -rf /var/www/html/*
cp -r /tmp/web-app/dist/* /var/www/html/
```

7. è®¾ç½®æ–‡ä»¶æƒé™ï¼š

```bash
chown -R www-data:www-data /var/www/html
chmod -R 755 /var/www/html
```

### 8.7 é…ç½® Nginx

**æ“ä½œæ­¥éª¤ï¼š**

1. ç¼–è¾‘ Nginx é…ç½®ï¼š

```bash
nano /etc/nginx/sites-available/meiyueart.com
```

2. æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```nginx
server {
    listen 80;
    server_name meiyueart.com www.meiyueart.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /var/www/html;
        try_files $uri $uri/ /index.html;
        index index.html;
        
        # ç¼“å­˜é…ç½®
        add_header Cache-Control "public, max-age=3600";
    }

    # åç«¯ API ä»£ç†
    location /api/ {
        proxy_pass http://localhost:8001/api/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # è¶…æ—¶é…ç½®
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }

    # ç¦æ­¢è®¿é—®éšè—æ–‡ä»¶
    location ~ /\. {
        deny all;
    }
}
```

3. ä¿å­˜æ–‡ä»¶ï¼š
   - æŒ‰ `Ctrl + O`
   - æŒ‰ `Enter`
   - æŒ‰ `Ctrl + X`

4. æµ‹è¯•é…ç½®ï¼š

```bash
nginx -t
```

**é¢„æœŸè¾“å‡ºï¼š**
```
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
```

5. é‡å¯ Nginxï¼š

```bash
systemctl reload nginx
```

### 8.8 é…ç½® SSL è¯ä¹¦ï¼ˆå¼ºçƒˆæ¨èï¼‰

**æ“ä½œæ­¥éª¤ï¼š**

1. å®‰è£… Certbotï¼š

```bash
apt-get install certbot python3-certbot-nginx -y
```

2. ç”³è¯·è¯ä¹¦ï¼š

```bash
certbot --nginx -d meiyueart.com -d www.meiyueart.com
```

3. æŒ‰æç¤ºæ“ä½œï¼š
   - è¾“å…¥é‚®ç®±åœ°å€
   - åŒæ„æ¡æ¬¾ï¼ˆè¾“å…¥ `Y`ï¼‰
   - é€‰æ‹©æ˜¯å¦å…±äº«é‚®ç®±ï¼ˆè¾“å…¥ `N`ï¼‰
   - é€‰æ‹©é‡å®šå‘æ–¹å¼ï¼ˆè¾“å…¥ `2`ï¼Œé€‰æ‹© HTTPSï¼‰

4. éªŒè¯è¯ä¹¦ï¼š

```bash
certbot certificates
```

**é¢„æœŸè¾“å‡ºï¼š**
```
Certificate Name: meiyueart.com
  Domains: meiyueart.com www.meiyueart.com
  Expiry Date: 2026-05-01 16:00:00+00:00 (VALID: 89 days)
  Certificate Path: /etc/letsencrypt/live/meiyueart.com/fullchain.pem
  Private Key Path: /etc/letsencrypt/live/meiyueart.com/privkey.pem
```

### 8.9 æµ‹è¯•ç”Ÿäº§ç¯å¢ƒ

**æ“ä½œæ­¥éª¤ï¼š**

1. åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

```
https://meiyueart.com
```

2. æµ‹è¯•å¾®ä¿¡ç™»å½•æµç¨‹ï¼š
   - ç‚¹å‡»"ç™»å½•"æŒ‰é’®
   - ç‚¹å‡»"å¾®ä¿¡ç™»å½•"æŒ‰é’®
   - æ‰«ç æˆæƒ
   - å®Œå–„ä¿¡æ¯
   - éªŒè¯ç™»å½•æˆåŠŸ

### 8.10 éƒ¨ç½²æ£€æŸ¥æ¸…å•

åœ¨å®Œæˆéƒ¨ç½²åï¼Œè¯·ç¡®è®¤ä»¥ä¸‹æ‰€æœ‰é¡¹ç›®éƒ½å·²é€šè¿‡ï¼š

- [ ] æœåŠ¡å™¨å¯ä»¥æ­£å¸¸ SSH ç™»å½•
- [ ] Python ç‰ˆæœ¬ >= 3.13
- [ ] Node.js ç‰ˆæœ¬ >= 18.x
- [ ] Nginx å·²å®‰è£…å¹¶è¿è¡Œ
- [ ] åç«¯ä»£ç å·²ä¸Šä¼ 
- [ ] .env æ–‡ä»¶å·²é…ç½®
- [ ] åç«¯æœåŠ¡å·²é‡å¯
- [ ] å‰ç«¯ä»£ç å·²ä¸Šä¼ 
- [ ] Nginx é…ç½®å·²æ›´æ–°
- [ ] SSL è¯ä¹¦å·²é…ç½®
- [ ] ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®
- [ ] å¾®ä¿¡ç™»å½•åŠŸèƒ½æ­£å¸¸

**å¦‚æœæœ‰ä»»ä½•ä¸€é¡¹æœªé€šè¿‡ï¼Œè¯·å…ˆè§£å†³ï¼Œç„¶åå†ç»§ç»­ã€‚**

---

## 9. å¸¸è§é—®é¢˜è§£å†³

### 9.1 é—®é¢˜ï¼šæˆæƒå¤±è´¥ - redirect_uri å‚æ•°é”™è¯¯

**ç°è±¡ï¼š**
å¾®ä¿¡æˆæƒé¡µé¢æ˜¾ç¤º "redirect_uri å‚æ•°é”™è¯¯"

**åŸå› ï¼š**
å›è°ƒåœ°å€é…ç½®ä¸æ­£ç¡®

**è§£å†³æ–¹æ¡ˆï¼š**

**æ­¥éª¤ 1ï¼šæ£€æŸ¥ .env é…ç½®**

```bash
cat /var/www/backend/.env | grep WECHAT_REDIRECT_URI
```

**é¢„æœŸè¾“å‡ºï¼š**
```
WECHAT_REDIRECT_URI=https://meiyueart.com/wechat/callback
```

**æ£€æŸ¥è¦ç‚¹ï¼š**
- âœ… åè®®ä¸º `https`
- âœ… åŸŸåä¸º `meiyueart.com`
- âœ… è·¯å¾„ä¸º `/wechat/callback`

**æ­¥éª¤ 2ï¼šæ£€æŸ¥å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®**

1. ç™»å½•å¾®ä¿¡å¼€æ”¾å¹³å°
2. è¿›å…¥åº”ç”¨è¯¦æƒ…é¡µ
3. æŸ¥çœ‹"æˆæƒå›è°ƒåŸŸ"

**é¢„æœŸå€¼ï¼š**
```
meiyueart.com
```

**æ£€æŸ¥è¦ç‚¹ï¼š**
- âœ… åªåŒ…å«åŸŸåï¼ˆä¸å«åè®®å’Œè·¯å¾„ï¼‰
- âœ… ä¸ .env ä¸­çš„åŸŸåä¸€è‡´

**æ­¥éª¤ 3ï¼šæ¯”è¾ƒé…ç½®**

```bash
# æå–åŸŸå
echo "https://meiyueart.com/wechat/callback" | sed 's|https://||' | sed 's|/wechat/callback||'
```

**é¢„æœŸè¾“å‡ºï¼š**
```
meiyueart.com
```

**æ­¥éª¤ 4ï¼šé‡å¯æœåŠ¡**

```bash
systemctl restart lingzhi-api
```

**æ­¥éª¤ 5ï¼šé‡æ–°æµ‹è¯•**

åˆ·æ–°æµè§ˆå™¨ï¼Œé‡æ–°æµ‹è¯•å¾®ä¿¡ç™»å½•ã€‚

### 9.2 é—®é¢˜ï¼šæˆæƒå¤±è´¥ - AppID æˆ– AppSecret é”™è¯¯

**ç°è±¡ï¼š**
å¾®ä¿¡æˆæƒé¡µé¢æ˜¾ç¤º "AppID æˆ– AppSecret é”™è¯¯"

**åŸå› ï¼š**
AppID æˆ– AppSecret é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**

**æ­¥éª¤ 1ï¼šæ£€æŸ¥ AppID**

```bash
cat /var/www/backend/.env | grep WECHAT_APP_ID
```

**é¢„æœŸè¾“å‡ºï¼š**
```
WECHAT_APP_ID=wx1234567890abcdef
```

**æ£€æŸ¥è¦ç‚¹ï¼š**
- âœ… ä»¥ `wx` å¼€å¤´
- âœ… æ€»å…± 18 ä½
- âœ… æ ¼å¼æ­£ç¡®

**æ­¥éª¤ 2ï¼šæ£€æŸ¥ AppSecret**

```bash
cat /var/www/backend/.env | grep WECHAT_APP_SECRET
```

**é¢„æœŸè¾“å‡ºï¼š**
```
WECHAT_APP_SECRET=1234567890abcdef1234567890abcdef
```

**æ£€æŸ¥è¦ç‚¹ï¼š**
- âœ… 32 ä½å­—ç¬¦
- âœ… åªåŒ…å«å­—æ¯å’Œæ•°å­—

**æ­¥éª¤ 3ï¼šéªŒè¯é…ç½®**

```bash
python3 -c "
import os
from dotenv import load_dotenv
load_dotenv()
appid = os.getenv('WECHAT_APP_ID')
secret = os.getenv('WECHAT_APP_SECRET')
print(f'AppID: {appid}')
print(f'AppID é•¿åº¦: {len(appid) if appid else 0}')
print(f'AppSecret: {secret[:4]}...{secret[-4:] if secret else \"\"}')
print(f'AppSecret é•¿åº¦: {len(secret) if secret else 0}')
"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
AppID: wx1234567890abcdef
AppID é•¿åº¦: 18
AppSecret: 1234...bcde
AppSecret é•¿åº¦: 32
```

**æ­¥éª¤ 4ï¼šå¦‚æœé…ç½®é”™è¯¯ï¼Œé‡æ–°é…ç½®**

```bash
nano /var/www/backend/.env
```

ä¿®æ”¹ä¸ºæ­£ç¡®çš„å€¼ï¼š

```env
WECHAT_APP_ID=wx1234567890abcdef
WECHAT_APP_SECRET=1234567890abcdef1234567890abcdef
```

**æ­¥éª¤ 5ï¼šé‡å¯æœåŠ¡**

```bash
systemctl restart lingzhi-api
```

### 9.3 é—®é¢˜ï¼šæˆæƒæˆåŠŸä½†å›è°ƒå¤±è´¥

**ç°è±¡ï¼š**
å¾®ä¿¡æˆæƒæˆåŠŸï¼Œä½†å›è°ƒåˆ°æœåŠ¡å™¨æ—¶å¤±è´¥

**åŸå› ï¼š**
åç«¯æœåŠ¡æœªè¿è¡Œæˆ–ç«¯å£æœªå¼€æ”¾

**è§£å†³æ–¹æ¡ˆï¼š**

**æ­¥éª¤ 1ï¼šæ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€**

```bash
systemctl status lingzhi-api
```

**é¢„æœŸè¾“å‡ºï¼š**
```
â— lingzhi-api.service - Lingzhi Ecosystem API Service
   Loaded: loaded (/etc/systemd/system/lingzhi-api.service; enabled; preset: enabled)
   Active: active (running) since Sun 2026-02-01 16:00:00 CST; 10s ago
```

**å¦‚æœçŠ¶æ€ä¸æ˜¯ `active (running)`ï¼š**

```bash
systemctl start lingzhi-api
```

**æ­¥éª¤ 2ï¼šæ£€æŸ¥ç«¯å£ç›‘å¬**

```bash
netstat -tlnp | grep 8001
```

**é¢„æœŸè¾“å‡ºï¼š**
```
tcp        0      0 0.0.0.0:8001            0.0.0.0:*               LISTEN      12345/python3.13
```

**å¦‚æœæ— è¾“å‡ºï¼š**
- ç«¯å£æœªè¢«ç›‘å¬
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨

**æ­¥éª¤ 3ï¼šæ£€æŸ¥é˜²ç«å¢™**

```bash
ufw status
```

**é¢„æœŸè¾“å‡ºï¼š**
```
Status: active

To                         Action      From
--                         ------      ----
80/tcp                     ALLOW       Anywhere
443/tcp                    ALLOW       Anywhere
8001/tcp                   ALLOW       Anywhere
```

**å¦‚æœç«¯å£æœªå¼€æ”¾ï¼š**

```bash
ufw allow 8001/tcp
```

**æ­¥éª¤ 4ï¼šæ£€æŸ¥ Nginx é…ç½®**

```bash
cat /etc/nginx/sites-available/meiyueart.com | grep -A 5 "location /api/"
```

**é¢„æœŸè¾“å‡ºï¼š**
```nginx
location /api/ {
    proxy_pass http://localhost:8001/api/;
    ...
}
```

**æ­¥éª¤ 5ï¼šæµ‹è¯•å›è°ƒåœ°å€å¯è®¿é—®æ€§**

```bash
curl -I https://meiyueart.com/api/wechat/callback
```

**é¢„æœŸè¾“å‡ºï¼š**
```
HTTP/1.1 200 OK
Server: nginx
...
```

**æ­¥éª¤ 6ï¼šé‡å¯æœåŠ¡**

```bash
systemctl restart nginx
systemctl restart lingzhi-api
```

### 9.4 é—®é¢˜ï¼šæ— æ³•è·å–ç”¨æˆ·ä¿¡æ¯

**ç°è±¡ï¼š**
æˆæƒæˆåŠŸï¼Œä½†æ— æ³•è·å–ç”¨æˆ·ä¿¡æ¯

**åŸå› ï¼š**
scope é…ç½®ä¸æ­£ç¡®æˆ– access_token æ— æ•ˆ

**è§£å†³æ–¹æ¡ˆï¼š**

**æ­¥éª¤ 1ï¼šæ£€æŸ¥ scope é…ç½®**

```bash
grep -n "scope=" /var/www/backend/app.py
```

**é¢„æœŸè¾“å‡ºï¼š**
```
35:scope=snsapi_userinfo
```

**æ£€æŸ¥è¦ç‚¹ï¼š**
- âœ… scope åŒ…å« `snsapi_userinfo`
- âœ… ä¸æ˜¯ `snsapi_base`

**æ­¥éª¤ 2ï¼šæŸ¥çœ‹åç«¯æ—¥å¿—**

```bash
journalctl -u lingzhi-api -n 50
```

**æ£€æŸ¥è¦ç‚¹ï¼š**
- æŸ¥çœ‹è·å–ç”¨æˆ·ä¿¡æ¯çš„é”™è¯¯
- æ£€æŸ¥ access_token æ˜¯å¦æœ‰æ•ˆ

**æ­¥éª¤ 3ï¼šæ‰‹åŠ¨æµ‹è¯•è·å–ç”¨æˆ·ä¿¡æ¯**

```bash
# æ›¿æ¢ ACCESS_TOKEN å’Œ OPENID
curl -s "https://api.weixin.qq.com/sns/userinfo?access_token=ACCESS_TOKEN&openid=OPENID" | python3 -m json.tool
```

**é¢„æœŸè¾“å‡ºï¼š**
```json
{
    "openid": "OPENID",
    "nickname": "ç”¨æˆ·æ˜µç§°",
    "sex": 1,
    "province": "å¹¿ä¸œ",
    "city": "æ·±åœ³",
    "country": "ä¸­å›½",
    "headimgurl": "https://thirdwx.qlogo.cn/..."
}
```

**å¦‚æœè¿”å›é”™è¯¯ï¼š**
```json
{
    "errcode": 40001,
    "errmsg": "invalid credential, access_token is invalid or not latest"
}
```

**è¯´æ˜ access_token æ— æ•ˆï¼Œéœ€è¦æ£€æŸ¥åç«¯ä»£ç ã€‚**

### 9.5 é—®é¢˜ï¼šæ•°æ®åº“å­—æ®µä¸å­˜åœ¨

**ç°è±¡ï¼š**
è¿è¡Œæ—¶æç¤ºæ•°æ®åº“å­—æ®µä¸å­˜åœ¨

**åŸå› ï¼š**
æ•°æ®åº“è¡¨ç»“æ„ä¸å®Œæ•´

**è§£å†³æ–¹æ¡ˆï¼š**

**æ­¥éª¤ 1ï¼šæ£€æŸ¥ users è¡¨ç»“æ„**

```bash
sqlite3 /var/www/backend/lingzhi_ecosystem.db "PRAGMA table_info(users);"
```

**æ£€æŸ¥è¦ç‚¹ï¼š**
- âœ… æ˜¯å¦åŒ…å« `login_type` å­—æ®µ
- âœ… æ˜¯å¦åŒ…å« `wechat_openid` å­—æ®µ
- âœ… æ˜¯å¦åŒ…å« `wechat_unionid` å­—æ®µ
- âœ… æ˜¯å¦åŒ…å« `wechat_nickname` å­—æ®µ
- âœ… æ˜¯å¦åŒ…å« `wechat_avatar` å­—æ®µ

**æ­¥éª¤ 2ï¼šæ£€æŸ¥ user_profiles è¡¨æ˜¯å¦å­˜åœ¨**

```bash
sqlite3 /var/www/backend/lingzhi_ecosystem.db "SELECT name FROM sqlite_master WHERE type='table' AND name='user_profiles';"
```

**é¢„æœŸè¾“å‡ºï¼š**
```
user_profiles
```

**æ­¥éª¤ 3ï¼šæ‰‹åŠ¨æ·»åŠ ç¼ºå¤±å­—æ®µ**

```bash
sqlite3 /var/www/backend/lingzhi_ecosystem.db << 'EOF'
ALTER TABLE users ADD COLUMN login_type TEXT DEFAULT 'phone';
ALTER TABLE users ADD COLUMN wechat_openid TEXT UNIQUE;
ALTER TABLE users ADD COLUMN wechat_unionid TEXT;
ALTER TABLE users ADD COLUMN wechat_nickname TEXT;
ALTER TABLE users ADD COLUMN wechat_avatar TEXT;
EOF
```

**æ­¥éª¤ 4ï¼šåˆ›å»º user_profiles è¡¨**

```bash
sqlite3 /var/www/backend/lingzhi_ecosystem.db << 'EOF'
CREATE TABLE user_profiles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER UNIQUE NOT NULL,
    real_name TEXT,
    phone TEXT UNIQUE,
    email TEXT UNIQUE,
    id_card TEXT,
    bank_account TEXT,
    bank_name TEXT,
    address TEXT,
    is_completed BOOLEAN DEFAULT 0,
    completed_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
EOF
```

**æ­¥éª¤ 5ï¼šé‡å¯æœåŠ¡**

```bash
systemctl restart lingzhi-api
```

---

## ğŸ“ é™„å½•ï¼šå¿«é€Ÿå‚è€ƒ

### å¸¸ç”¨å‘½ä»¤

```bash
# åç«¯æœåŠ¡ç®¡ç†
systemctl start lingzhi-api          # å¯åŠ¨æœåŠ¡
systemctl stop lingzhi-api           # åœæ­¢æœåŠ¡
systemctl restart lingzhi-api        # é‡å¯æœåŠ¡
systemctl status lingzhi-api         # æŸ¥çœ‹çŠ¶æ€

# æŸ¥çœ‹æ—¥å¿—
journalctl -u lingzhi-api -f         # å®æ—¶æ—¥å¿—
journalctl -u lingzhi-api -n 50      # æœ€è¿‘50æ¡

# Nginx ç®¡ç†
systemctl start nginx                # å¯åŠ¨ Nginx
systemctl stop nginx                 # åœæ­¢ Nginx
systemctl restart nginx              # é‡å¯ Nginx
nginx -t                             # æµ‹è¯•é…ç½®

# æ•°æ®åº“æ“ä½œ
sqlite3 lingzhi_ecosystem.db ".schema users"  # æŸ¥çœ‹è¡¨ç»“æ„
sqlite3 lingzhi_ecosystem.db "SELECT * FROM users LIMIT 10"  # æŸ¥è¯¢æ•°æ®
```

### é…ç½®æ–‡ä»¶æ¨¡æ¿

**admin-backend/.env**

```env
# å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®
WECHAT_APP_ID=wx1234567890abcdef
WECHAT_APP_SECRET=1234567890abcdef1234567890abcdef
WECHAT_REDIRECT_URI=https://meiyueart.com/wechat/callback
```

---

## ğŸ‰ æ­å–œä½ å®Œæˆäº†ï¼

å¦‚æœä½ å·²ç»æŒ‰ç…§æœ¬æŒ‡å—å®Œæˆäº†æ‰€æœ‰æ­¥éª¤ï¼Œé‚£ä¹ˆä½ çš„å¾®ä¿¡ç™»å½•åŠŸèƒ½å·²ç»æˆåŠŸéƒ¨ç½²äº†ï¼

**ä¸‹ä¸€æ­¥ï¼š**
1. è®¿é—®ä½ çš„ç½‘ç«™æµ‹è¯•å¾®ä¿¡ç™»å½•åŠŸèƒ½
2. é‚€è¯·æœ‹å‹æµ‹è¯•
3. ç›‘æ§æ—¥å¿—ï¼Œç¡®ä¿ç¨³å®šè¿è¡Œ
4. å®šæœŸå¤‡ä»½æ•°æ®åº“

**å¦‚æœé‡åˆ°é—®é¢˜ï¼š**
1. æŸ¥çœ‹æœ¬ç« çš„å¸¸è§é—®é¢˜è§£å†³
2. æŸ¥çœ‹åç«¯æ—¥å¿—
3. æŸ¥çœ‹å¾®ä¿¡å¼€æ”¾å¹³å°çš„é”™è¯¯ç è¯´æ˜

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€
